/*! For license information please see main.1133c1c4.js.LICENSE.txt */
(()=>{var e={219:(e,t,n)=>{"use strict";var r=n(763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(e){return r.isMemo(e)?a:o[e.$$typeof]||i}o[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var a=u(n);h&&(a=a.concat(h(n)));for(var o=l(t),m=l(n),g=0;g<a.length;++g){var v=a[g];if(!s[v]&&(!r||!r[v])&&(!m||!m[v])&&(!o||!o[v])){var y=d(n,v);try{c(t,v,y)}catch(b){}}}}return t}},983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case s:case o:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case d:case g:case m:case l:return e;default:return t}}case i:return t}}}function x(e){return _(e)===h}t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=d,t.Fragment=s,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=o,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return x(e)||_(e)===u},t.isConcurrentMode=x,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===s},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===o},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===h||e===o||e===a||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=_},763:(e,t,n)=>{"use strict";e.exports=n(983)},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,a){if(a!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case C:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function se(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Ee=null;function Ce(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),xe(e.stateNode,e.type,t))}}function ke(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Te(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var je=!1;function Pe(e,t,n){if(je)return e(t,n);je=!0;try{return Ie(e,t,n)}finally{je=!1,(null!==Se||null!==Ee)&&(Ne(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ae=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){Ae=!1}function De(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,Me=e}};function ze(e,t,n,r,i,s,a,o,l){Le=!1,Me=null,De.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return qe(i),e;if(a===r)return qe(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!==(s&=a)&&(r=ht(s))}else 0!==(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,xt,St,Et,Ct,kt=!1,Tt=[],It=null,Nt=null,jt=null,Pt=new Map,Ot=new Map,At=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Ct(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){kt=!1,null!==It&&Ft(It)&&(It=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==jt&&Ft(jt)&&(jt=null),Pt.forEach(Ut),Ot.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Nt&&zt(Nt,e),null!==jt&&zt(jt,e),Pt.forEach(t),Ot.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Mt(n),null===n.blockedOn&&At.shift()}var Ht=w.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var i=bt,s=Ht.transition;Ht.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Ht.transition=s}}function Kt(e,t,n,r){var i=bt,s=Ht.transition;Ht.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Ht.transition=s}}function Gt(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)qr(e,t,r,$t,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return jt=Lt(jt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pt.set(s,Lt(Pt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ot.set(s,Lt(Ot.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&_t(s),null===(s=Qt(e,t,n,r))&&qr(e,t,r,$t,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var $t=null;function Qt(e,t,n,r){if($t=null,null!==(e=yi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=M({},cn,{view:0,detail:0}),dn=sn(hn),fn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},hn,{relatedTarget:0})),vn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(M({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return En}var kn=M({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=sn(kn),In=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),jn=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=sn(Pn),An=[9,13,27,32],Rn=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Dn,Mn=u&&(!Rn||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){ke(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function $n(e){Fr(e,0)}function Qn(e){if(G(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Wn(t,Gn,e,_e(e)),Pe($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function sr(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==$(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Sr={},Er={};function Cr(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var kr=Cr("animationend"),Tr=Cr("animationiteration"),Ir=Cr("animationstart"),Nr=Cr("transitionend"),jr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){jr.set(e,t),l(t,[e])}for(var Ar=0;Ar<Pr.length;Ar++){var Rr=Pr[Ar];Or(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Or(kr,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Ir,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Pe((function(){var r=s,i=_e(n),a=[];e:{var o=jr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case kr:case Tr:case Ir:l=vn;break;case Nr:l=jn;break;case"scroll":l=dn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Oe(p,d))&&u.push(Wr(p,m,f)))),h)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:wi(l),f=null==c?o:wi(c),(o=new u(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,yi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&$r(a,o,l,u,!1),null!==c&&null!==h&&$r(a,h,c,u,!0)}if("select"===(l=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Yn;else if(qn(o))if(Xn)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?wi(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(v=Kr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Oe(e,n))&&r.unshift(Wr(e,s,i)),null!=(s=Oe(e,t))&&r.push(Wr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Oe(n,s))&&a.unshift(Wr(n,l,o)):i||null!=(l=Oe(n,s))&&a.push(Wr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var xi=[],Si=-1;function Ei(e){return{current:e}}function Ci(e){0>Si||(e.current=xi[Si],xi[Si]=null,Si--)}function ki(e,t){Si++,xi[Si]=e.current,e.current=t}var Ti={},Ii=Ei(Ti),Ni=Ei(!1),ji=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){Ci(Ni),Ci(Ii)}function Ri(e,t,n){if(Ii.current!==Ti)throw Error(s(168));ki(Ii,t),ki(Ni,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,H(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,ji=Ii.current,ki(Ii,e),ki(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Di(e,t,ji),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ni),Ci(Ii),ki(Ii,e)):Ci(Ni),ki(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,Vi=!1}}return null}var Hi=[],qi=0,Wi=null,Ki=0,Gi=[],$i=0,Qi=null,Yi=1,Xi="";function Ji(e,t){Hi[qi++]=Ki,Hi[qi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[$i++]=Yi,Gi[$i++]=Xi,Gi[$i++]=Qi,Qi=e;var r=Yi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Xi=s+e}else Yi=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Wi;)Wi=Hi[--qi],Hi[qi]=null,Ki=Hi[--qi],Hi[qi]=null;for(;e===Qi;)Qi=Gi[--$i],Gi[$i]=null,Xi=Gi[--$i],Gi[$i]=null,Yi=Gi[--$i],Gi[$i]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===S?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===O&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case O:return d(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?u(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:h(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return h(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,o[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===o.length)return n(i,h),is&&Ji(i,m),c;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(s=a(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&Ji(i,m),c}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Ji(i,m),c}function g(i,o,l,c){var u=D(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===h?u=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return is&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Ji(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&ys(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=gs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===S?((s=Dc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Rc(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case x:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(a,r.mode,l)).return=r,r=s}return o(r);case O:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(D(a))return g(r,s,a,l);vs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Mc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ws=bs(!0),_s=bs(!1),xs=Ei(null),Ss=null,Es=null,Cs=null;function ks(){Cs=Es=Ss=null}function Ts(e){var t=xs.current;Ci(xs),e._currentValue=t}function Is(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t){Ss=e,Cs=Es=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function js(e){var t=e._currentValue;if(Cs!==e)if(e={context:e,memoizedValue:t,next:null},null===Es){if(null===Ss)throw Error(s(308));Es=e,Ss.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var Ps=null;function Os(e){null===Ps?Ps=[e]:Ps.push(e)}function As(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Os(t)):(n.next=i.next,i.next=n),t.interleaved=n,Rs(e,r)}function Rs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ds=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Rs(e,n)}return null===(i=r.interleaved)?(t.next=t,Os(r)):(t.next=i.next,i.next=t),r.interleaved=t,Rs(e,n)}function Vs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var i=e.updateQueue;Ds=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,u=c=l=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=M({},h,d);break e;case 2:Ds=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=h}}function Hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var qs={},Ws=Ei(qs),Ks=Ei(qs),Gs=Ei(qs);function $s(e){if(e===qs)throw Error(s(174));return e}function Qs(e,t){switch(ki(Gs,t),ki(Ks,e),ki(Ws,qs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Ws),ki(Ws,t)}function Ys(){Ci(Ws),Ci(Ks),Ci(Gs)}function Xs(e){$s(Gs.current);var t=$s(Ws.current),n=le(t,e.type);t!==n&&(ki(Ks,e),ki(Ws,n))}function Js(e){Ks.current===e&&(Ci(Ws),Ci(Ks))}var Zs=Ei(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=w.ReactCurrentDispatcher,ia=w.ReactCurrentBatchConfig,sa=0,aa=null,oa=null,la=null,ca=!1,ua=!1,ha=0,da=0;function fa(){throw Error(s(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(sa=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?Ja:Za,e=n(r,i),ua){a=0;do{if(ua=!1,ha=0,25<=a)throw Error(s(301));a+=1,la=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,i)}while(ua)}if(ra.current=Xa,t=null!==oa&&null!==oa.next,sa=0,la=oa=aa=null,ca=!1,t)throw Error(s(300));return e}function ga(){var e=0!==ha;return ha=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function ya(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function ba(e,t){return"function"===typeof t?t(e):t}function wa(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((sa&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=r):c=c.next=d,aa.lanes|=h,Ll|=h}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,aa.lanes|=a,Ll|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _a(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function xa(){}function Sa(e,t){var n=aa,r=ya(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,Da(ka.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,ja(9,Ca.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(s(349));0!==(30&sa)||Ea(n,t,i)}return i}function Ea(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ca(e,t,n,r){t.value=n,t.getSnapshot=r,Ta(t)&&Ia(e)}function ka(e,t,n){return n((function(){Ta(t)&&Ia(e)}))}function Ta(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ia(e){var t=Rs(e,1);null!==t&&nc(t,e,1,-1)}function Na(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Ga.bind(null,aa,e),[t.memoizedState,e]}function ja(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Pa(){return ya().memoizedState}function Oa(e,t,n,r){var i=va();aa.flags|=e,i.memoizedState=ja(1|t,n,void 0,void 0===r?null:r)}function Aa(e,t,n,r){var i=ya();r=void 0===r?null:r;var s=void 0;if(null!==oa){var a=oa.memoizedState;if(s=a.destroy,null!==r&&pa(r,a.deps))return void(i.memoizedState=ja(t,n,s,r))}aa.flags|=e,i.memoizedState=ja(1|t,n,s,r)}function Ra(e,t){return Oa(8390656,8,e,t)}function Da(e,t){return Aa(2048,8,e,t)}function La(e,t){return Aa(4,2,e,t)}function Ma(e,t){return Aa(4,4,e,t)}function Fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ua(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Aa(4,4,Fa.bind(null,t,e),n)}function Va(){}function za(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ba(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),aa.lanes|=n,Ll|=n,e.baseState=!0),t)}function qa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function Wa(){return ya().memoizedState}function Ka(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$a(e))Qa(t,n);else if(null!==(n=As(e,t,n,r))){nc(n,e,r,ec()),Ya(n,t,r)}}function Ga(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($a(e))Qa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Os(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=As(e,t,i,r))&&(nc(n,e,r,i=ec()),Ya(n,t,r))}}function $a(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Qa(e,t){ua=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ya(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xa={readContext:js,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},Ja={readContext:js,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:js,useEffect:Ra,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oa(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oa(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ka.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Na,useDebugValue:Va,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Na(!1),t=e[0];return e=qa.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=va();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Nl)throw Error(s(349));0!==(30&sa)||Ea(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ra(ka.bind(null,r,a,e),[e]),r.flags|=2048,ja(9,Ca.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Nl.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=da++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Za={readContext:js,useCallback:za,useContext:js,useEffect:Da,useImperativeHandle:Ua,useInsertionEffect:La,useLayoutEffect:Ma,useMemo:Ba,useReducer:wa,useRef:Pa,useState:function(){return wa(ba)},useDebugValue:Va,useDeferredValue:function(e){return Ha(ya(),oa.memoizedState,e)},useTransition:function(){return[wa(ba)[0],ya().memoizedState]},useMutableSource:xa,useSyncExternalStore:Sa,useId:Wa,unstable_isNewReconciler:!1},eo={readContext:js,useCallback:za,useContext:js,useEffect:Da,useImperativeHandle:Ua,useInsertionEffect:La,useLayoutEffect:Ma,useMemo:Ba,useReducer:_a,useRef:Pa,useState:function(){return _a(ba)},useDebugValue:Va,useDeferredValue:function(e){var t=ya();return null===oa?t.memoizedState=e:Ha(t,oa.memoizedState,e)},useTransition:function(){return[_a(ba)[0],ya().memoizedState]},useMutableSource:xa,useSyncExternalStore:Sa,useId:Wa,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nc(t,e,i,r),Vs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nc(t,e,i,r),Vs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Us(e,i,r))&&(nc(t,e,r,n),Vs(t,e,r))}};function io(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function so(e,t,n){var r=!1,i=Ti,s=t.contextType;return"object"===typeof s&&null!==s?s=js(s):(i=Oi(t)?ji:Ii.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=js(s):(s=Oi(t)?ji:Ii.current,i.context=Pi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),Bs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Wl=r),uo(0,t)},n}function po(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Us(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yo=w.ReactCurrentOwner,bo=!1;function wo(e,t,n,r){t.child=null===e?_s(t,null,n,r):ws(t,e.child,n,r)}function _o(e,t,n,r,i){n=n.render;var s=t.ref;return Ns(t,i),r=ma(e,t,n,r,s,i),n=ga(),null===e||bo?(is&&n&&es(t),t.flags|=1,wo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qo(e,t,i))}function xo(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Oc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,So(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return qo(e,t,i)}return t.flags|=1,(e=Ac(s,r)).ref=t.ref,e.return=t,t.child=e}function So(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,qo(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return ko(e,t,n,r,i)}function Eo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Al,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Al,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ki(Al,Ol),Ol|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(Al,Ol),Ol|=r;return wo(e,t,i,n),t.child}function Co(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ko(e,t,n,r,i){var s=Oi(n)?ji:Ii.current;return s=Pi(t,s),Ns(t,i),n=ma(e,t,n,r,s,i),r=ga(),null===e||bo?(is&&r&&es(t),t.flags|=1,wo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qo(e,t,i))}function To(e,t,n,r,i){if(Oi(n)){var s=!0;Li(t)}else s=!1;if(Ns(t,i),null===t.stateNode)Ho(e,t),so(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=js(c):c=Pi(t,c=Oi(n)?ji:Ii.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&ao(t,a,r,c),Ds=!1;var d=t.memoizedState;a.state=d,Bs(t,r,a,i),l=t.memoizedState,o!==r||d!==l||Ni.current||Ds?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Ds||io(t,n,o,r,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ms(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),a.props=c,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=js(l):l=Pi(t,l=Oi(n)?ji:Ii.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&ao(t,a,r,l),Ds=!1,d=t.memoizedState,a.state=d,Bs(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||Ni.current||Ds?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(c=Ds||io(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Io(e,t,n,r,s,i)}function Io(e,t,n,r,i,s){Co(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Mi(t,n,!1),qo(e,t,s);r=t.stateNode,yo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,o,s)):wo(e,t,o,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function No(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),Qs(e,t.containerInfo)}function jo(e,t,n,r,i){return fs(),ps(i),t.flags|=256,wo(e,t,n,r),t.child}var Po,Oo,Ao,Ro,Do={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,n){var r,i=t.pendingProps,a=Zs.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ki(Zs,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,i,0,null),e=Dc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Do,e):Fo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(a=Dc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Do,a);if(0===(1&t.mode))return Uo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Uo(e,t,o,r=co(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Nl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Rs(e,i),nc(r,e,i,-1))}return mc(),Uo(e,t,o,r=co(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[$i++]=Yi,Gi[$i++]=Xi,Gi[$i++]=Qi,Yi=e.id,Xi=e.overflow,Qi=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Ac(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Ac(r,o):(o=Dc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Do,i}return e=(o=e.child).sibling,i=Ac(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Is(e.return,t,n)}function zo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Bo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vo(e,n,t);else if(19===e.tag)Vo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ea(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zo(t,!0,n,null,s);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ac(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ac(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wo(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ko(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Go(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ko(t),null;case 1:case 17:return Oi(t.type)&&Ai(),Ko(t),null;case 3:return r=t.stateNode,Ys(),Ci(Ni),Ci(Ii),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Oo(e,t),Ko(t),null;case 5:Js(t);var i=$s(Gs.current);if(n=t.type,null!==e&&null!=t.stateNode)Ao(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ko(t),null}if(e=$s(Ws.current),hs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Ur(Dr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Po(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Ur(Dr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ko(t),null;case 6:if(e&&null!=t.stateNode)Ro(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=$s(Gs.current),$s(Ws.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ko(t),null;case 13:if(Ci(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,a=!1;else if(a=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ko(t),a=!1}else null!==ss&&(ac(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Rl&&(Rl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ko(t),null);case 4:return Ys(),Oo(e,t),null===e&&Br(t.stateNode.containerInfo),Ko(t),null;case 10:return Ts(t.type._context),Ko(t),null;case 19:if(Ci(Zs),null===(a=t.memoizedState))return Ko(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Wo(a,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,Wo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Bl&&(t.flags|=128,r=!0,Wo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Ko(t),null}else 2*Xe()-a.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Wo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=Zs.current,ki(Zs,r?1&n|2:1&n),t):(Ko(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Ko(t),6&t.subtreeFlags&&(t.flags|=8192)):Ko(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function $o(e,t){switch(ts(t),t.tag){case 1:return Oi(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ys(),Ci(Ni),Ci(Ii),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Ci(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(Zs),null;case 4:return Ys(),null;case 10:return Ts(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oo=function(){},Ao=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$s(Ws.current);var s,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ro=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qo=!1,Yo=!1,Xo="function"===typeof WeakSet?WeakSet:Set,Jo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Yo||Zo(n,t);case 6:var r=ul,i=hl;ul=null,dl(e,t,n),hl=i,null!==(ul=r)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=hl,ul=n.stateNode.containerInfo,hl=!0,dl(e,t,n),ul=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Yo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&el(n,t,a),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Yo&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ec(n,t,o)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Yo=(r=Yo)||null!==n.memoizedState,dl(e,t,n),Yo=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xo),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(a,o,i),ul=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Ec(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),be(l,o);var u=be(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,u)}switch(l){case"input":J(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Ec(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ec(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Xe())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Yo=(u=Yo)||h,ml(t,e),Yo=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Jo=e,h=e.child;null!==h;){for(d=Jo=h;null!==Jo;){switch(p=(f=Jo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){_l(d);continue}}null!==p?(p.return=f,Jo=p):_l(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Ec(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(s(161))}}catch(o){Ec(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Jo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Jo;){var i=Jo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Qo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Yo;o=Qo;var c=Yo;if(Qo=a,(Yo=l)&&!c)for(Jo=i;null!==Jo;)l=(a=Jo).child,22===a.tag&&null!==a.memoizedState?xl(i):null!==l?(l.return=a,Jo=l):xl(i);for(;null!==s;)Jo=s,bl(s,t,n),s=s.sibling;Jo=i,Qo=o,Yo=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Jo=s):wl(e)}}function wl(e){for(;null!==Jo;){var t=Jo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Hs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(s(163))}Yo||512&t.flags&&il(t)}catch(f){Ec(t,t.return,f)}}if(t===e){Jo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jo=n;break}Jo=t.return}}function _l(e){for(;null!==Jo;){var t=Jo;if(t===e){Jo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jo=n;break}Jo=t.return}}function xl(e){for(;null!==Jo;){var t=Jo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ec(t,i,l)}}var s=t.return;try{il(t)}catch(l){Ec(t,s,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Ec(t,a,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Jo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Jo=o;break}Jo=t.return}}var Sl,El=Math.ceil,Cl=w.ReactCurrentDispatcher,kl=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Il=0,Nl=null,jl=null,Pl=0,Ol=0,Al=Ei(0),Rl=0,Dl=null,Ll=0,Ml=0,Fl=0,Ul=null,Vl=null,zl=0,Bl=1/0,Hl=null,ql=!1,Wl=null,Kl=null,Gl=!1,$l=null,Ql=0,Yl=0,Xl=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Il)?Xe():-1!==Jl?Jl:Jl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Pl?Pl&-Pl:null!==ms.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yl)throw Yl=0,Xl=null,Error(s(185));vt(e,n,r),0!==(2&Il)&&e===Nl||(e===Nl&&(0===(2&Il)&&(Ml|=n),4===Rl&&oc(e,Pl)),rc(e,r),1===n&&0===Il&&0===(1&t.mode)&&(Bl=Xe()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=dt(e,e===Nl?Pl:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(lc.bind(null,e)):zi(lc.bind(null,e)),ai((function(){0===(6&Il)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&Il))throw Error(s(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=dt(e,e===Nl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Il;Il|=2;var a=pc();for(Nl===e&&Pl===t||(Hl=null,Bl=Xe()+500,dc(e,t));;)try{yc();break}catch(l){fc(e,l)}ks(),Cl.current=a,Il=i,null!==jl?t=0:(Nl=null,Pl=0,t=Rl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Dl,dc(e,0),oc(e,r),rc(e,Xe()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=sc(e,a))),1===t))throw n=Dl,dc(e,0),oc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:_c(e,Vl,Hl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=zl+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,Vl,Hl),t);break}_c(e,Vl,Hl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,Vl,Hl),r);break}_c(e,Vl,Hl);break;default:throw Error(s(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vl,Vl=n,null!==t&&ac(t)),e}function ac(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function oc(e,t){for(t&=~Fl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Il))throw Error(s(327));xc();var t=dt(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Dl,dc(e,0),oc(e,t),rc(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Vl,Hl),rc(e,Xe()),null}function cc(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(Bl=Xe()+500,Ui&&Bi())}}function uc(e){null!==$l&&0===$l.tag&&0===(6&Il)&&xc();var t=Il;Il|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(Il=t))&&Bi()}}function hc(){Ol=Al.current,Ci(Al)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==jl)for(n=jl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ai();break;case 3:Ys(),Ci(Ni),Ci(Ii),na();break;case 5:Js(r);break;case 4:Ys();break;case 13:case 19:Ci(Zs);break;case 10:Ts(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Nl=e,jl=e=Ac(e.current,null),Pl=Ol=t,Rl=0,Dl=null,Fl=Ml=Ll=0,Vl=Ul=null,null!==Ps){for(t=0;t<Ps.length;t++)if(null!==(r=(n=Ps[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Ps=null}return e}function fc(e,t){for(;;){var n=jl;try{if(ks(),ra.current=Xa,ca){for(var r=aa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(sa=0,la=oa=aa=null,ua=!1,ha=0,kl.current=null,null===n||null===n.return){Rl=1,Dl=t,jl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&mo(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(a,u,t),mc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),ps(lo(c,l));break e}}a=c=lo(c,l),4!==Rl&&(Rl=2),null===Ul?Ul=[a]:Ul.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zs(a,fo(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,zs(a,po(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,jl===n&&null!==n&&(jl=n=n.return);continue}break}}function pc(){var e=Cl.current;return Cl.current=Xa,null===e?Xa:e}function mc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Nl||0===(268435455&Ll)&&0===(268435455&Ml)||oc(Nl,Pl)}function gc(e,t){var n=Il;Il|=2;var r=pc();for(Nl===e&&Pl===t||(Hl=null,dc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(ks(),Il=n,Cl.current=r,null!==jl)throw Error(s(261));return Nl=null,Pl=0,Rl}function vc(){for(;null!==jl;)bc(jl)}function yc(){for(;null!==jl&&!Qe();)bc(jl)}function bc(e){var t=Sl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?wc(e):jl=t,kl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Go(n,t,Ol)))return void(jl=n)}else{if(null!==(n=$o(n,t)))return n.flags&=32767,void(jl=n);if(null===e)return Rl=6,void(jl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(jl=t);jl=t=e}while(null!==t);0===Rl&&(Rl=5)}function _c(e,t,n){var r=bt,i=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==$l);if(0!==(6&Il))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Nl&&(jl=Nl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Nc(tt,(function(){return xc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tl.transition,Tl.transition=null;var o=bt;bt=1;var l=Il;Il|=4,kl.current=null,function(e,t){if(ei=qt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(_){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==a||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++h===r&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Jo=t;null!==Jo;)if(e=(t=Jo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jo=e;else for(;null!==Jo;){t=Jo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(_){Ec(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Jo=e;break}Jo=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Ye(),Il=l,bt=o,Tl.transition=a}else e.current=n;if(Gl&&(Gl=!1,$l=e,Ql=i),a=e.pendingLanes,0===a&&(Kl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Wl,Wl=null,e;0!==(1&Ql)&&0!==e.tag&&xc(),a=e.pendingLanes,0!==(1&a)?e===Xl?Yl++:(Yl=0,Xl=e):Yl=0,Bi()}(e,t,n,r)}finally{Tl.transition=i,bt=r}return null}function xc(){if(null!==$l){var e=wt(Ql),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,Ql=0,0!==(6&Il))throw Error(s(331));var i=Il;for(Il|=4,Jo=e.current;null!==Jo;){var a=Jo,o=a.child;if(0!==(16&Jo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Jo=u;null!==Jo;){var h=Jo;switch(h.tag){case 0:case 11:case 15:nl(8,h,a)}var d=h.child;if(null!==d)d.return=h,Jo=d;else for(;null!==Jo;){var f=(h=Jo).sibling,p=h.return;if(sl(h),h===u){Jo=null;break}if(null!==f){f.return=p,Jo=f;break}Jo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Jo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Jo=o;else e:for(;null!==Jo;){if(0!==(2048&(a=Jo).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Jo=y;break e}Jo=a.return}}var b=e.current;for(Jo=b;null!==Jo;){var w=(o=Jo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Jo=w;else e:for(o=b;null!==Jo;){if(0!==(2048&(l=Jo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(x){Ec(l,l.return,x)}if(l===o){Jo=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Jo=_;break e}Jo=l.return}}if(Il=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function Sc(e,t,n){e=Us(e,t=fo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Us(t,e=po(t,e=lo(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Pl&n)===n&&(4===Rl||3===Rl&&(130023424&Pl)===Pl&&500>Xe()-zl?dc(e,0):Fl|=n),rc(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Rs(e,t))&&(vt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),kc(e,n)}function Nc(e,t){return Ge(e,t)}function jc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new jc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Oc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case S:return Dc(n.children,i,a,t);case E:o=8,i|=8;break;case C:return(e=Pc(12,n,t,2|i)).elementType=C,e.lanes=a,e;case N:return(e=Pc(13,n,t,i)).elementType=N,e.lanes=a,e;case j:return(e=Pc(19,n,t,i)).elementType=j,e.lanes=a,e;case A:return Lc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:o=10;break e;case T:o=9;break e;case I:o=11;break e;case P:o=14;break e;case O:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Dc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,s,a,o,l){return e=new Uc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function zc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Di(e,n,t)}return t}function Bc(e,t,n,r,i,s,a,o,l){return(e=Vc(n,r,!0,e,0,s,0,o,l)).context=zc(null),n=e.current,(s=Fs(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Us(n,s,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,s=ec(),a=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Us(i,t,a))&&(nc(e,i,a,s),Vs(e,i,a)),a}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:No(t),fs();break;case 5:Xs(t);break;case 1:Oi(t.type)&&Li(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(xs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mo(e,t,n):(ki(Zs,1&Zs.current),null!==(e=qo(e,t,n))?e.sibling:null);ki(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,Eo(e,t,n)}return qo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var i=Pi(t,Ii.current);Ns(t,n),i=ma(null,t,r,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=Io(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),wo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(r),e=to(r,e),i){case 0:t=ko(null,t,r,e,n);break e;case 1:t=To(null,t,r,e,n);break e;case 11:t=_o(null,t,r,e,n);break e;case 14:t=xo(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ko(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(No(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ms(e,t),Bs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=jo(e,t,r,n,i=lo(Error(s(423)),t));break e}if(r!==i){t=jo(e,t,r,n,i=lo(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=_s(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=qo(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return Xs(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),Co(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Mo(e,t,n);case 4:return Qs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_o(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,ki(xs,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ni.current){t=qo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Is(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Is(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}wo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ns(t,n),r=r(i=js(i)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),xo(e,t,r,i=to(r.type,i),n);case 15:return So(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),Ho(e,t),t.tag=1,Oi(r)?(e=!0,Li(t)):e=!1,Ns(t,n),so(t,r,i),oo(t,r,i,n),Io(null,t,r,!0,e,n);case 19:return Bo(e,t,n);case 22:return Eo(e,t,n)}throw Error(s(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=qc(a);o.call(e)}}Hc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=qc(a);s.call(e)}}var a=Bc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=qc(l);o.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),uc((function(){Hc(t,l,n,r)})),l}(n,t,e,i,r);return qc(a)}Qc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Qc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Hc(null,e,null,null)})),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Mt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Xe()),0===(6&Il)&&(Bl=Xe()+500,Bi()))}break;case 13:uc((function(){var t=Rs(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},xt=function(e){if(13===e.tag){var t=Rs(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Rs(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},Et=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));G(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cc,Ne=uc;var eu={usingClientEntryPoint:!1,Events:[bi,wi,_i,ke,Te,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(s(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},317:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InView:()=>m,default:()=>m,defaultFallbackInView:()=>u,observe:()=>d,useInView:()=>g});var r=n(43);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}var a=new Map,o=new WeakMap,l=0,c=void 0;function u(e){c=e}function h(e){return Object.keys(e).sort().filter((function(t){return void 0!==e[t]})).map((function(t){return t+"_"+("root"===t?(n=e.root)?(o.has(n)||(l+=1,o.set(n,l.toString())),o.get(n)):"0":e[t]);var n})).toString()}function d(e,t,n,r){if(void 0===n&&(n={}),void 0===r&&(r=c),"undefined"===typeof window.IntersectionObserver&&void 0!==r){var i=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"===typeof n.threshold?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),function(){}}var s=function(e){var t=h(e),n=a.get(t);if(!n){var r,i=new Map,s=new IntersectionObserver((function(t){t.forEach((function(t){var n,s=t.isIntersecting&&r.some((function(e){return t.intersectionRatio>=e}));e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=s),null==(n=i.get(t.target))||n.forEach((function(e){e(s,t)}))}))}),e);r=s.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:s,elements:i},a.set(t,n)}return n}(n),o=s.id,l=s.observer,u=s.elements,d=u.get(e)||[];return u.has(e)||u.set(e,d),d.push(t),l.observe(e),function(){d.splice(d.indexOf(t),1),0===d.length&&(u.delete(e),l.unobserve(e)),0===u.size&&(l.disconnect(),a.delete(o))}}var f=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function p(e){return"function"!==typeof e.children}var m=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).node=null,n._unobserveCb=null,n.handleNode=function(e){n.node&&(n.unobserve(),e||n.props.triggerOnce||n.props.skip||n.setState({inView:!!n.props.initialInView,entry:void 0})),n.node=e||null,n.observeNode()},n.handleChange=function(e,t){e&&n.props.triggerOnce&&n.unobserve(),p(n.props)||n.setState({inView:e,entry:t}),n.props.onChange&&n.props.onChange(e,t)},n.state={inView:!!t.initialInView,entry:void 0},n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n);var o=a.prototype;return o.componentDidUpdate=function(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())},o.componentWillUnmount=function(){this.unobserve(),this.node=null},o.observeNode=function(){if(this.node&&!this.props.skip){var e=this.props,t=e.threshold,n=e.root,r=e.rootMargin,i=e.trackVisibility,s=e.delay,a=e.fallbackInView;this._unobserveCb=d(this.node,this.handleChange,{threshold:t,root:n,rootMargin:r,trackVisibility:i,delay:s},a)}},o.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},o.render=function(){if(!p(this.props)){var e=this.state,t=e.inView,n=e.entry;return this.props.children({inView:t,entry:n,ref:this.handleNode})}var s=this.props,a=s.children,o=s.as,l=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(s,f);return r.createElement(o||"div",i({ref:this.handleNode},l),a)},a}(r.Component);function g(e){var t=void 0===e?{}:e,n=t.threshold,i=t.delay,s=t.trackVisibility,a=t.rootMargin,o=t.root,l=t.triggerOnce,c=t.skip,u=t.initialInView,h=t.fallbackInView,f=r.useRef(),p=r.useState({inView:!!u}),m=p[0],g=p[1],v=r.useCallback((function(e){void 0!==f.current&&(f.current(),f.current=void 0),c||e&&(f.current=d(e,(function(e,t){g({inView:e,entry:t}),t.isIntersecting&&l&&f.current&&(f.current(),f.current=void 0)}),{root:o,rootMargin:a,threshold:n,trackVisibility:s,delay:i},h))}),[Array.isArray(n)?n.toString():n,o,a,l,c,s,h,i]);(0,r.useEffect)((function(){f.current||!m.entry||l||c||g({inView:!!u})}));var y=[v,m.inView,m.entry];return y.ref=y[0],y.inView=y[1],y.entry=y[2],y}m.displayName="InView",m.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1}},455:(e,t,n)=>{"use strict";t.A=void 0;var r=a(n(43)),i=a(n(173)),s=a(n(139));function a(e){return e&&e.__esModule?e:{default:e}}const o=e=>{let{animate:t=!0,className:n="",layout:i="2-columns",lineColor:a="#FFF",children:o}=e;return"object"===typeof window&&document.documentElement.style.setProperty("--line-color",a),r.default.createElement("div",{className:(0,s.default)(n,"vertical-timeline",{"vertical-timeline--animate":t,"vertical-timeline--two-columns":"2-columns"===i,"vertical-timeline--one-column-left":"1-column"===i||"1-column-left"===i,"vertical-timeline--one-column-right":"1-column-right"===i})},o)};o.propTypes={children:i.default.oneOfType([i.default.arrayOf(i.default.node),i.default.node]).isRequired,className:i.default.string,animate:i.default.bool,layout:i.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:i.default.string};var l=o;t.A=l},695:(e,t,n)=>{"use strict";t.A=void 0;var r=o(n(43)),i=o(n(173)),s=o(n(139)),a=n(317);function o(e){return e&&e.__esModule?e:{default:e}}const l=e=>{let{children:t="",className:n="",contentArrowStyle:i=null,contentStyle:o=null,date:l="",dateClassName:c="",icon:u=null,iconClassName:h="",iconOnClick:d=null,onTimelineElementClick:f=null,iconStyle:p=null,id:m="",position:g="",style:v=null,textClassName:y="",intersectionObserverProps:b={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:w=!1}=e;return r.default.createElement(a.InView,b,(e=>{let{inView:a,ref:b}=e;return r.default.createElement("div",{ref:b,id:m,className:(0,s.default)(n,"vertical-timeline-element",{"vertical-timeline-element--left":"left"===g,"vertical-timeline-element--right":"right"===g,"vertical-timeline-element--no-children":""===t}),style:v},r.default.createElement(r.default.Fragment,null,r.default.createElement("span",{style:p,onClick:d,className:(0,s.default)(h,"vertical-timeline-element-icon",{"bounce-in":a||w,"is-hidden":!(a||w)})},u),r.default.createElement("div",{style:o,onClick:f,className:(0,s.default)(y,"vertical-timeline-element-content",{"bounce-in":a||w,"is-hidden":!(a||w)})},r.default.createElement("div",{style:i,className:"vertical-timeline-element-content-arrow"}),t,r.default.createElement("span",{className:(0,s.default)(c,"vertical-timeline-element-date")},l))))}))};l.propTypes={children:i.default.oneOfType([i.default.arrayOf(i.default.node),i.default.node]),className:i.default.string,contentArrowStyle:i.default.shape({}),contentStyle:i.default.shape({}),date:i.default.node,dateClassName:i.default.string,icon:i.default.element,iconClassName:i.default.string,iconStyle:i.default.shape({}),iconOnClick:i.default.func,onTimelineElementClick:i.default.func,id:i.default.string,position:i.default.string,style:i.default.shape({}),textClassName:i.default.string,visible:i.default.bool,intersectionObserverProps:i.default.shape({root:i.default.object,rootMargin:i.default.string,threshold:i.default.number,triggerOnce:i.default.bool})};var c=l;t.A=c},120:(e,t,n)=>{"use strict";e.exports={VerticalTimeline:n(455).A,VerticalTimelineElement:n(695).A}},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:S.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+I(l,0):s,_(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",_(e))for(var c=0;c<e.length;c++){var u=s+I(o=e[c],c);l+=N(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=N(o=o.value,t,i,u=s+I(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function j(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},A={transition:null},R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:A,ReactCurrentOwner:S};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:j,forEach:function(e,t,n){j(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return j(e,(function(){t++})),t},toArray:function(e){return j(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,A(x);else{var t=r(u);null!==t&&R(_,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,y(k),k=-1),p=!0;var s=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&R(_,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,C=null,k=-1,T=5,I=-1;function N(){return!(t.unstable_now()-I<T)}function j(){if(null!==C){var e=t.unstable_now();I=e;var n=!0;try{n=C(!0,e)}finally{n?S():(E=!1,C=null)}}else E=!1}if("function"===typeof b)S=function(){b(j)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=j,S=function(){O.postMessage(null)}}else S=function(){v(j,0)};function A(e){C=e,E||(E=!0,S())}function R(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,A(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(k),k=-1):g=!0,R(_,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,A(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},324:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),l=0;l<s.length;l++){var c=s[l];if(!o(c))return!1;var u=e[c],h=t[c];if(!1===(i=n?n.call(r,u,h,c):void 0)||void 0===i&&u!==h)return!1}return!0}},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,s(n)))}return e}function s(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".ed0b1c71.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="lorekeeper:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){o=h;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var d=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/LoreKeeper/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,a=r[0],o=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunklorekeeper=self.webpackChunklorekeeper||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0,(()=>{"use strict";var e,t=n(43),r=n.t(t,2),i=n(391);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const a="popstate";function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,r){return void 0===n&&(n=null),s({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?d(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(t,n,r,i){void 0===i&&(i={});let{window:l=document.defaultView,v5Compat:d=!1}=i,f=l.history,p=e.Pop,m=null,g=v();function v(){return(f.state||{idx:null}).idx}function y(){p=e.Pop;let t=v(),n=null==t?null:t-g;g=t,m&&m({action:p,location:w.location,delta:n})}function b(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),o(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,f.replaceState(s({},f.state,{idx:g}),""));let w={get action(){return p},get location(){return t(l,f)},listen(e){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(a,y),m=e,()=>{l.removeEventListener(a,y),m=null}},createHref:e=>n(l,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){p=e.Push;let i=u(w.location,t,n);r&&r(i,t),g=v()+1;let s=c(i,g),a=w.createHref(i);try{f.pushState(s,"",a)}catch(o){if(o instanceof DOMException&&"DataCloneError"===o.name)throw o;l.location.assign(a)}d&&m&&m({action:p,location:w.location,delta:1})},replace:function(t,n){p=e.Replace;let i=u(w.location,t,n);r&&r(i,t),g=v();let s=c(i,g),a=w.createHref(i);f.replaceState(s,"",a),d&&m&&m({action:p,location:w.location,delta:0})},go:e=>f.go(e)};return w}var p;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n){void 0===n&&(n="/");let r=N(("string"===typeof t?d(t):t).pathname||"/",n);if(null==r)return null;let i=g(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let a=0;null==s&&a<i.length;++a){let e=I(r);s=k(i[a],e)}return s}function g(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(o(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let l=R([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(o(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),g(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:C(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of v(e.path))i(e,t,r);else i(e,t)})),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=v(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const y=/^:[\w-]+$/,b=3,w=2,_=1,x=10,S=-2,E=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(E)&&(r+=S),t&&(r+=w),n.filter((e=>!E(e))).reduce(((e,t)=>e+(y.test(t)?b:""===t?_:x)),r)}function k(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let a=0;a<n.length;++a){let e=n[a],o=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;s.push({params:r,pathname:R([i,c.pathname]),pathnameBase:D(R([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=R([i,c.pathnameBase]))}return s}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1),c=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:c,pathname:s,pathnameBase:a,pattern:e}}function I(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function N(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function j(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function P(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function O(e,t){let n=P(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function A(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=d(e):(i=s({},e),o(!i.pathname||!i.pathname.includes("?"),j("?","pathname","search",i)),o(!i.pathname||!i.pathname.includes("#"),j("#","pathname","hash",i)),o(!i.search||!i.search.includes("#"),j("#","search","hash",i)));let a,l=""===e||""===i.pathname,c=l?"/":i.pathname;if(null==c)a=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?d(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:L(r),hash:M(i)}}(i,a),h=c&&"/"!==c&&c.endsWith("/"),f=(l||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!f||(u.pathname+="/"),u}const R=e=>e.join("/").replace(/\/\/+/g,"/"),D=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function F(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const U=["post","put","patch","delete"],V=(new Set(U),["get",...U]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(this,arguments)}const B=t.createContext(null);const H=t.createContext(null);const q=t.createContext(null);const W=t.createContext(null);const K=t.createContext({outlet:null,matches:[],isDataRoute:!1});const G=t.createContext(null);function $(){return null!=t.useContext(W)}function Q(){return $()||o(!1),t.useContext(W).location}function Y(e){t.useContext(q).static||t.useLayoutEffect(e)}function X(){let{isDataRoute:e}=t.useContext(K);return e?function(){let{router:e}=le(ae.UseNavigateStable),n=ue(oe.UseNavigateStable),r=t.useRef(!1);Y((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,z({fromRouteId:n},i)))}),[e,n]);return i}():function(){$()||o(!1);let e=t.useContext(B),{basename:n,future:r,navigator:i}=t.useContext(q),{matches:s}=t.useContext(K),{pathname:a}=Q(),l=JSON.stringify(O(s,r.v7_relativeSplatPath)),c=t.useRef(!1);Y((()=>{c.current=!0}));let u=t.useCallback((function(t,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof t)return void i.go(t);let s=A(t,JSON.parse(l),a,"path"===r.relative);null==e&&"/"!==n&&(s.pathname="/"===s.pathname?n:R([n,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[n,i,l,a,e]);return u}()}function J(){let{matches:e}=t.useContext(K),n=e[e.length-1];return n?n.params:{}}function Z(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=t.useContext(q),{matches:s}=t.useContext(K),{pathname:a}=Q(),o=JSON.stringify(O(s,i.v7_relativeSplatPath));return t.useMemo((()=>A(e,JSON.parse(o),a,"path"===r)),[e,o,a,r])}function ee(n,r,i,s){$()||o(!1);let{navigator:a}=t.useContext(q),{matches:l}=t.useContext(K),c=l[l.length-1],u=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let f,p=Q();if(r){var g;let e="string"===typeof r?d(r):r;"/"===h||(null==(g=e.pathname)?void 0:g.startsWith(h))||o(!1),f=e}else f=p;let v=f.pathname||"/",y=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=m(n,{pathname:y});let w=se(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:R([h,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:R([h,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,i,s);return r&&w?t.createElement(W.Provider,{value:{location:z({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:e.Pop}},w):w}function te(){let e=function(){var e;let n=t.useContext(G),r=ce(oe.UseRouteError),i=ue(oe.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=F(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,null)}const ne=t.createElement(te,null);class re extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(K.Provider,{value:this.props.routeContext},t.createElement(G.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(B);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(K.Provider,{value:n},i)}function se(e,n,r,i){var s;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}let l=e,c=null==(s=r)?void 0:s.errors;if(null!=c){let e=l.findIndex((e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id])));e>=0||o(!1),l=l.slice(0,Math.min(l.length,e+1))}let u=!1,h=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<l.length;t++){let e=l[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){u=!0,l=h>=0?l.slice(0,h+1):[l[0]];break}}}return l.reduceRight(((e,i,s)=>{let a,o=!1,d=null,f=null;var p;r&&(a=c&&i.route.id?c[i.route.id]:void 0,d=i.route.errorElement||ne,u&&(h<0&&0===s?(p="route-fallback",!1||he[p]||(he[p]=!0),o=!0,f=null):h===s&&(o=!0,f=i.route.hydrateFallbackElement||null)));let m=n.concat(l.slice(0,s+1)),g=()=>{let n;return n=a?d:o?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(ie,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?t.createElement(re,{location:r.location,revalidation:r.revalidation,component:d,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ae=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ae||{}),oe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(oe||{});function le(e){let n=t.useContext(B);return n||o(!1),n}function ce(e){let n=t.useContext(H);return n||o(!1),n}function ue(e){let n=function(e){let n=t.useContext(K);return n||o(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||o(!1),r.route.id}const he={};r.startTransition;function de(e){let{to:n,replace:r,state:i,relative:s}=e;$()||o(!1);let{future:a,static:l}=t.useContext(q),{matches:c}=t.useContext(K),{pathname:u}=Q(),h=X(),d=A(n,O(c,a.v7_relativeSplatPath),u,"path"===s),f=JSON.stringify(d);return t.useEffect((()=>h(JSON.parse(f),{replace:r,state:i,relative:s})),[h,f,s,r,i]),null}function fe(e){o(!1)}function pe(n){let{basename:r="/",children:i=null,location:s,navigationType:a=e.Pop,navigator:l,static:c=!1,future:u}=n;$()&&o(!1);let h=r.replace(/^\/*/,"/"),f=t.useMemo((()=>({basename:h,navigator:l,static:c,future:z({v7_relativeSplatPath:!1},u)})),[h,u,l,c]);"string"===typeof s&&(s=d(s));let{pathname:p="/",search:m="",hash:g="",state:v=null,key:y="default"}=s,b=t.useMemo((()=>{let e=N(p,h);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:y},navigationType:a}}),[h,p,m,g,v,y,a]);return null==b?null:t.createElement(q.Provider,{value:f},t.createElement(W.Provider,{children:i,value:b}))}function me(e){let{children:t,location:n}=e;return ee(ge(t),n)}new Promise((()=>{}));t.Component;function ge(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let s=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,ge(e.props.children,s));e.type!==fe&&o(!1),e.props.index&&e.props.children&&o(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ge(e.props.children,s)),r.push(a)})),r}var ve=n(950),ye=n.t(ve,2);function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},be.apply(this,arguments)}function we(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const _e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(nk){}new Map;const xe=r.startTransition;ye.flushSync,r.useId;function Se(e){let{basename:n,children:r,future:i,window:s}=e,a=t.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),f((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return u("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:h(t)}),null,e)}({window:s,v5Compat:!0}));let o=a.current,[l,c]=t.useState({action:o.action,location:o.location}),{v7_startTransition:d}=i||{},p=t.useCallback((e=>{d&&xe?xe((()=>c(e))):c(e)}),[c,d]);return t.useLayoutEffect((()=>o.listen(p)),[o,p]),t.createElement(pe,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:o,future:i})}const Ee="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=t.forwardRef((function(e,n){let r,{onClick:i,relative:s,reloadDocument:a,replace:l,state:c,target:u,to:d,preventScrollReset:f,unstable_viewTransition:p}=e,m=we(e,_e),{basename:g}=t.useContext(q),v=!1;if("string"===typeof d&&Ce.test(d)&&(r=d,Ee))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=N(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(nk){}let y=function(e,n){let{relative:r}=void 0===n?{}:n;$()||o(!1);let{basename:i,navigator:s}=t.useContext(q),{hash:a,pathname:l,search:c}=Z(e,{relative:r}),u=l;return"/"!==i&&(u="/"===l?i:R([i,l])),s.createHref({pathname:u,search:c,hash:a})}(d,{relative:s}),b=function(e,n){let{target:r,replace:i,state:s,preventScrollReset:a,relative:o,unstable_viewTransition:l}=void 0===n?{}:n,c=X(),u=Q(),d=Z(e,{relative:o});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:h(u)===h(d);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,unstable_viewTransition:l})}}),[u,c,d,i,s,r,e,a,o,l])}(d,{replace:l,state:c,target:u,preventScrollReset:f,relative:s,unstable_viewTransition:p});return t.createElement("a",be({},m,{href:r||y,onClick:v||a?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:n,target:u}))}));var Te,Ie;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Te||(Te={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ie||(Ie={}));const Ne="HomePage_homeContainer__YZ4Lr",je="HomePage_homeHeader__O5dzS",Pe="HomePage_featuredContent__U7Q8b",Oe="HomePage_featuredItem__GKRYH",Ae="HomePage_homeFooter__0XukL";var Re=n(579);const De=function(){const e=X();return(0,Re.jsxs)("div",{className:Ne,children:[(0,Re.jsxs)("header",{className:je,children:[(0,Re.jsx)("h1",{children:"Welcome to Irea"}),(0,Re.jsx)("p",{children:"Explore the lore of the continent of Irea, from magic to timelines"})]}),(0,Re.jsxs)("section",{className:Pe,children:[(0,Re.jsx)("h2",{children:"Featured Content"}),(0,Re.jsxs)("div",{className:Oe,children:[(0,Re.jsx)("img",{src:"path/to/image.jpg",alt:"Featured Character"}),(0,Re.jsx)("h3",{children:"Name"}),(0,Re.jsx)("p",{children:"Description"})]})]}),(0,Re.jsx)("footer",{className:Ae,children:(0,Re.jsx)("button",{className:"btnPrimary",onClick:()=>e("/world"),children:"Explore More"})})]})},Le="NotFoundPage_container__KvyGM",Me="NotFoundPage_title__M2I8u",Fe="NotFoundPage_message__no+N7";const Ue=function(){const e=X();return(0,Re.jsxs)("div",{className:Le,children:[(0,Re.jsx)("h1",{className:Me,children:"404"}),(0,Re.jsx)("p",{className:Fe,children:"Oops! The page you're looking for doesn't exist."}),(0,Re.jsx)("button",{className:"btnPrimary",onClick:()=>e("/"),children:"Go to Home"})]})},Ve=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ze={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ve(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new Be;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const He=function(e){return function(e){const t=Ve(e);return ze.encodeByteArray(t,!0)}(e).replace(/\./g,"")},qe=function(e){try{return ze.decodeString(e,!0)}catch(nk){console.error("base64Decode failed: ",nk)}return null};const We=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ke=()=>{try{return We()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/LoreKeeper",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(nk){return}const t=e&&qe(e[1]);return t&&JSON.parse(t)})()}catch(nk){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(nk))}},Ge=e=>{var t,n;return null===(n=null===(t=Ke())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},$e=e=>{const t=Ge(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Qe=()=>{var e;return null===(e=Ke())||void 0===e?void 0:e.config},Ye=e=>{var t;return null===(t=Ke())||void 0===t?void 0:t["_".concat(e)]};class Xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Je(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[He(JSON.stringify({alg:"none",type:"JWT"})),He(JSON.stringify(s)),""].join(".")}function Ze(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function et(){return!function(){var e;const t=null===(e=Ke())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(nk){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tt(){try{return"object"===typeof indexedDB}catch(nk){return!1}}class nt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rt.prototype.create)}}class rt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(it,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new nt(n,s,t)}}const it=/\{\$([^}]+)}/g;function st(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(at(n)&&at(s)){if(!st(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function at(e){return null!==e&&"object"===typeof e}function ot(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function lt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function ct(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ut{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ht),void 0===r.error&&(r.error=ht),void 0===r.complete&&(r.complete=ht);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(nk){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(nk){"undefined"!==typeof console&&console.error&&console.error(nk)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ht(){}function dt(e){return e&&e._delegate?e._delegate:e}class ft{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const pt="[DEFAULT]";class mt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Xe;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(nk){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(nk){if(r)return null;throw nk}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:pt})}catch(nk){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(nk){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gt(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;return this.component?this.component.multipleInstances?e:pt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function gt(e){return e===pt?void 0:e}class vt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const yt=[];var bt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(bt||(bt={}));const wt={debug:bt.DEBUG,verbose:bt.VERBOSE,info:bt.INFO,warn:bt.WARN,error:bt.ERROR,silent:bt.SILENT},_t=bt.INFO,xt={[bt.DEBUG]:"log",[bt.VERBOSE]:"log",[bt.INFO]:"info",[bt.WARN]:"warn",[bt.ERROR]:"error"},St=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=xt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Et{constructor(e){this.name=e,this._logLevel=_t,this._logHandler=St,this._userLogHandler=null,yt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in bt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?wt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,bt.DEBUG,...t),this._logHandler(this,bt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,bt.VERBOSE,...t),this._logHandler(this,bt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,bt.INFO,...t),this._logHandler(this,bt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,bt.WARN,...t),this._logHandler(this,bt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,bt.ERROR,...t),this._logHandler(this,bt.ERROR,...t)}}const Ct=(e,t)=>t.some((t=>e instanceof t));let kt,Tt;const It=new WeakMap,Nt=new WeakMap,jt=new WeakMap,Pt=new WeakMap,Ot=new WeakMap;let At={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Nt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||jt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Rt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Tt||(Tt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Mt(this),n),Lt(It.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Lt(e.apply(Mt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Mt(this),t,...r);return jt.set(s,t.sort?t.sort():[t]),Lt(s)}}function Dt(e){return"function"===typeof e?Rt(e):(e instanceof IDBTransaction&&function(e){if(Nt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Nt.set(e,t)}(e),Ct(e,kt||(kt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,At):e)}function Lt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Lt(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&It.set(t,e)})).catch((()=>{})),Ot.set(t,e),t}(e);if(Pt.has(e))return Pt.get(e);const t=Dt(e);return t!==e&&(Pt.set(e,t),Ot.set(t,e)),t}const Mt=e=>Ot.get(e);const Ft=["get","getKey","getAll","getAllKeys","count"],Ut=["put","add","delete","clear"],Vt=new Map;function zt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Vt.get(t))return Vt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ut.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ft.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return Vt.set(t,s),s}At=(e=>({...e,get:(t,n,r)=>zt(t,n)||e.get(t,n,r),has:(t,n)=>!!zt(t,n)||e.has(t,n)}))(At);class Bt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Ht="@firebase/app",qt="0.10.5",Wt=new Et("@firebase/app"),Kt="@firebase/app-compat",Gt="@firebase/analytics-compat",$t="@firebase/analytics",Qt="@firebase/app-check-compat",Yt="@firebase/app-check",Xt="@firebase/auth",Jt="@firebase/auth-compat",Zt="@firebase/database",en="@firebase/database-compat",tn="@firebase/functions",nn="@firebase/functions-compat",rn="@firebase/installations",sn="@firebase/installations-compat",an="@firebase/messaging",on="@firebase/messaging-compat",ln="@firebase/performance",cn="@firebase/performance-compat",un="@firebase/remote-config",hn="@firebase/remote-config-compat",dn="@firebase/storage",fn="@firebase/storage-compat",pn="@firebase/firestore",mn="@firebase/vertexai-preview",gn="@firebase/firestore-compat",vn="firebase",yn="[DEFAULT]",bn={[Ht]:"fire-core",[Kt]:"fire-core-compat",[$t]:"fire-analytics",[Gt]:"fire-analytics-compat",[Yt]:"fire-app-check",[Qt]:"fire-app-check-compat",[Xt]:"fire-auth",[Jt]:"fire-auth-compat",[Zt]:"fire-rtdb",[en]:"fire-rtdb-compat",[tn]:"fire-fn",[nn]:"fire-fn-compat",[rn]:"fire-iid",[sn]:"fire-iid-compat",[an]:"fire-fcm",[on]:"fire-fcm-compat",[ln]:"fire-perf",[cn]:"fire-perf-compat",[un]:"fire-rc",[hn]:"fire-rc-compat",[dn]:"fire-gcs",[fn]:"fire-gcs-compat",[pn]:"fire-fst",[gn]:"fire-fst-compat",[mn]:"fire-vertex","fire-js":"fire-js",[vn]:"fire-js-all"},wn=new Map,_n=new Map,xn=new Map;function Sn(e,t){try{e.container.addComponent(t)}catch(nk){Wt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),nk)}}function En(e){const t=e.name;if(xn.has(t))return Wt.debug("There were multiple attempts to register component ".concat(t,".")),!1;xn.set(t,e);for(const n of wn.values())Sn(n,e);for(const n of _n.values())Sn(n,e);return!0}function Cn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function kn(e){return void 0!==e.settings}const Tn=new rt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class In{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ft("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}}const Nn="10.12.2";function jn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:yn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Tn.create("bad-app-name",{appName:String(i)});if(n||(n=Qe()),!n)throw Tn.create("no-options");const s=wn.get(i);if(s){if(st(n,s.options)&&st(r,s.config))return s;throw Tn.create("duplicate-app",{appName:i})}const a=new vt(i);for(const l of xn.values())a.addComponent(l);const o=new In(n,r,a);return wn.set(i,o),o}function Pn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn;const t=wn.get(e);if(!t&&e===yn&&Qe())return jn();if(!t)throw Tn.create("no-app",{appName:e});return t}function On(e,t,n){var r;let i=null!==(r=bn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Wt.warn(e.join(" "))}En(new ft("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const An="firebase-heartbeat-database",Rn=1,Dn="firebase-heartbeat-store";let Ln=null;function Mn(){return Ln||(Ln=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Lt(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Lt(a.result),e.oldVersion,e.newVersion,Lt(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}(An,Rn,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Dn)}catch(nk){console.warn(nk)}}}).catch((e=>{throw Tn.create("idb-open",{originalErrorMessage:e.message})}))),Ln}async function Fn(e,t){try{const n=(await Mn()).transaction(Dn,"readwrite"),r=n.objectStore(Dn);await r.put(t,Un(e)),await n.done}catch(nk){if(nk instanceof nt)Wt.warn(nk.message);else{const t=Tn.create("idb-set",{originalErrorMessage:null===nk||void 0===nk?void 0:nk.message});Wt.warn(t.message)}}}function Un(e){return"".concat(e.name,"!").concat(e.options.appId)}class Vn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Bn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=zn();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=zn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Hn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Hn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=He(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function zn(){return(new Date).toISOString().substring(0,10)}class Bn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!tt()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Mn()).transaction(Dn),n=await t.objectStore(Dn).get(Un(e));return await t.done,n}catch(nk){if(nk instanceof nt)Wt.warn(nk.message);else{const t=Tn.create("idb-get",{originalErrorMessage:null===nk||void 0===nk?void 0:nk.message});Wt.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Fn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Fn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Hn(e){return He(JSON.stringify({version:2,heartbeats:e})).length}var qn;qn="",En(new ft("platform-logger",(e=>new Bt(e)),"PRIVATE")),En(new ft("heartbeat",(e=>new Vn(e)),"PRIVATE")),On(Ht,qt,qn),On(Ht,qt,"esm2017"),On("fire-js","");On("firebase","10.12.2","app");var Wn,Kn,Gn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},$n={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return d(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);h(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Kn=$n.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Wn=$n.Integer=r}).apply("undefined"!==typeof Gn?Gn:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Qn,Yn,Xn,Jn,Zn,er,tr,nr,rr,ir="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},sr={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ir&&ir];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function x(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout((()=>{throw e}),0)}function E(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new k),(e=>e.reset()));class k{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,I=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},j=()=>{const e=i.Promise.resolve(void 0);T=()=>{e.then(P)}};var P=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(n){S(n)}var t=C;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function O(){this.s=this.s,this.C=this.C}function A(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},A.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function D(e,t){if(A.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(Ov){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}h(D,A);var L={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=H(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),W={};function K(e,t,n,r,i){if(r&&r.once)return $(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[q]=l=new z(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function $(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)$(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(s=e.g[t],n,r,i))&&(V(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[q]=null)):V(e)}}}function X(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){O.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new A(t,e);else if(t instanceof A)t.target=t.target||e;else{var i=t;_(t=new A(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,O),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends O{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){O.call(this),this.h=e,this.g={}}h(le,O);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,de=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){A.call(this,"d")}function be(){A.call(this,"c")}h(ye,A),h(be,A);var we={},_e=null;function xe(){return _e=_e||new ne}function Se(e){A.call(this,we.La,e)}function Ee(e){const t=xe();re(t,new Se(t))}function Ce(e,t){A.call(this,we.STAT_EVENT,e),this.stat=t}function ke(e){const t=xe();re(t,new Ce(t,e))}function Te(e,t){A.call(this,we.Ma,e),this.size=t}function Ie(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ne(){this.g=!0}function je(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return he(n)}catch(Av){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",h(Se,A),we.STAT_EVENT="statevent",h(Ce,A),we.Ma="timingevent",h(Te,A),Ne.prototype.xa=function(){this.g=!1},Ne.prototype.info=function(){};var Pe,Oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ae={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Re(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}h(Re,pe),Re.prototype.g=function(){return new XMLHttpRequest},Re.prototype.i=function(){return{}},Pe=new Re;var Me={},Fe={};function Ue(e,t,n){e.L=1,e.v=ht(at(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),He(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Ct(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var a=K(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function He(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ie(c(e.ba,e),t)}function We(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function Ge(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function $e(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Yt(n)}rn(n),ke(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ie(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(We(o),He(o)),r.g=a}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch(u){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const d=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=d||7==t||Ee(),We(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Kt(this.g);e="";var s=r.length,a=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,ke(12),Ge(this),Ke(this);break e}je(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$e(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Fe){4==d&&(this.s=4,ke(14),n=!1),je(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,ke(15),je(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}je(this.i,this.l,e,null),$e(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=o.length||this.h.h||(this.s=1,ke(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),sn(h),h.M=!0,ke(11))}}else je(this.i,this.l,o,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else je(this.i,this.l,o,null),$e(this,o);4==d&&Ge(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,He(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=x(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,ke(12)):(this.s=0,ke(13)),Ge(this),Ke(this)}}}catch(Fv){}},De.prototype.cancel=function(){this.J=!0,Ge(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ee(),ke(17)),Ge(this),this.s=2,Ke(this)):qe(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new _t;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new _t(null,this.h))}function at(e){return new st(e)}function ot(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof _t?(e.i=t,function(e,t){t&&!e.j&&(xt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),Ct(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new _t(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function ht(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function _t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function St(e,t){xt(e),t=kt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Et(e,t){return xt(e),t=kt(e,t),e.g.has(t)}function Ct(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(kt(e,t),d(n)),e.h+=n.length)}function kt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Tt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(Ov){}}function It(){this.g=new fe}function Nt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;a(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(nk){throw t.push(r+"type="+encodeURIComponent("_badmap")),nk}}function jt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ot(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function At(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Rt(e)}function Rt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=_t.prototype).add=function(e,t){xt(this),this.i=null,e=kt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){xt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){xt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){xt(this);let t=[];if("string"===typeof e)Et(this,e)&&(t=t.concat(this.g.get(kt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return xt(this),this.i=null,Et(this,e=kt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},h(jt,pe),jt.prototype.g=function(){return new Pt(this.l,this.j)},jt.prototype.i=(mt={},function(){return mt}),h(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Rt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,At(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rt(this)),this.g&&(this.readyState=3,Rt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ot(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?At(this):Rt(this),3==this.readyState&&Ot(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,At(this))},e.Qa=function(e){this.g&&(this.response=e,At(this))},e.ga=function(){this.g&&At(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Mt,ne);var Ft=/^https?$/i,Ut=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),Ht(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Ft.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Wt(e)?e.g.statusText:""}catch(Av){o=""}e.l=o+" ["+e.Z()+"]",zt(e)}}finally{Ht(e)}}}function Ht(e,t){if(e.g){qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(nk){}}}function qt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(lr){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function $t(e){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new It,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Xt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new De(e,e.j,t)).L=2,t.v=ht(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),He(t)}hn(e)}function Yt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Xt(e){Yt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||j(),I||(T(),I=!0),N.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Nt(o,e,"req"+n+"_")}catch(Fv){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||j(),I||(T(),I=!0),N.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ie(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(at(t)),n.m=null,n.P=!0,Ve(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=xe(),new Te(r,n)),Jt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ie(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),ht(r),t?function(e,t){const n=new Ne;if(i.Image){const r=new Image;r.onload=u(Tt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Tt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Tt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Tt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ne;const n=new AbortController,r=setTimeout((()=>{n.abort(),Tt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Tt(0,0,!0,t):Tt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Tt(0,0,!1,t)}))}(r.toString(),n)}else ke(2);e.G=0,e.l&&e.l.sa(t),hn(e),Xt(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof st?at(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new st(null);r&&ot(a,r),t&&(a.g=t),s&&lt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new jt({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new $t(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?me(this.o):me(Pe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(Ov){return void Vt(this,Ov)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(Ov){Vt(this,Ov)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Ht(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ht(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=$t.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){ke(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new De(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),_(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Dt(s)))+"&"+t:this.m&&Lt(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ie(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ke(10),Yt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),rn(this),ke(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},h(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,gn.aa.N.call(this)},h(vn,ye),h(yn,be),h(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new vn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,rr=sr.createWebChannelTransport=function(){return new mn},nr=sr.getStatEventTarget=function(){return xe()},tr=sr.Event=we,er=sr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,Zn=sr.ErrorCode=Oe,Ae.COMPLETE="complete",Jn=sr.EventType=Ae,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Xn=sr.WebChannel=ge,Yn=sr.FetchXmlHttpFactory=jt,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,Qn=sr.XhrIo=Mt}).apply("undefined"!==typeof ir?ir:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ar="@firebase/firestore";class or{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}or.UNAUTHENTICATED=new or(null),or.GOOGLE_CREDENTIALS=new or("google-credentials-uid"),or.FIRST_PARTY=new or("first-party-uid"),or.MOCK_USER=new or("mock-user");let lr="10.12.1";const cr=new Et("@firebase/firestore");function ur(){return cr.logLevel}function hr(e){if(cr.logLevel<=bt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(pr);cr.debug("Firestore (".concat(lr,"): ").concat(e),...i)}}function dr(e){if(cr.logLevel<=bt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(pr);cr.error("Firestore (".concat(lr,"): ").concat(e),...i)}}function fr(e){if(cr.logLevel<=bt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(pr);cr.warn("Firestore (".concat(lr,"): ").concat(e),...i)}}function pr(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function mr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(lr,") INTERNAL ASSERTION FAILED: ")+e;throw dr(t),new Error(t)}function gr(e,t){e||mr()}function vr(e,t){return e}const yr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class br extends nt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class wr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class _r{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class xr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(or.UNAUTHENTICATED)))}shutdown(){}}class Sr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Er{constructor(e){this.t=e,this.currentUser=or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new wr,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{hr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(hr("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new wr)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(hr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(gr("string"==typeof t.accessToken),new _r(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return gr(null===e||"string"==typeof e),new or(e)}}class Cr{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=or.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class kr{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Cr(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(or.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Tr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ir{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&hr("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,hr("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{hr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):hr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(gr("string"==typeof e.token),this.R=e.token,new Tr(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Nr(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class jr{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Nr(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Pr(e,t){return e<t?-1:e>t?1:0}function Or(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Ar{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new br(yr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new br(yr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new br(yr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new br(yr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ar.fromMillis(Date.now())}static fromDate(e){return Ar.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ar(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pr(this.nanoseconds,e.nanoseconds):Pr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rr(e)}static min(){return new Rr(new Ar(0,0))}static max(){return new Rr(new Ar(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Dr{constructor(e,t,n){void 0===t?t=0:t>e.length&&mr(),void 0===n?n=e.length-t:n>e.length-t&&mr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Dr.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Dr?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Lr extends Dr{construct(e,t,n){return new Lr(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new br(yr.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Lr(e)}static emptyPath(){return new Lr([])}}const Mr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fr extends Dr{construct(e,t,n){return new Fr(e,t,n)}static isValidIdentifier(e){return Mr.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fr(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new br(yr.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new br(yr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new br(yr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new br(yr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fr(t)}static emptyPath(){return new Fr([])}}class Ur{constructor(e){this.path=e}static fromPath(e){return new Ur(Lr.fromString(e))}static fromName(e){return new Ur(Lr.fromString(e).popFirst(5))}static empty(){return new Ur(Lr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Lr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Lr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ur(new Lr(e.slice()))}}class Vr{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Vr.UNKNOWN_ID=-1;function zr(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Rr.fromTimestamp(1e9===r?new Ar(n+1,0):new Ar(n,r));return new Hr(i,Ur.empty(),t)}function Br(e){return new Hr(e.readTime,e.key,-1)}class Hr{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Hr(Rr.min(),Ur.empty(),-1)}static max(){return new Hr(Rr.max(),Ur.empty(),-1)}}function qr(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ur.comparator(e.documentKey,t.documentKey),0!==n?n:Pr(e.largestBatchId,t.largestBatchId))}const Wr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Gr(e){if(e.code!==yr.FAILED_PRECONDITION||e.message!==Wr)throw e;hr("LocalStore","Unexpectedly lost primary lease")}class $r{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&mr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $r(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof $r?t:$r.resolve(t)}catch(e){return $r.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):$r.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):$r.reject(t)}static resolve(e){return new $r(((t,n)=>{t(e)}))}static reject(e){return new $r(((t,n)=>{n(e)}))}static waitFor(e){return new $r(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=$r.resolve(!1);for(const n of e)t=t.next((e=>e?$r.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new $r(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new $r(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Qr(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yr(e){return"IndexedDbTransactionError"===e.name}class Xr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Jr(e){return null==e}function Zr(e){return 0===e&&1/e==-1/0}function ei(e){return"number"==typeof e&&Number.isInteger(e)&&!Zr(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Xr.oe=-1;const ti=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ni=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ri=ni;function ii(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function si(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ai(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class oi{constructor(e,t){this.comparator=e,this.root=t||ci.EMPTY}insert(e,t){return new oi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ci.BLACK,null,null))}remove(e){return new oi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ci.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new li(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new li(this.root,e,this.comparator,!1)}getReverseIterator(){return new li(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new li(this.root,e,this.comparator,!0)}}class li{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ci{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ci.RED,this.left=null!=r?r:ci.EMPTY,this.right=null!=i?i:ci.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ci(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ci.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ci.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ci.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ci.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mr();if(this.right.isRed())throw mr();const e=this.left.check();if(e!==this.right.check())throw mr();return e+(this.isRed()?0:1)}}ci.EMPTY=null,ci.RED=!0,ci.BLACK=!1,ci.EMPTY=new class{constructor(){this.size=0}get key(){throw mr()}get value(){throw mr()}get color(){throw mr()}get left(){throw mr()}get right(){throw mr()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ci(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ui{constructor(e){this.comparator=e,this.data=new oi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hi(this.data.getIterator())}getIteratorFrom(e){return new hi(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ui))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ui(this.comparator);return t.data=e,t}}class hi{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class di{constructor(e){this.fields=e,e.sort(Fr.comparator)}static empty(){return new di([])}unionWith(e){let t=new ui(Fr.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new di(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Or(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class fi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new fi("Invalid base64 string: "+e):e}}(e);return new pi(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new pi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pi.EMPTY_BYTE_STRING=new pi("");const mi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(e){if(gr(!!e),"string"==typeof e){let t=0;const n=mi.exec(e);if(gr(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:vi(e.seconds),nanos:vi(e.nanos)}}function vi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function yi(e){return"string"==typeof e?pi.fromBase64String(e):pi.fromUint8Array(e)}function bi(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function wi(e){const t=e.mapValue.fields.__previous_value__;return bi(t)?wi(t):t}function _i(e){const t=gi(e.mapValue.fields.__local_write_time__.timestampValue);return new Ar(t.seconds,t.nanos)}class xi{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class Si{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Si("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Si&&e.projectId===this.projectId&&e.database===this.database}}const Ei={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ci(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?bi(e)?4:Ui(e)?9007199254740991:10:mr()}function ki(e,t){if(e===t)return!0;const n=Ci(e);if(n!==Ci(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return _i(e).isEqual(_i(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=gi(e.timestampValue),r=gi(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return yi(e.bytesValue).isEqual(yi(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return vi(e.geoPointValue.latitude)===vi(t.geoPointValue.latitude)&&vi(e.geoPointValue.longitude)===vi(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return vi(e.integerValue)===vi(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=vi(e.doubleValue),r=vi(t.doubleValue);return n===r?Zr(n)===Zr(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Or(e.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ii(n)!==ii(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ki(n[i],r[i])))return!1;return!0}(e,t);default:return mr()}}function Ti(e,t){return void 0!==(e.values||[]).find((e=>ki(e,t)))}function Ii(e,t){if(e===t)return 0;const n=Ci(e),r=Ci(t);if(n!==r)return Pr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pr(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=vi(e.integerValue||e.doubleValue),r=vi(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ni(e.timestampValue,t.timestampValue);case 4:return Ni(_i(e),_i(t));case 5:return Pr(e.stringValue,t.stringValue);case 6:return function(e,t){const n=yi(e),r=yi(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Pr(n[i],r[i]);if(0!==e)return e}return Pr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Pr(vi(e.latitude),vi(t.latitude));return 0!==n?n:Pr(vi(e.longitude),vi(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Ii(n[i],r[i]);if(e)return e}return Pr(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ei.mapValue&&t===Ei.mapValue)return 0;if(e===Ei.mapValue)return 1;if(t===Ei.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Pr(r[a],s[a]);if(0!==e)return e;const t=Ii(n[r[a]],i[s[a]]);if(0!==t)return t}return Pr(r.length,s.length)}(e.mapValue,t.mapValue);default:throw mr()}}function Ni(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Pr(e,t);const n=gi(e),r=gi(t),i=Pr(n.seconds,r.seconds);return 0!==i?i:Pr(n.nanos,r.nanos)}function ji(e){return Pi(e)}function Pi(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=gi(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return yi(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ur.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Pi(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Pi(e.fields[i]));return n+"}"}(e.mapValue):mr()}function Oi(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ai(e){return!!e&&"integerValue"in e}function Ri(e){return!!e&&"arrayValue"in e}function Di(e){return!!e&&"nullValue"in e}function Li(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Mi(e){return!!e&&"mapValue"in e}function Fi(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return si(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Fi(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Fi(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Ui(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Vi{constructor(e){this.value=e}static empty(){return new Vi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Mi(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fi(t)}setAll(e){let t=Fr.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Fi(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Mi(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Mi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){si(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Vi(Fi(this.value))}}function zi(e){const t=[];return si(e.fields,((e,n)=>{const r=new Fr([e]);if(Mi(n)){const e=zi(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new di(t)}class Bi{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Bi(e,0,Rr.min(),Rr.min(),Rr.min(),Vi.empty(),0)}static newFoundDocument(e,t,n,r){return new Bi(e,1,t,Rr.min(),n,r,0)}static newNoDocument(e,t){return new Bi(e,2,t,Rr.min(),Rr.min(),Vi.empty(),0)}static newUnknownDocument(e,t){return new Bi(e,3,t,Rr.min(),Rr.min(),Vi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Rr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Hi{constructor(e,t){this.position=e,this.inclusive=t}}function qi(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Ur.comparator(Ur.fromName(a.referenceValue),n.key):Ii(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Wi(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ki(e.position[n],t.position[n]))return!1;return!0}class Ki{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Gi(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class $i{}class Qi extends $i{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new rs(e,t,n):"array-contains"===t?new os(e,n):"in"===t?new ls(e,n):"not-in"===t?new cs(e,n):"array-contains-any"===t?new us(e,n):new Qi(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new is(e,n):new ss(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ii(t,this.value)):null!==t&&Ci(this.value)===Ci(t)&&this.matchesComparison(Ii(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yi extends $i{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Yi(e,t)}matches(e){return Xi(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Xi(e){return"and"===e.op}function Ji(e){return Zi(e)&&Xi(e)}function Zi(e){for(const t of e.filters)if(t instanceof Yi)return!1;return!0}function es(e){if(e instanceof Qi)return e.field.canonicalString()+e.op.toString()+ji(e.value);if(Ji(e))return e.filters.map((e=>es(e))).join(",");{const t=e.filters.map((e=>es(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function ts(e,t){return e instanceof Qi?function(e,t){return t instanceof Qi&&e.op===t.op&&e.field.isEqual(t.field)&&ki(e.value,t.value)}(e,t):e instanceof Yi?function(e,t){return t instanceof Yi&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&ts(n,t.filters[r])),!0)}(e,t):void mr()}function ns(e){return e instanceof Qi?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(ji(e.value))}(e):e instanceof Yi?function(e){return e.op.toString()+" {"+e.getFilters().map(ns).join(" ,")+"}"}(e):"Filter"}class rs extends Qi{constructor(e,t,n){super(e,t,n),this.key=Ur.fromName(n.referenceValue)}matches(e){const t=Ur.comparator(e.key,this.key);return this.matchesComparison(t)}}class is extends Qi{constructor(e,t){super(e,"in",t),this.keys=as("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ss extends Qi{constructor(e,t){super(e,"not-in",t),this.keys=as("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function as(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Ur.fromName(e.referenceValue)))}class os extends Qi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ri(t)&&Ti(t.arrayValue,this.value)}}class ls extends Qi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ti(this.value.arrayValue,t)}}class cs extends Qi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ti(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ti(this.value.arrayValue,t)}}class us extends Qi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ri(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ti(this.value.arrayValue,e)))}}class hs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}}function ds(e){return new hs(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function fs(e){const t=vr(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>es(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Jr(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>ji(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>ji(e))).join(",")),t.ue=e}return t.ue}function ps(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Gi(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ts(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Wi(e.startAt,t.startAt)&&Wi(e.endAt,t.endAt)}function ms(e){return Ur.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class gs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function vs(e,t,n,r,i,s,a,o){return new gs(e,t,n,r,i,s,a,o)}function ys(e){return new gs(e)}function bs(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ws(e){return null!==e.collectionGroup}function _s(e){const t=vr(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ui(Fr.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Ki(r,n))})),e.has(Fr.keyField().canonicalString())||t.ce.push(new Ki(Fr.keyField(),n))}return t.ce}function xs(e){const t=vr(e);return t.le||(t.le=Ss(t,_s(e))),t.le}function Ss(e,t){if("F"===e.limitType)return ds(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Ki(e.field,t)}));const n=e.endAt?new Hi(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Hi(e.startAt.position,e.startAt.inclusive):null;return ds(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Es(e,t){const n=e.filters.concat([t]);return new gs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Cs(e,t,n){return new gs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ks(e,t){return ps(xs(e),xs(t))&&e.limitType===t.limitType}function Ts(e){return"".concat(fs(xs(e)),"|lt:").concat(e.limitType)}function Is(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>ns(e))).join(", "),"]")),Jr(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>ji(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>ji(e))).join(",")),"Target(".concat(t,")")}(xs(e)),"; limitType=").concat(e.limitType,")")}function Ns(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ur.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of _s(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=qi(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,_s(e),t))&&!(e.endAt&&!function(e,t,n){const r=qi(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,_s(e),t))}(e,t)}function js(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ps(e){return(t,n)=>{let r=!1;for(const i of _s(e)){const e=Os(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Os(e,t,n){const r=e.field.isKeyField()?Ur.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ii(r,i):mr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return mr()}}class As{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){si(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return ai(this.inner)}size(){return this.innerSize}}const Rs=new oi(Ur.comparator);function Ds(){return Rs}const Ls=new oi(Ur.comparator);function Ms(){let e=Ls;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Fs(e){let t=Ls;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Us(){return zs()}function Vs(){return zs()}function zs(){return new As((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Bs=new oi(Ur.comparator),Hs=new ui(Ur.comparator);function qs(){let e=Hs;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Ws=new ui(Pr);function Ks(){return Ws}function Gs(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zr(t)?"-0":t}}function $s(e){return{integerValue:""+e}}function Qs(e,t){return ei(t)?$s(t):Gs(e,t)}class Ys{constructor(){this._=void 0}}function Xs(e,t,n){return e instanceof ea?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&bi(t)&&(t=wi(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ta?na(e,t):e instanceof ra?ia(e,t):function(e,t){const n=Zs(e,t),r=aa(n)+aa(e.Pe);return Ai(n)&&Ai(e.Pe)?$s(r):Gs(e.serializer,r)}(e,t)}function Js(e,t,n){return e instanceof ta?na(e,t):e instanceof ra?ia(e,t):n}function Zs(e,t){return e instanceof sa?function(e){return Ai(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ea extends Ys{}class ta extends Ys{constructor(e){super(),this.elements=e}}function na(e,t){const n=oa(t);for(const r of e.elements)n.some((e=>ki(e,r)))||n.push(r);return{arrayValue:{values:n}}}class ra extends Ys{constructor(e){super(),this.elements=e}}function ia(e,t){let n=oa(t);for(const r of e.elements)n=n.filter((e=>!ki(e,r)));return{arrayValue:{values:n}}}class sa extends Ys{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function aa(e){return vi(e.integerValue||e.doubleValue)}function oa(e){return Ri(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class la{constructor(e,t){this.field=e,this.transform=t}}class ca{constructor(e,t){this.version=e,this.transformResults=t}}class ua{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ua}static exists(e){return new ua(void 0,e)}static updateTime(e){return new ua(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ha(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class da{}function fa(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Sa(e.key,ua.none()):new ya(e.key,e.data,ua.none());{const n=e.data,r=Vi.empty();let i=new ui(Fr.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new ba(e.key,r,new di(i.toArray()),ua.none())}}function pa(e,t,n){e instanceof ya?function(e,t,n){const r=e.value.clone(),i=_a(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ba?function(e,t,n){if(!ha(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=_a(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(wa(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ma(e,t,n,r){return e instanceof ya?function(e,t,n,r){if(!ha(e.precondition,t))return n;const i=e.value.clone(),s=xa(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ba?function(e,t,n,r){if(!ha(e.precondition,t))return n;const i=xa(e.fieldTransforms,r,t),s=t.data;return s.setAll(wa(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return ha(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ga(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Zs(r.transform,e||null);null!=i&&(null===n&&(n=Vi.empty()),n.set(r.field,i))}return n||null}function va(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Or(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ta&&t instanceof ta||e instanceof ra&&t instanceof ra?Or(e.elements,t.elements,ki):e instanceof sa&&t instanceof sa?ki(e.Pe,t.Pe):e instanceof ea&&t instanceof ea}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ya extends da{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ba extends da{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function wa(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function _a(e,t,n){const r=new Map;gr(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Js(a,o,n[i]))}return r}function xa(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Xs(e,s,t))}return r}class Sa extends da{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ea extends da{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ca{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&pa(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ma(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ma(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Vs();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=fa(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Rr.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),qs())}isEqual(e){return this.batchId===e.batchId&&Or(this.mutations,e.mutations,((e,t)=>va(e,t)))&&Or(this.baseMutations,e.baseMutations,((e,t)=>va(e,t)))}}class ka{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){gr(e.mutations.length===n.length);let r=Bs;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new ka(e,t,n,r)}}class Ta{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Ia{constructor(e,t){this.count=e,this.unchangedNames=t}}var Na,ja;function Pa(e){switch(e){default:return mr();case yr.CANCELLED:case yr.UNKNOWN:case yr.DEADLINE_EXCEEDED:case yr.RESOURCE_EXHAUSTED:case yr.INTERNAL:case yr.UNAVAILABLE:case yr.UNAUTHENTICATED:return!1;case yr.INVALID_ARGUMENT:case yr.NOT_FOUND:case yr.ALREADY_EXISTS:case yr.PERMISSION_DENIED:case yr.FAILED_PRECONDITION:case yr.ABORTED:case yr.OUT_OF_RANGE:case yr.UNIMPLEMENTED:case yr.DATA_LOSS:return!0}}function Oa(e){if(void 0===e)return dr("GRPC error has no .code"),yr.UNKNOWN;switch(e){case Na.OK:return yr.OK;case Na.CANCELLED:return yr.CANCELLED;case Na.UNKNOWN:return yr.UNKNOWN;case Na.DEADLINE_EXCEEDED:return yr.DEADLINE_EXCEEDED;case Na.RESOURCE_EXHAUSTED:return yr.RESOURCE_EXHAUSTED;case Na.INTERNAL:return yr.INTERNAL;case Na.UNAVAILABLE:return yr.UNAVAILABLE;case Na.UNAUTHENTICATED:return yr.UNAUTHENTICATED;case Na.INVALID_ARGUMENT:return yr.INVALID_ARGUMENT;case Na.NOT_FOUND:return yr.NOT_FOUND;case Na.ALREADY_EXISTS:return yr.ALREADY_EXISTS;case Na.PERMISSION_DENIED:return yr.PERMISSION_DENIED;case Na.FAILED_PRECONDITION:return yr.FAILED_PRECONDITION;case Na.ABORTED:return yr.ABORTED;case Na.OUT_OF_RANGE:return yr.OUT_OF_RANGE;case Na.UNIMPLEMENTED:return yr.UNIMPLEMENTED;case Na.DATA_LOSS:return yr.DATA_LOSS;default:return mr()}}(ja=Na||(Na={}))[ja.OK=0]="OK",ja[ja.CANCELLED=1]="CANCELLED",ja[ja.UNKNOWN=2]="UNKNOWN",ja[ja.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ja[ja.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ja[ja.NOT_FOUND=5]="NOT_FOUND",ja[ja.ALREADY_EXISTS=6]="ALREADY_EXISTS",ja[ja.PERMISSION_DENIED=7]="PERMISSION_DENIED",ja[ja.UNAUTHENTICATED=16]="UNAUTHENTICATED",ja[ja.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ja[ja.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ja[ja.ABORTED=10]="ABORTED",ja[ja.OUT_OF_RANGE=11]="OUT_OF_RANGE",ja[ja.UNIMPLEMENTED=12]="UNIMPLEMENTED",ja[ja.INTERNAL=13]="INTERNAL",ja[ja.UNAVAILABLE=14]="UNAVAILABLE",ja[ja.DATA_LOSS=15]="DATA_LOSS";let Aa=null;function Ra(){return new TextEncoder}const Da=new Wn([4294967295,4294967295],0);function La(e){const t=Ra().encode(e),n=new Kn;return n.update(t),new Uint8Array(n.digest())}function Ma(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Wn([n,r],0),new Wn([i,s],0)]}class Fa{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Ua("Invalid padding: ".concat(t));if(n<0)throw new Ua("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Ua("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Ua("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=Wn.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Wn.fromNumber(n)));return 1===r.compare(Da)&&(r=new Wn([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=La(e),[n,r]=Ma(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Fa(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=La(e),[n,r]=Ma(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Ua extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Va{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,za.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Va(Rr.min(),r,new oi(Pr),Ds(),qs())}}class za{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new za(n,t,qs(),qs(),qs())}}class Ba{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Ha{constructor(e,t){this.targetId=e,this.me=t}}class qa{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pi.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Wa{constructor(){this.fe=0,this.ge=$a(),this.pe=pi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=qs(),t=qs(),n=qs();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:mr()}})),new za(this.pe,this.ye,e,t,n)}ve(){this.we=!1,this.ge=$a()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,gr(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Ka{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ds(),this.qe=Ga(),this.Qe=new oi(Pr)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:mr()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(ms(i))if(0===n){const e=new Ur(i.path);this.Ue(t,e,Bi.newNoDocument(e,Rr.min()))}else gr(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Aa||Aa.et(function(e,t,n,r,i){var s,a,o,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==d?void 0:d.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=yi(n).toUint8Array()}catch(e){if(e instanceof fi)return fr("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Fa(s,r,i)}catch(e){return fr(e instanceof Ua?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&ms(i.target)){const t=new Ur(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,Bi.newNoDocument(t,e))}n.be&&(t.set(r,n.Ce()),n.ve())}}));let n=qs();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new Va(e,t,this.Qe,this.ke,n);return this.ke=Ds(),this.qe=Ga(),this.Qe=new oi(Pr),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Wa,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ui(Pr),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||hr("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Wa),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Ga(){return new oi(Ur.comparator)}function $a(){return new oi(Ur.comparator)}const Qa={asc:"ASCENDING",desc:"DESCENDING"},Ya={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xa={and:"AND",or:"OR"};class Ja{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Za(e,t){return e.useProto3Json||Jr(t)?t:{value:t}}function eo(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function to(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function no(e,t){return eo(e,t.toTimestamp())}function ro(e){return gr(!!e),Rr.fromTimestamp(function(e){const t=gi(e);return new Ar(t.seconds,t.nanos)}(e))}function io(e,t){return so(e,t).canonicalString()}function so(e,t){const n=function(e){return new Lr(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ao(e){const t=Lr.fromString(e);return gr(To(t)),t}function oo(e,t){return io(e.databaseId,t.path)}function lo(e,t){const n=ao(t);if(n.get(1)!==e.databaseId.projectId)throw new br(yr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new br(yr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ur(fo(n))}function co(e,t){return io(e.databaseId,t)}function uo(e){const t=ao(e);return 4===t.length?Lr.emptyPath():fo(t)}function ho(e){return new Lr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function fo(e){return gr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function po(e,t,n){return{name:oo(e,t),fields:n.value.mapValue.fields}}function mo(e,t){let n;if(t instanceof ya)n={update:po(e,t.key,t.value)};else if(t instanceof Sa)n={delete:oo(e,t.key)};else if(t instanceof ba)n={update:po(e,t.key,t.data),updateMask:ko(t.fieldMask)};else{if(!(t instanceof Ea))return mr();n={verify:oo(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof ea)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ta)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ra)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof sa)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw mr()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:no(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:mr()}(e,t.precondition)),n}function go(e,t){return{documents:[co(e,t.path)]}}function vo(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=co(e,i);const s=function(e){if(0!==e.length)return Co(Yi.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:So(e.field),direction:wo(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Za(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function yo(e){let t=uo(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){gr(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=bo(e);return t instanceof Yi&&Ji(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new Ki(Eo(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Jr(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Hi(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Hi(n,t)}(n.endAt)),vs(t,i,a,s,o,"F",l,c)}function bo(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Eo(e.unaryFilter.field);return Qi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Eo(e.unaryFilter.field);return Qi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Eo(e.unaryFilter.field);return Qi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Eo(e.unaryFilter.field);return Qi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return mr()}}(e):void 0!==e.fieldFilter?function(e){return Qi.create(Eo(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mr()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Yi.create(e.compositeFilter.filters.map((e=>bo(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return mr()}}(e.compositeFilter.op))}(e):mr()}function wo(e){return Qa[e]}function _o(e){return Ya[e]}function xo(e){return Xa[e]}function So(e){return{fieldPath:e.canonicalString()}}function Eo(e){return Fr.fromServerFormat(e.fieldPath)}function Co(e){return e instanceof Qi?function(e){if("=="===e.op){if(Li(e.value))return{unaryFilter:{field:So(e.field),op:"IS_NAN"}};if(Di(e.value))return{unaryFilter:{field:So(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Li(e.value))return{unaryFilter:{field:So(e.field),op:"IS_NOT_NAN"}};if(Di(e.value))return{unaryFilter:{field:So(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(e.field),op:_o(e.op),value:e.value}}}(e):e instanceof Yi?function(e){const t=e.getFilters().map((e=>Co(e)));return 1===t.length?t[0]:{compositeFilter:{op:xo(e.op),filters:t}}}(e):mr()}function ko(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function To(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Io{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Rr.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Rr.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:pi.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Io(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class No{constructor(e){this.ct=e}}function jo(e){const t=yo({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Cs(t,t.limit,"L"):t}class Po{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(vi(e.integerValue));else if("doubleValue"in e){const n=vi(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Zr(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Et(t,20),"string"==typeof n&&(n=gi(n)),t.At("".concat(n.seconds||"")),t.dt(n.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(yi(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?Ui(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):mr()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),Ur.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}Po.bt=new Po;class Oo{constructor(){this._n=new Ao}addToCollectionParentIndex(e,t){return this._n.add(t),$r.resolve()}getCollectionParents(e,t){return $r.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return $r.resolve()}deleteFieldIndex(e,t){return $r.resolve()}deleteAllFieldIndexes(e){return $r.resolve()}createTargetIndexes(e,t){return $r.resolve()}getDocumentsMatchingTarget(e,t){return $r.resolve(null)}getIndexType(e,t){return $r.resolve(0)}getFieldIndexes(e,t){return $r.resolve([])}getNextCollectionGroupToUpdate(e){return $r.resolve(null)}getMinOffset(e,t){return $r.resolve(Hr.min())}getMinOffsetFromCollectionGroup(e,t){return $r.resolve(Hr.min())}updateCollectionGroup(e,t,n){return $r.resolve()}updateIndexEntries(e,t){return $r.resolve()}}class Ao{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ui(Lr.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ui(Lr.comparator)).toArray()}}new Uint8Array(0);class Ro{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ro(e,Ro.DEFAULT_COLLECTION_PERCENTILE,Ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ro.DEFAULT_COLLECTION_PERCENTILE=10,Ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ro.DEFAULT=new Ro(41943040,Ro.DEFAULT_COLLECTION_PERCENTILE,Ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ro.DISABLED=new Ro(-1,0,0);class Do{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Do(0)}static Ln(){return new Do(-1)}}class Lo{constructor(){this.changes=new As((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?$r.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Mo{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Fo{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&ma(n.mutation,e,di.empty(),Ar.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,qs()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qs();const r=Us();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Ms();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Us();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,qs())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Ds();const s=zs(),a=zs();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof ba)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),ma(a.mutation,t,a.mutation.getFieldMask(),Ar.now())):s.set(t.key,di.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Mo(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=zs();let r=new oi(((e,t)=>e-t)),i=qs();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||di.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||qs()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Vs();l.forEach((e=>{if(!i.has(e)){const r=fa(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return $r.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Ur.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ws(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):$r.resolve(Us());let a=-1,o=i;return s.next((t=>$r.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?$r.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,qs()))).next((e=>({batchId:a,changes:Fs(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ur(t)).next((e=>{let t=Ms();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Ms();return this.indexManager.getCollectionParents(e,i).next((a=>$r.forEach(a,(a=>{const o=function(e,t){return new gs(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Bi.newInvalidDocument(r)))}));let n=Ms();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&ma(s.mutation,r,di.empty(),Ar.now()),Ns(t,r)&&(n=n.insert(e,r))})),n}))}}class Uo{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return $r.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ro(e.createTime)}}(t)),$r.resolve()}getNamedQuery(e,t){return $r.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:jo(e.bundledQuery),readTime:ro(e.readTime)}}(t)),$r.resolve()}}class Vo{constructor(){this.overlays=new oi(Ur.comparator),this.hr=new Map}getOverlay(e,t){return $r.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Us();return $r.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),$r.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),$r.resolve()}getOverlaysForCollection(e,t,n){const r=Us(),i=t.length+1,s=new Ur(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return $r.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new oi(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Us(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Us(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return $r.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Ta(t,n));let i=this.hr.get(t);void 0===i&&(i=qs(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class zo{constructor(){this.Pr=new ui(Bo.Ir),this.Tr=new ui(Bo.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new Bo(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new Bo(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new Ur(new Lr([])),n=new Bo(t,e),r=new Bo(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new Ur(new Lr([])),n=new Bo(t,e),r=new Bo(t,e+1);let i=qs();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Bo(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Bo{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return Ur.comparator(e.key,t.key)||Pr(e.pr,t.pr)}static Er(e,t){return Pr(e.pr,t.pr)||Ur.comparator(e.key,t.key)}}class Ho{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new ui(Bo.Ir)}checkEmpty(e){return $r.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Ca(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.wr=this.wr.add(new Bo(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $r.resolve(s)}lookupMutationBatch(e,t){return $r.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return $r.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $r.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return $r.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Bo(t,0),r=new Bo(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),$r.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ui(Pr);return t.forEach((e=>{const t=new Bo(e,0),r=new Bo(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),$r.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ur.isDocumentKey(i)||(i=i.child(""));const s=new Bo(new Ur(i),0);let a=new ui(Pr);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.pr)),!0)}),s),$r.resolve(this.Dr(a))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){gr(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return $r.forEach(t.mutations,(r=>{const i=new Bo(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new Bo(t,0),r=this.wr.firstAfterOrEqual(n);return $r.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,$r.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class qo{constructor(e){this.vr=e,this.docs=new oi(Ur.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return $r.resolve(n?n.document.mutableCopy():Bi.newInvalidDocument(t))}getEntries(e,t){let n=Ds();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Bi.newInvalidDocument(e))})),$r.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Ds();const s=t.path,a=new Ur(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||qr(Br(a),n)<=0||(r.has(a.key)||Ns(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return $r.resolve(i)}getAllFromCollectionGroup(e,t,n,r){mr()}Fr(e,t){return $r.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Wo(this)}getSize(e){return $r.resolve(this.size)}}class Wo extends Lo{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),$r.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class Ko{constructor(e){this.persistence=e,this.Mr=new As((e=>fs(e)),ps),this.lastRemoteSnapshotVersion=Rr.min(),this.highestTargetId=0,this.Or=0,this.Nr=new zo,this.targetCount=0,this.Lr=Do.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),$r.resolve()}getLastRemoteSnapshotVersion(e){return $r.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $r.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),$r.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),$r.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new Do(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,$r.resolve()}updateTargetData(e,t){return this.qn(t),$r.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,$r.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),$r.waitFor(i).next((()=>r))}getTargetCount(e){return $r.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return $r.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),$r.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),$r.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),$r.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return $r.resolve(n)}containsKey(e,t){return $r.resolve(this.Nr.containsKey(t))}}class Go{constructor(e,t){this.Br={},this.overlays={},this.kr=new Xr(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Ko(this),this.indexManager=new Oo,this.remoteDocumentCache=function(e){return new qo(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new No(t),this.$r=new Uo(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Vo,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new Ho(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){hr("MemoryPersistence","Starting transaction:",e);const r=new $o(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return $r.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class $o extends Kr{constructor(e){super(),this.currentSequenceNumber=e}}class Qo{constructor(e){this.persistence=e,this.zr=new zo,this.jr=null}static Hr(e){return new Qo(e)}get Jr(){if(this.jr)return this.jr;throw mr()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),$r.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),$r.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),$r.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $r.forEach(this.Jr,(n=>{const r=Ur.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,Rr.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return $r.or([()=>$r.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class Yo{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=qs(),r=qs();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Yo(e,t.fromCache,n,r)}}class Xo{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Jo{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=et()?8:Qr(Ze())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Xo;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(ur()<=bt.DEBUG&&hr("QueryEngine","SDK will not create cache indexes for query:",Is(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),$r.resolve()):(ur()<=bt.DEBUG&&hr("QueryEngine","Query:",Is(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(ur()<=bt.DEBUG&&hr("QueryEngine","The SDK decides to create cache indexes for query:",Is(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xs(t))):$r.resolve())}ji(e,t){if(bs(t))return $r.resolve(null);let n=xs(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Cs(t,null,"F"),n=xs(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=qs(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,Cs(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return bs(t)||r.isEqual(Rr.min())?$r.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?$r.resolve(null):(ur()<=bt.DEBUG&&hr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Is(t)),this.es(e,s,t,zr(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new ui(Ps(e));return t.forEach(((t,r)=>{Ns(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return ur()<=bt.DEBUG&&hr("QueryEngine","Using full collection scan to execute query:",Is(t)),this.zi.getDocumentsMatchingQuery(e,t,Hr.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Zo{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new oi(Pr),this.rs=new As((e=>fs(e)),ps),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fo(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function el(e,t,n,r){return new Zo(e,t,n,r)}async function tl(e,t){const n=vr(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=qs();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function nl(e){const t=vr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function rl(e,t,n){let r=qs(),i=qs();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Ds();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Rr.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):hr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function il(e,t){const n=vr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function sl(e,t){const n=vr(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,$r.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new Io(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function al(e,t,n){const r=vr(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Yr(e))throw e;hr("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function ol(e,t,n){const r=vr(e);let i=Rr.min(),s=qs();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=vr(e),i=r.rs.get(n);return void 0!==i?$r.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,xs(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:Rr.min(),n?s:qs()))).next((e=>(ll(r,js(t),e),{documents:e,hs:s})))))}function ll(e,t,n){let r=e.ss.get(t)||Rr.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}class cl{constructor(){this.activeTargetIds=Ks()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ul{constructor(){this.no=new cl,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new cl,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hl{io(e){}shutdown(){}}class dl{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){hr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){hr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let fl=null;function pl(){return null===fl?fl=268435456+Math.round(2147483648*Math.random()):fl++,"0x"+fl.toString(16)}const ml={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gl{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const vl="WebChannelConnection";class yl extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.wo=t+"://"+e.host,this.So="projects/".concat(n,"/databases/").concat(r),this.bo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Do(){return!1}Co(e,t,n,r,i){const s=pl(),a=this.vo(e,t.toUriEncodedString());hr("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(o,r,i),this.Mo(e,a,o,n).then((t=>(hr("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw fr("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t}))}xo(e,t,n,r,i,s){return this.Co(e,t,n,r,i)}Fo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+lr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}vo(e,t){const n=ml[e];return"".concat(this.wo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,n,r){const i=pl();return new Promise(((s,a)=>{const o=new Qn;o.setWithCredentials(!0),o.listenOnce(Jn.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Zn.NO_ERROR:const t=o.getResponseJson();hr(vl,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Zn.TIMEOUT:hr(vl,"RPC '".concat(e,"' ").concat(i," timed out")),a(new br(yr.DEADLINE_EXCEEDED,"Request time out"));break;case Zn.HTTP_ERROR:const n=o.getStatus();if(hr(vl,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(yr).indexOf(t)>=0?t:yr.UNKNOWN}(t.status);a(new br(e,t.message))}else a(new br(yr.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new br(yr.UNAVAILABLE,"Connection failed."));break;default:mr()}}finally{hr(vl,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);hr(vl,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)}))}Oo(e,t,n){const r=pl(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=rr(),a=nr(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new Yn({})),this.Fo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");hr(vl,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);let h=!1,d=!1;const f=new gl({lo:t=>{d?hr(vl,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(hr(vl,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),hr(vl,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Xn.EventType.OPEN,(()=>{d||(hr(vl,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.mo())})),p(u,Xn.EventType.CLOSE,(()=>{d||(d=!0,hr(vl,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.po())})),p(u,Xn.EventType.ERROR,(t=>{d||(d=!0,fr(vl,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.po(new br(yr.UNAVAILABLE,"The operation could not be completed")))})),p(u,Xn.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];gr(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){hr(vl,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Na[e];if(void 0!==t)return Oa(t)}(t),i=a.message;void 0===n&&(n=yr.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.po(new br(n,i)),u.close()}else hr(vl,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.yo(i)}})),p(a,tr.STAT_EVENT,(t=>{t.stat===er.PROXY?hr(vl,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===er.NOPROXY&&hr(vl,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.fo()}),0),f}}function bl(){return"undefined"!=typeof document?document:null}function wl(e){return new Ja(e,!0)}class _l{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.No=n,this.Lo=r,this.Bo=i,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const t=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),r=Math.max(0,t-n);r>0&&hr("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Qo=Date.now(),e()))),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class xl{constructor(e,t,n,r,i,s,a,o){this.oi=e,this.Go=n,this.zo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new _l(e,t)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,(()=>this.r_())))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,t){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,4!==e?this.Yo.reset():t&&t.code===yr.RESOURCE_EXHAUSTED?(dr(t.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):t&&t.code===yr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(t)}__(){}auth(){this.state=1;const e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.jo===t&&this.u_(n,r)}),(t=>{e((()=>{const e=new br(yr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.c_(e)}))}))}u_(e,t){const n=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po((()=>{n((()=>this.listener.Po()))})),this.stream.To((()=>{n((()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,(()=>(this.Xo()&&(this.state=3),Promise.resolve()))),this.listener.To())))})),this.stream.Ao((e=>{n((()=>this.c_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}e_(){this.state=5,this.Yo.$o((async()=>{this.state=0,this.start()}))}c_(e){return hr("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget((()=>this.jo===e?t():(hr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Sl extends xl{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:mr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(gr(void 0===t||"string"==typeof t),pi.fromBase64String(t||"")):(gr(void 0===t||t instanceof Buffer||t instanceof Uint8Array),pi.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?yr.UNKNOWN:Oa(e.code);return new br(t,e.message||"")}(a);n=new qa(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=lo(e,r.document.name),s=ro(r.document.updateTime),a=r.document.createTime?ro(r.document.createTime):Rr.min(),o=new Vi({mapValue:{fields:r.document.fields}}),l=Bi.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ba(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=lo(e,r.document),s=r.readTime?ro(r.readTime):Rr.min(),a=Bi.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Ba([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=lo(e,r.document),s=r.removedTargetIds||[];n=new Ba([],s,i,null)}else{if(!("filter"in t))return mr();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Ia(r,i),a=e.targetId;n=new Ha(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Rr.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Rr.min():t.readTime?ro(t.readTime):Rr.min()}(e);return this.listener.h_(t,n)}P_(e){const t={};t.database=ho(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ms(r)?{documents:go(e,r)}:{query:vo(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=to(e,t.resumeToken);const r=Za(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Rr.min())>0){n.readTime=eo(e,t.snapshotVersion.toTimestamp());const r=Za(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mr()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.i_(t)}I_(e){const t={};t.database=ho(this.serializer),t.removeTarget=e,this.i_(t)}}class El extends xl{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(gr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const t=function(e,t){return e&&e.length>0?(gr(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?ro(e.updateTime):ro(t);return n.isEqual(Rr.min())&&(n=ro(t)),new ca(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=ro(e.commitTime);return this.listener.A_(n,t)}return gr(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=ho(this.serializer),this.i_(e)}d_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>mo(this.serializer,e)))};this.i_(t)}}class Cl extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new br(yr.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,n,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.Co(e,so(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===yr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new br(yr.UNKNOWN,e.toString())}))}xo(e,t,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.xo(e,so(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===yr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new br(yr.UNKNOWN,e.toString())}))}terminate(){this.m_=!0,this.connection.terminate()}}class kl{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.y_?(dr(t),this.y_=!1):hr("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Tl{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=i,this.O_.io((e=>{n.enqueueAndForget((async()=>{Ll(this)&&(hr("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=vr(e);t.M_.add(4),await Nl(t),t.N_.set("Unknown"),t.M_.delete(4),await Il(t)}(this))}))})),this.N_=new kl(n,r)}}async function Il(e){if(Ll(e))for(const t of e.x_)await t(!0)}async function Nl(e){for(const t of e.x_)await t(!1)}function jl(e,t){const n=vr(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),Dl(n)?Rl(n):tc(n).Xo()&&Ol(n,t))}function Pl(e,t){const n=vr(e),r=tc(n);n.F_.delete(t),r.Xo()&&Al(n,t),0===n.F_.size&&(r.Xo()?r.n_():Ll(n)&&n.N_.set("Unknown"))}function Ol(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rr.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}tc(e).P_(t)}function Al(e,t){e.L_.xe(t),tc(e).I_(t)}function Rl(e){e.L_=new Ka({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),tc(e).start(),e.N_.w_()}function Dl(e){return Ll(e)&&!tc(e).Zo()&&e.F_.size>0}function Ll(e){return 0===vr(e).M_.size}function Ml(e){e.L_=void 0}async function Fl(e){e.N_.set("Online")}async function Ul(e){e.F_.forEach(((t,n)=>{Ol(e,t)}))}async function Vl(e,t){Ml(e),Dl(e)?(e.N_.D_(t),Rl(e)):e.N_.set("Unknown")}async function zl(e,t,n){if(e.N_.set("Online"),t instanceof qa&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.F_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.F_.delete(r),e.L_.removeTarget(r))}(e,t)}catch(n){hr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Bl(e,n)}else if(t instanceof Ba?e.L_.Ke(t):t instanceof Ha?e.L_.He(t):e.L_.We(t),!n.isEqual(Rr.min()))try{const t=await nl(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.L_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.F_.get(r);i&&e.F_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.F_.get(t);if(!r)return;e.F_.set(t,r.withResumeToken(pi.EMPTY_BYTE_STRING,r.snapshotVersion)),Al(e,t);const i=new Io(r.target,t,n,r.sequenceNumber);Ol(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){hr("RemoteStore","Failed to raise snapshot:",t),await Bl(e,t)}}async function Bl(e,t,n){if(!Yr(t))throw t;e.M_.add(1),await Nl(e),e.N_.set("Offline"),n||(n=()=>nl(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{hr("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await Il(e)}))}function Hl(e,t){return t().catch((n=>Bl(e,n,t)))}async function ql(e){const t=vr(e),n=nc(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;Wl(t);)try{const e=await il(t.localStore,r);if(null===e){0===t.v_.length&&n.n_();break}r=e.batchId,Kl(t,e)}catch(e){await Bl(t,e)}Gl(t)&&$l(t)}function Wl(e){return Ll(e)&&e.v_.length<10}function Kl(e,t){e.v_.push(t);const n=nc(e);n.Xo()&&n.E_&&n.d_(t.mutations)}function Gl(e){return Ll(e)&&!nc(e).Zo()&&e.v_.length>0}function $l(e){nc(e).start()}async function Ql(e){nc(e).V_()}async function Yl(e){const t=nc(e);for(const n of e.v_)t.d_(n.mutations)}async function Xl(e,t,n){const r=e.v_.shift(),i=ka.from(r,t,n);await Hl(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await ql(e)}async function Jl(e,t){t&&nc(e).E_&&await async function(e,t){if(function(e){return Pa(e)&&e!==yr.ABORTED}(t.code)){const n=e.v_.shift();nc(e).t_(),await Hl(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await ql(e)}}(e,t),Gl(e)&&$l(e)}async function Zl(e,t){const n=vr(e);n.asyncQueue.verifyOperationInProgress(),hr("RemoteStore","RemoteStore received new credentials");const r=Ll(n);n.M_.add(3),await Nl(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await Il(n)}async function ec(e,t){const n=vr(e);t?(n.M_.delete(2),await Il(n)):t||(n.M_.add(2),await Nl(n),n.N_.set("Unknown"))}function tc(e){return e.B_||(e.B_=function(e,t,n){const r=vr(e);return r.f_(),new Sl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Fl.bind(null,e),To:Ul.bind(null,e),Ao:Vl.bind(null,e),h_:zl.bind(null,e)}),e.x_.push((async t=>{t?(e.B_.t_(),Dl(e)?Rl(e):e.N_.set("Unknown")):(await e.B_.stop(),Ml(e))}))),e.B_}function nc(e){return e.k_||(e.k_=function(e,t,n){const r=vr(e);return r.f_(),new El(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:Ql.bind(null,e),Ao:Jl.bind(null,e),R_:Yl.bind(null,e),A_:Xl.bind(null,e)}),e.x_.push((async t=>{t?(e.k_.t_(),await ql(e)):(await e.k_.stop(),e.v_.length>0&&(hr("RemoteStore","Stopping write stream with ".concat(e.v_.length," pending writes")),e.v_=[]))}))),e.k_}class rc{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new rc(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new br(yr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ic(e,t){if(dr("AsyncQueue","".concat(t,": ").concat(e)),Yr(e))return new br(yr.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class sc{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ur.comparator(t.key,n.key):(e,t)=>Ur.comparator(e.key,t.key),this.keyedMap=Ms(),this.sortedSet=new oi(this.comparator)}static emptySet(e){return new sc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sc))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new sc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ac{constructor(){this.q_=new oi(Ur.comparator)}track(e){const t=e.doc.key,n=this.q_.get(t);n?0!==e.type&&3===n.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==n.type?this.q_=this.q_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.q_=this.q_.remove(t):1===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):mr():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class oc{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new oc(e,t,sc.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ks(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class lc{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((e=>e.G_()))}}class cc{constructor(){this.queries=new As((e=>Ts(e)),ks),this.onlineState="Unknown",this.z_=new Set}}async function uc(e,t){const n=vr(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.W_()&&t.G_()&&(r=2):(s=new lc,r=t.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=ic(e,"Initialization of query '".concat(Is(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.U_.push(t),t.j_(n.onlineState),s.K_&&t.H_(s.K_)&&pc(n)}async function hc(e,t){const n=vr(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.U_.indexOf(t);e>=0&&(s.U_.splice(e,1),0===s.U_.length?i=t.G_()?0:1:!s.W_()&&t.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dc(e,t){const n=vr(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.U_)e.H_(i)&&(r=!0);t.K_=i}}r&&pc(n)}function fc(e,t,n){const r=vr(e),i=r.queries.get(t);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(t)}function pc(e){e.z_.forEach((e=>{e.next()}))}var mc,gc;(gc=mc||(mc={})).J_="default",gc.Cache="cache";class vc{constructor(e,t,n){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new oc(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache)return!0;if(!this.G_())return!0;const n="Offline"!==t;return(!this.options.ra||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){if(e.docChanges.length>0)return!0;const t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}na(e){e=oc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==mc.Cache}}class yc{constructor(e){this.key=e}}class bc{constructor(e){this.key=e}}class wc{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=qs(),this.mutatedKeys=qs(),this.Ia=Ps(e),this.Ta=new sc(this.Ia)}get Ea(){return this.la}da(e,t){const n=t?t.Aa:new ac,r=t?t.Ta:this.Ta;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Ns(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Ra(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Ia(u,o)>0||l&&this.Ia(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ta:s,Aa:n,Xi:a,mutatedKeys:i}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mr()}};return n(e)-n(t)}(e.type,t.type)||this.Ia(e.doc,t.doc))),this.Va(n),r=null!=r&&r;const a=t&&!r?this.ma():[],o=0===this.Pa.size&&this.current&&!r?1:0,l=o!==this.ha;return this.ha=o,0!==s.length||l?{snapshot:new oc(this.query,e.Ta,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new ac,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach((e=>this.la=this.la.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.la=this.la.delete(e))),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=qs(),this.Ta.forEach((e=>{this.ga(e.key)&&(this.Pa=this.Pa.add(e.key))}));const t=[];return e.forEach((e=>{this.Pa.has(e)||t.push(new bc(e))})),this.Pa.forEach((n=>{e.has(n)||t.push(new yc(n))})),t}pa(e){this.la=e.hs,this.Pa=qs();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return oc.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class _c{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class xc{constructor(e){this.key=e,this.wa=!1}}class Sc{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new As((e=>Ts(e)),ks),this.Da=new Map,this.Ca=new Set,this.va=new oi(Ur.comparator),this.Fa=new Map,this.Ma=new zo,this.xa={},this.Oa=new Map,this.Na=Do.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}async function Ec(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Wc(e);let i;const s=r.ba.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await kc(r,t,n,!0),i}async function Cc(e,t){const n=Wc(e);await kc(n,t,!0,!1)}async function kc(e,t,n,r){const i=await sl(e.localStore,xs(t)),s=i.targetId,a=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let o;return r&&(o=await Tc(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&jl(e.remoteStore,i),o}async function Tc(e,t,n,r,i){e.Ba=(t,n,r)=>async function(e,t,n,r){let i=t.view.da(n);i.Xi&&(i=await ol(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.da(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Uc(e,t.targetId,o.fa),o.snapshot}(e,t,n,r);const s=await ol(e.localStore,t,!0),a=new wc(t,s.hs),o=a.da(s.documents),l=za.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Uc(e,n,c.fa);const u=new _c(t,n,a);return e.ba.set(t,u),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),c.snapshot}async function Ic(e,t,n){const r=vr(e),i=r.ba.get(t),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter((e=>!ks(e,t)))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await al(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Pl(r.remoteStore,i.targetId),Mc(r,i.targetId)})).catch(Gr)):(Mc(r,i.targetId),await al(r.localStore,i.targetId,!0))}async function Nc(e,t){const n=vr(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Pl(n.remoteStore,r.targetId))}async function jc(e,t){const n=vr(e);try{const e=await function(e,t){const n=vr(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(pi.EMPTY_BYTE_STRING,Rr.min()).withLastLimboFreeSnapshotVersion(Rr.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Qr.updateTargetData(e,c))}));let o=Ds(),l=qs();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(rl(e,s,t.documentUpdates).next((e=>{o=e.cs,l=e.ls}))),!r.isEqual(Rr.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return $r.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fa.get(t);r&&(gr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.wa=!0:e.modifiedDocuments.size>0?gr(r.wa):e.removedDocuments.size>0&&(gr(r.wa),r.wa=!1))})),await Bc(n,e,t)}catch(e){await Gr(e)}}function Pc(e,t,n){const r=vr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ba.forEach(((n,r)=>{const i=r.view.j_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=vr(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.U_)i.j_(t)&&(r=!0)})),r&&pc(n)}(r.eventManager,t),e.length&&r.Sa.h_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Oc(e,t,n){const r=vr(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),s=i&&i.key;if(s){let e=new oi(Ur.comparator);e=e.insert(s,Bi.newNoDocument(s,Rr.min()));const n=qs().add(s),i=new Va(Rr.min(),new Map,new oi(Pr),e,n);await jc(r,i),r.va=r.va.remove(s),r.Fa.delete(t),zc(r)}else await al(r.localStore,t,!1).then((()=>Mc(r,t,n))).catch(Gr)}async function Ac(e,t){const n=vr(e),r=t.batch.batchId;try{const e=await function(e,t){const n=vr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=$r.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);gr(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=qs();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Lc(n,r,null),Dc(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bc(n,e)}catch(e){await Gr(e)}}async function Rc(e,t,n){const r=vr(e);try{const e=await function(e,t){const n=vr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(gr(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Lc(r,t,n),Dc(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Bc(r,e)}catch(n){await Gr(n)}}function Dc(e,t){(e.Oa.get(t)||[]).forEach((e=>{e.resolve()})),e.Oa.delete(t)}function Lc(e,t,n){const r=vr(e);let i=r.xa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function Mc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Vr(t).forEach((t=>{e.Ma.containsKey(t)||Fc(e,t)}))}function Fc(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);null!==n&&(Pl(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),zc(e))}function Uc(e,t,n){for(const r of n)r instanceof yc?(e.Ma.addReference(r.key,t),Vc(e,r)):r instanceof bc?(hr("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||Fc(e,r.key)):mr()}function Vc(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(hr("SyncEngine","New document in limbo: "+n),e.Ca.add(r),zc(e))}function zc(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new Ur(Lr.fromString(t)),r=e.Na.next();e.Fa.set(r,new xc(n)),e.va=e.va.insert(n,r),jl(e.remoteStore,new Io(xs(ys(n.path)),r,"TargetPurposeLimboResolution",Xr.oe))}}async function Bc(e,t,n){const r=vr(e),i=[],s=[],a=[];r.ba.isEmpty()||(r.ba.forEach(((e,o)=>{a.push(r.Ba(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient){const t=e&&!e.fromCache;r.sharedClientState.updateQueryState(o.targetId,t?"current":"not-current")}if(e){i.push(e);const t=Yo.Ki(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.Sa.h_(i),await async function(e,t){const n=vr(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>$r.forEach(t,(t=>$r.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>$r.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Yr(e))throw e;hr("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function Hc(e,t){const n=vr(e);if(!n.currentUser.isEqual(t)){hr("SyncEngine","User change. New user:",t.toKey());const e=await tl(n.localStore,t);n.currentUser=t,function(e,t){e.Oa.forEach((e=>{e.forEach((e=>{e.reject(new br(yr.CANCELLED,t))}))})),e.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Bc(n,e.us)}}function qc(e,t){const n=vr(e),r=n.Fa.get(t);if(r&&r.wa)return qs().add(r.key);{let e=qs();const r=n.Da.get(t);if(!r)return e;for(const t of r){const r=n.ba.get(t);e=e.unionWith(r.view.Ea)}return e}}function Wc(e){const t=vr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=jc.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qc.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Oc.bind(null,t),t.Sa.h_=dc.bind(null,t.eventManager),t.Sa.ka=fc.bind(null,t.eventManager),t}function Kc(e){const t=vr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ac.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Rc.bind(null,t),t}class Gc{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=wl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return el(this.persistence,new Jo,e.initialUser,this.serializer)}createPersistence(e){return new Go(Qo.Hr,this.serializer)}createSharedClientState(e){return new ul}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class $c{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Pc(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hc.bind(null,this.syncEngine),await ec(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new cc}createDatastore(e){const t=wl(e.databaseInfo.databaseId),n=function(e){return new yl(e)}(e.databaseInfo);return function(e,t,n,r){return new Cl(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Tl(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Pc(this.syncEngine,e,0)),dl.D()?new dl:new hl)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Sc(e,t,n,r,i,s);return a&&(o.La=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=vr(e);hr("RemoteStore","RemoteStore shutting down."),t.M_.add(5),await Nl(t),t.O_.shutdown(),t.N_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class Qc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Yc{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=or.UNAUTHENTICATED,this.clientId=jr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{hr("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(hr("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new br(yr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=ic(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Xc(e,t){e.asyncQueue.verifyOperationInProgress(),hr("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await tl(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Jc(e,t){e.asyncQueue.verifyOperationInProgress();const n=await eu(e);hr("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Zl(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Zl(t.remoteStore,n))),e._onlineComponents=t}function Zc(e){return"FirebaseError"===e.name?e.code===yr.FAILED_PRECONDITION||e.code===yr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function eu(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){hr("FirestoreClient","Using user provided OfflineComponentProvider");try{await Xc(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Zc(n))throw n;fr("Error using user provided cache. Falling back to memory cache: "+n),await Xc(e,new Gc)}}else hr("FirestoreClient","Using default OfflineComponentProvider"),await Xc(e,new Gc);return e._offlineComponents}async function tu(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(hr("FirestoreClient","Using user provided OnlineComponentProvider"),await Jc(e,e._uninitializedComponentsProvider._online)):(hr("FirestoreClient","Using default OnlineComponentProvider"),await Jc(e,new $c))),e._onlineComponents}function nu(e){return tu(e).then((e=>e.syncEngine))}async function ru(e){const t=await tu(e),n=t.eventManager;return n.onListen=Ec.bind(null,t.syncEngine),n.onUnlisten=Ic.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Cc.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Nc.bind(null,t.syncEngine),n}function iu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new wr;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Qc({next:s=>{t.enqueueAndForget((()=>hc(e,a)));const o=s.docs.has(n);!o&&s.fromCache?i.reject(new br(yr.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new br(yr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new vc(ys(n.path),s,{includeMetadataChanges:!0,ra:!0});return uc(e,a)}(await ru(e),e.asyncQueue,t,n,r))),r.promise}function su(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new wr;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Qc({next:n=>{t.enqueueAndForget((()=>hc(e,a))),n.fromCache&&"server"===r.source?i.reject(new br(yr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new vc(n,s,{includeMetadataChanges:!0,ra:!0});return uc(e,a)}(await ru(e),e.asyncQueue,t,n,r))),r.promise}function au(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const ou=new Map;function lu(e,t,n){if(!n)throw new br(yr.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function cu(e){if(!Ur.isDocumentKey(e))throw new br(yr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function uu(e){if(Ur.isDocumentKey(e))throw new br(yr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function hu(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":mr()}function du(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new br(yr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hu(e);throw new br(yr.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class fu{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new br(yr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new br(yr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new br(yr.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=au(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new br(yr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new br(yr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new br(yr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pu{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fu({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new br(yr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new br(yr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fu(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new xr;switch(e.type){case"firstParty":return new kr(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new br(yr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ou.get(e);t&&(hr("ComponentProvider","Removing Datastore"),ou.delete(e),t.terminate())}(this),Promise.resolve()}}class mu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new mu(this.firestore,e,this._query)}}class gu{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gu(this.firestore,e,this._key)}}class vu extends mu{constructor(e,t,n){super(e,t,ys(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gu(this.firestore,null,new Ur(e))}withConverter(e){return new vu(this.firestore,e,this._path)}}function yu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=dt(e),lu("collection","path",t),e instanceof pu){const n=Lr.fromString(t,...r);return uu(n),new vu(e,null,n)}{if(!(e instanceof gu||e instanceof vu))throw new br(yr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Lr.fromString(t,...r));return uu(n),new vu(e.firestore,null,n)}}function bu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=dt(e),1===arguments.length&&(t=jr.newId()),lu("doc","path",t),e instanceof pu){const n=Lr.fromString(t,...r);return cu(n),new gu(e,null,new Ur(n))}{if(!(e instanceof gu||e instanceof vu))throw new br(yr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Lr.fromString(t,...r));return cu(n),new gu(e.firestore,e instanceof vu?e.converter:null,new Ur(n))}}class wu{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new _l(this,"async_queue_retry"),this.hu=()=>{const e=bl();e&&hr("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Yo.Wo()};const e=bl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=bl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise((()=>{}));const t=new wr;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.su.push(e),this.Tu())))}async Tu(){if(0!==this.su.length){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(nk){if(!Yr(nk))throw nk;hr("AsyncQueue","Operation failed with retryable error: "+nk)}this.su.length>0&&this.Yo.$o((()=>this.Tu()))}}Iu(e){const t=this.iu.then((()=>(this.uu=!0,e().catch((e=>{this.au=e,this.uu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw dr("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.uu=!1,e))))));return this.iu=t,t}enqueueAfterDelay(e,t,n){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const r=rc.createAndSchedule(this,e,t,n,(e=>this.Eu(e)));return this._u.push(r),r}Pu(){this.au&&mr()}verifyOperationInProgress(){}async du(){let e;do{e=this.iu,await e}while(e!==this.iu)}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then((()=>{this._u.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()}))}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}function _u(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class xu extends pu{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new wu,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Eu(this),this._firestoreClient.terminate()}}function Su(e){return e._firestoreClient||Eu(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Eu(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new xi(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,au(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Yc(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Cu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cu(pi.fromBase64String(e))}catch(e){throw new br(yr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Cu(pi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ku{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new br(yr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fr(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Tu{constructor(e){this._methodName=e}}class Iu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new br(yr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new br(yr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pr(this._lat,e._lat)||Pr(this._long,e._long)}}const Nu=/^__.*__$/;class ju{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new ba(e,this.data,this.fieldMask,t,this.fieldTransforms):new ya(e,this.data,t,this.fieldTransforms)}}class Pu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new ba(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ou(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mr()}}class Au{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.mu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Au(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.wu(e),r}Su(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Qu(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(Ou(this.fu)&&Nu.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Ru{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||wl(e)}Fu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Au({fu:e,methodName:t,vu:n,path:Fr.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Du(e){const t=e._freezeSettings(),n=wl(e._databaseId);return new Ru(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Lu(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Fu(s.merge||s.mergeFields?2:0,t,n,i);Wu("Data must be an object, but it was:",a,r);const o=Hu(r,a);let l,c;if(s.merge)l=new di(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Ku(t,r,n);if(!a.contains(i))throw new br(yr.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Yu(e,i)||e.push(i)}l=new di(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new ju(new Vi(o),l,c)}class Mu extends Tu{_toFieldTransform(e){if(2!==e.fu)throw 1===e.fu?e.Du("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Du("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mu}}class Fu extends Tu{_toFieldTransform(e){return new la(e.path,new ea)}isEqual(e){return e instanceof Fu}}function Uu(e,t,n,r){const i=e.Fu(1,t,n);Wu("Data must be an object, but it was:",i,r);const s=[],a=Vi.empty();si(r,((e,r)=>{const o=$u(t,e,n);r=dt(r);const l=i.Su(o);if(r instanceof Mu)s.push(o);else{const e=Bu(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new di(s);return new Pu(a,o,i.fieldTransforms)}function Vu(e,t,n,r,i,s){const a=e.Fu(1,t,n),o=[Ku(t,r,n)],l=[i];if(s.length%2!=0)throw new br(yr.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)o.push(Ku(t,s[d])),l.push(s[d+1]);const c=[],u=Vi.empty();for(let d=o.length-1;d>=0;--d)if(!Yu(c,o[d])){const e=o[d];let t=l[d];t=dt(t);const n=a.Su(e);if(t instanceof Mu)c.push(e);else{const r=Bu(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new di(c);return new Pu(u,h,a.fieldTransforms)}function zu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Bu(n,e.Fu(r?4:3,t))}function Bu(e,t){if(qu(e=dt(e)))return Wu("Unsupported field value:",t,e),Hu(e,t);if(e instanceof Tu)return function(e,t){if(!Ou(t.fu))throw t.Du("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Du("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Bu(i,t.bu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=dt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Qs(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ar.fromDate(e);return{timestampValue:eo(t.serializer,n)}}if(e instanceof Ar){const n=new Ar(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:eo(t.serializer,n)}}if(e instanceof Iu)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Cu)return{bytesValue:to(t.serializer,e._byteString)};if(e instanceof gu){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Du("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:io(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Du("Unsupported field value: ".concat(hu(e)))}(e,t)}function Hu(e,t){const n={};return ai(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):si(e,((e,r)=>{const i=Bu(r,t.pu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function qu(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ar||e instanceof Iu||e instanceof Cu||e instanceof gu||e instanceof Tu)}function Wu(e,t,n){if(!qu(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=hu(n);throw"an object"===r?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function Ku(e,t,n){if((t=dt(t))instanceof ku)return t._internalPath;if("string"==typeof t)return $u(e,t);throw Qu("Field path arguments must be of type string or ",e,!1,void 0,n)}const Gu=new RegExp("[~\\*/\\[\\]]");function $u(e,t,n){if(t.search(Gu)>=0)throw Qu("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new ku(...t.split("."))._internalPath}catch(r){throw Qu("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Qu(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new br(yr.INVALID_ARGUMENT,o+e+l)}function Yu(e,t){return e.some((e=>e.isEqual(t)))}class Xu{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new gu(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ju(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Zu("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ju extends Xu{data(){return super.data()}}function Zu(e,t){return"string"==typeof t?$u(e,t):t instanceof ku?t._internalPath:t._delegate._internalPath}function eh(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new br(yr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class th{}class nh extends th{}function rh(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof th&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof sh)).length,n=e.filter((e=>e instanceof ih)).length;if(t>1||t>0&&n>0)throw new br(yr.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class ih extends nh{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new ih(e,t,n)}_apply(e){const t=this._parse(e);return uh(e._query,t),new mu(e.firestore,e.converter,Es(e._query,t))}_parse(e){const t=Du(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new br(yr.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){ch(a,s);const t=[];for(const n of a)t.push(lh(r,e,n));o={arrayValue:{values:t}}}else o=lh(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||ch(a,s),o=zu(n,t,a,"in"===s||"not-in"===s);return Qi.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class sh extends th{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new sh(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Yi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)uh(n,i),n=Es(n,i)}(e._query,t),new mu(e.firestore,e.converter,Es(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ah extends nh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ah(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new br(yr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new br(yr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ki(t,n)}(e._query,this._field,this._direction);return new mu(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new gs(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function oh(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Zu("orderBy",e);return ah._create(n,t)}function lh(e,t,n){if("string"==typeof(n=dt(n))){if(""===n)throw new br(yr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ws(t)&&-1!==n.indexOf("/"))throw new br(yr.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Lr.fromString(n));if(!Ur.isDocumentKey(r))throw new br(yr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Oi(e,new Ur(r))}if(n instanceof gu)return Oi(e,n._key);throw new br(yr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(hu(n),"."))}function ch(e,t){if(!Array.isArray(e)||0===e.length)throw new br(yr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function uh(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new br(yr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new br(yr.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class hh{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw mr()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return si(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Iu(vi(e.latitude),vi(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=wi(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(_i(e));default:return null}}convertTimestamp(e){const t=gi(e);return new Ar(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Lr.fromString(e);gr(To(n));const r=new Si(n.get(1),n.get(3)),i=new Ur(n.popFirst(5));return r.isEqual(t)||dr("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function dh(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class fh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ph extends Xu{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Zu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class mh extends ph{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class gh{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new fh(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new mh(this._firestore,this._userDataWriter,n.key,n,new fh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new br(yr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new mh(e._firestore,e._userDataWriter,n.doc.key,n.doc,new fh(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new mh(e._firestore,e._userDataWriter,t.doc.key,t.doc,new fh(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:vh(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function vh(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mr()}}function yh(e){e=du(e,gu);const t=du(e.firestore,xu);return iu(Su(t),e._key).then((n=>Ch(t,e,n)))}class bh extends hh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gu(this.firestore,null,t)}}function wh(e){e=du(e,mu);const t=du(e.firestore,xu),n=Su(t),r=new bh(t);return eh(e._query),su(n,e._query).then((n=>new gh(t,r,e,n)))}function _h(e,t,n){e=du(e,gu);const r=du(e.firestore,xu),i=dh(e.converter,t,n);return Eh(r,[Lu(Du(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ua.none())])}function xh(e,t,n){e=du(e,gu);const r=du(e.firestore,xu),i=Du(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=dt(t))||t instanceof ku?Vu(i,"updateDoc",e._key,t,n,o):Uu(i,"updateDoc",e._key,t),Eh(r,[s.toMutation(e._key,ua.exists(!0))])}function Sh(e,t){const n=du(e.firestore,xu),r=bu(e),i=dh(e.converter,t);return Eh(n,[Lu(Du(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ua.exists(!1))]).then((()=>r))}function Eh(e,t){return function(e,t){const n=new wr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Kc(e);try{const e=await function(e,t){const n=vr(e),r=Ar.now(),i=t.reduce(((e,t)=>e.add(t.key)),qs());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Ds(),l=qs();return n.os.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=ga(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new ba(e.key,t,zi(t.value.mapValue),ua.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Fs(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.xa[e.currentUser.toKey()];r||(r=new oi(Pr)),r=r.insert(t,n),e.xa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Bc(r,e.changes),await ql(r.remoteStore)}catch(e){const t=ic(e,"Failed to persist write");n.reject(t)}}(await nu(e),t,n))),n.promise}(Su(e),t)}function Ch(e,t,n){const r=n.docs.get(t._key),i=new bh(e);return new ph(e,i,t._key,r,new fh(n.hasPendingWrites,n.fromCache),t.converter)}function kh(){return new Fu("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){lr=e}(Nn),En(new ft("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new xu(new Er(e.getProvider("auth-internal")),new Ir(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new br(yr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Si(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),On(ar,"4.6.3",e),On(ar,"4.6.3","esm2017")}();function Th(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Ih(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Nh=Ih,jh=new rt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ph=new Et("@firebase/auth");function Oh(e){if(Ph.logLevel<=bt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ph.error("Auth (".concat(Nn,"): ").concat(e),...n)}}function Ah(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Mh(e,...n)}function Rh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Mh(e,...n)}function Dh(e,t,n){const r=Object.assign(Object.assign({},Nh()),{[t]:n});return new rt("auth","Firebase",r).create(t,{appName:e.name})}function Lh(e){return Dh(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return jh.create(e,...n)}function Fh(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Mh(t,...r)}}function Uh(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Oh(t),new Error(t)}function Vh(e,t){e||Uh(t)}function zh(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Bh(){return"http:"===Hh()||"https:"===Hh()}function Hh(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function qh(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Bh()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Wh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vh(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return qh()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Kh(e,t){Vh(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Gh{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Uh("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Uh("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Uh("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $h={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Qh=new Wh(3e4,6e4);function Yh(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Xh(e,t,n,r){return Jh(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=ot(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),Gh.fetch()(ed(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))}))}async function Jh(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},$h),t);try{const t=new nd(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw rd(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw rd(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw rd(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw rd(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Dh(e,o,a);Ah(e,o)}}catch(nk){if(nk instanceof nt)throw nk;Ah(e,"network-request-failed",{message:String(nk)})}}async function Zh(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Xh(e,t,n,r,i);return"mfaPendingCredential"in s&&Ah(e,"multi-factor-auth-required",{_serverResponse:s}),s}function ed(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Kh(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function td(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nd{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Rh(this.auth,"network-request-failed"))),Qh.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function rd(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Rh(e,t,r);return i.customData._tokenResponse=n,i}function id(e){return void 0!==e&&void 0!==e.enterprise}class sd{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return td(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function ad(e,t){return Xh(e,"GET","/v2/recaptchaConfig",Yh(e,t))}async function od(e,t){return Xh(e,"POST","/v1/accounts:lookup",t)}function ld(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(nk){}}function cd(e){return 1e3*Number(e)}function ud(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Oh("JWT malformed, contained fewer than 3 sections"),null;try{const e=qe(n);return e?JSON.parse(e):(Oh("Failed to decode base64 JWT payload"),null)}catch(nk){return Oh("Caught error parsing JWT payload as JSON",null===nk||void 0===nk?void 0:nk.toString()),null}}function hd(e){const t=ud(e);return Fh(t,"internal-error"),Fh("undefined"!==typeof t.exp,"internal-error"),Fh("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function dd(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(nk){throw nk instanceof nt&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(nk)&&e.auth.currentUser===e&&await e.auth.signOut(),nk}}class fd{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(nk){return void((null===nk||void 0===nk?void 0:nk.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class pd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ld(this.lastLoginAt),this.creationTime=ld(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function md(e){var t;const n=e.auth,r=await e.getIdToken(),i=await dd(e,od(n,{idToken:r}));Fh(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?gd(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new pd(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function gd(e){return e.map((e=>{var{providerId:t}=e,n=Th(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class vd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fh(e.idToken,"internal-error"),Fh("undefined"!==typeof e.idToken,"internal-error"),Fh("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):hd(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Fh(0!==e.length,"internal-error");const t=hd(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Fh(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Jh(e,{},(async()=>{const n=ot({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=ed(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Gh.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new vd;return n&&(Fh("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Fh("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Fh("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vd,this.toJSON())}_performRefresh(){return Uh("not implemented")}}function yd(e,t){Fh("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class bd{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Th(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fd(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new pd(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await dd(this,this.stsTokenManager.getToken(this.auth,e));return Fh(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=dt(e),r=await n.getIdToken(t),i=ud(r);Fh(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ld(cd(i.auth_time)),issuedAtTime:ld(cd(i.iat)),expirationTime:ld(cd(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=dt(e);await md(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Fh(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new bd(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Fh(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await md(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Lh(this.auth));const e=await this.getIdToken();return await dd(this,async function(e,t){return Xh(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:x}=t;Fh(y&&x,e,"internal-error");const S=vd.fromJSON(this.name,x);Fh("string"===typeof y,e,"internal-error"),yd(u,e.name),yd(h,e.name),Fh("boolean"===typeof b,e,"internal-error"),Fh("boolean"===typeof w,e,"internal-error"),yd(d,e.name),yd(f,e.name),yd(p,e.name),yd(m,e.name),yd(g,e.name),yd(v,e.name);const E=new bd({uid:y,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(E.providerData=_.map((e=>Object.assign({},e)))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new vd;r.updateFromServerResponse(t);const i=new bd({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await md(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Fh(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?gd(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new vd;a.updateFromIdToken(n);const o=new bd({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new pd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const wd=new Map;function _d(e){Vh(e instanceof Function,"Expected a class definition");let t=wd.get(e);return t?(Vh(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,wd.set(e,t),t)}class xd{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}xd.type="NONE";const Sd=xd;function Ed(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Cd{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Ed(this.userKey,r.apiKey,i),this.fullPersistenceKey=Ed("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?bd._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Cd(_d(Sd),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||_d(Sd);const s=Ed(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=bd._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new Cd(i,e,n)):new Cd(i,e,n)}}function kd(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(jd(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Td(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Od(t))return"Blackberry";if(Ad(t))return"Webos";if(Id(t))return"Safari";if((t.includes("chrome/")||Nd(t))&&!t.includes("edge/"))return"Chrome";if(Pd(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Td(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/firefox\//i.test(e)}function Id(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Nd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/crios\//i.test(e)}function jd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/iemobile/i.test(e)}function Pd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/android/i.test(e)}function Od(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/blackberry/i.test(e)}function Ad(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/webos/i.test(e)}function Rd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Dd(){return function(){const e=Ze();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Ld(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return Rd(e)||Pd(e)||Ad(e)||Od(e)||/windows phone/i.test(e)||jd(e)}function Md(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=kd(Ze());break;case"Worker":t="".concat(kd(Ze()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Nn,"/").concat(r)}class Fd{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(nk){r(nk)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(nk){t.reverse();for(const n of t)try{n()}catch(Uv){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===nk||void 0===nk?void 0:nk.message})}}}class Ud{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Vd{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bd(this),this.idTokenSubscription=new Bd(this),this.beforeStateQueue=new Fd(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jh,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_d(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Cd.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(nk){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await od(this,{idToken:e}),n=await bd._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(kn(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(nk){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(nk)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Fh(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(nk){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await md(e)}catch(nk){if((null===nk||void 0===nk?void 0:nk.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(Lh(this));const t=e?dt(e):null;return t&&Fh(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Fh(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return kn(this.app)?Promise.reject(Lh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(Lh(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(_d(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Xh(e,"GET","/v2/passwordPolicy",Yh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ud(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Xh(e,"POST","/v2/accounts:revokeToken",Yh(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_d(e)||this._popupRedirectResolver;Fh(t,this,"argument-error"),this.redirectPersistenceManager=await Cd.create(this,[_d(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fh(a,this,"internal-error"),a.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fh(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Md(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Ph.logLevel<=bt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ph.warn("Auth (".concat(Nn,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function zd(e){return dt(e)}class Bd{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ut(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Fh(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qd(e){return Hd.loadJS(e)}function Wd(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Kd{constructor(e){this.type="recaptcha-enterprise",this.auth=zd(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;id(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{ad(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new sd(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&id(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Hd.recaptchaEnterpriseScript;0!==t.length&&(t+=i),qd(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Gd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Kd(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function $d(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Gd(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Gd(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Qd(e,t,n){const r=zd(e);Fh(r._canInitEmulator,r,"emulator-config-failed"),Fh(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Yd(t),{host:a,port:o}=function(e){const t=Yd(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Xd(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Xd(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Yd(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Xd(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Jd{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Uh("not implemented")}_getIdTokenResponse(e){return Uh("not implemented")}_linkToIdToken(e,t){return Uh("not implemented")}_getReauthenticationResolver(e){return Uh("not implemented")}}async function Zd(e,t){return Xh(e,"POST","/v1/accounts:signUp",t)}async function ef(e,t){return Zh(e,"POST","/v1/accounts:signInWithPassword",Yh(e,t))}class tf extends Jd{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new tf(e,t,"password")}static _fromEmailAndCode(e,t){return new tf(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return $d(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ef);case"emailLink":return async function(e,t){return Zh(e,"POST","/v1/accounts:signInWithEmailLink",Yh(e,t))}(e,{email:this._email,oobCode:this._password});default:Ah(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return $d(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zd);case"emailLink":return async function(e,t){return Zh(e,"POST","/v1/accounts:signInWithEmailLink",Yh(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ah(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function nf(e,t){return Zh(e,"POST","/v1/accounts:signInWithIdp",Yh(e,t))}class rf extends Jd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new rf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ah("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Th(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new rf(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return nf(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,nf(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,nf(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ot(t)}return e}}const sf={USER_NOT_FOUND:"user-not-found"};class af extends Jd{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new af({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new af({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Zh(e,"POST","/v1/accounts:signInWithPhoneNumber",Yh(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Zh(e,"POST","/v1/accounts:signInWithPhoneNumber",Yh(e,t));if(n.temporaryProof)throw rd(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Zh(e,"POST","/v1/accounts:signInWithPhoneNumber",Yh(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),sf)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new af({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class of{constructor(e){var t,n,r,i,s,a;const o=lt(ct(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Fh(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=lt(ct(e)).link,n=t?lt(ct(t)).deep_link_id:null,r=lt(ct(e)).deep_link_id;return(r?lt(ct(r)).link:null)||r||n||t||e}(e);try{return new of(t)}catch(n){return null}}}class lf{constructor(){this.providerId=lf.PROVIDER_ID}static credential(e,t){return tf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=of.parseLink(t);return Fh(n,"argument-error"),tf._fromEmailAndCode(e,n.code,n.tenantId)}}lf.PROVIDER_ID="password",lf.EMAIL_PASSWORD_SIGN_IN_METHOD="password",lf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class cf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class uf extends cf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class hf extends uf{constructor(){super("facebook.com")}static credential(e){return rf._fromParams({providerId:hf.PROVIDER_ID,signInMethod:hf.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hf.credentialFromTaggedObject(e)}static credentialFromError(e){return hf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return hf.credential(t.oauthAccessToken)}catch(n){return null}}}hf.FACEBOOK_SIGN_IN_METHOD="facebook.com",hf.PROVIDER_ID="facebook.com";class df extends uf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return rf._fromParams({providerId:df.PROVIDER_ID,signInMethod:df.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return df.credentialFromTaggedObject(e)}static credentialFromError(e){return df.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return df.credential(n,r)}catch(i){return null}}}df.GOOGLE_SIGN_IN_METHOD="google.com",df.PROVIDER_ID="google.com";class ff extends uf{constructor(){super("github.com")}static credential(e){return rf._fromParams({providerId:ff.PROVIDER_ID,signInMethod:ff.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ff.credentialFromTaggedObject(e)}static credentialFromError(e){return ff.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ff.credential(t.oauthAccessToken)}catch(n){return null}}}ff.GITHUB_SIGN_IN_METHOD="github.com",ff.PROVIDER_ID="github.com";class pf extends uf{constructor(){super("twitter.com")}static credential(e,t){return rf._fromParams({providerId:pf.PROVIDER_ID,signInMethod:pf.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return pf.credentialFromTaggedObject(e)}static credentialFromError(e){return pf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return pf.credential(n,r)}catch(i){return null}}}async function mf(e,t){return Zh(e,"POST","/v1/accounts:signUp",Yh(e,t))}pf.TWITTER_SIGN_IN_METHOD="twitter.com",pf.PROVIDER_ID="twitter.com";class gf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await bd._fromIdTokenResponse(e,n,r),s=vf(n);return new gf({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=vf(n);return new gf({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function vf(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class yf extends nt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,yf.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new yf(e,t,n,r)}}function bf(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw yf._fromErrorAndOperation(e,n,t,r);throw n}))}async function wf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await dd(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return gf._forOperation(e,"link",r)}async function _f(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(kn(r.app))return Promise.reject(Lh(r));const i="reauthenticate";try{const s=await dd(e,bf(r,i,t,e),n);Fh(s.idToken,r,"internal-error");const a=ud(s.idToken);Fh(a,r,"internal-error");const{sub:o}=a;return Fh(e.uid===o,r,"user-mismatch"),gf._forOperation(e,i,s)}catch(nk){throw(null===nk||void 0===nk?void 0:nk.code)==="auth/".concat("user-not-found")&&Ah(r,"user-mismatch"),nk}}async function xf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(kn(e.app))return Promise.reject(Lh(e));const r="signIn",i=await bf(e,r,t),s=await gf._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Sf(e,t){return xf(zd(e),t)}async function Ef(e,t){return _f(dt(e),t)}async function Cf(e){const t=zd(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function kf(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await dd(e,async function(e,t){return Xh(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}function Tf(e,t){return dt(e).setPersistence(t)}new WeakMap;const If="__sak";class Nf{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(If,"1"),this.storage.removeItem(If),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class jf extends Nf{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Ze();return Id(e)||Rd(e)}()&&function(){try{return!(!window||window===window.top)}catch(nk){return!1}}(),this.fallbackToPolling=Ld(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Dd()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}jf.type="LOCAL";const Pf=jf;class Of extends Nf{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Of.type="SESSION";const Af=Of;class Rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Rf(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Df(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Rf.receivers=[];class Lf{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=Df("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Mf(){return window}function Ff(){return"undefined"!==typeof Mf().WorkerGlobalScope&&"function"===typeof Mf().importScripts}const Uf="firebaseLocalStorageDb",Vf="firebaseLocalStorage",zf="fbase_key";class Bf{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Hf(e,t){return e.transaction([Vf],t?"readwrite":"readonly").objectStore(Vf)}function qf(){const e=indexedDB.open(Uf,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Vf,{keyPath:zf})}catch(nk){n(nk)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Vf)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Uf);return new Bf(e).toPromise()}(),t(await qf()))}))}))}async function Wf(e,t,n){const r=Hf(e,!0).put({[zf]:t,value:n});return new Bf(r).toPromise()}function Kf(e,t){const n=Hf(e,!0).delete(t);return new Bf(n).toPromise()}class Gf{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await qf()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(nk){if(t++>3)throw nk;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ff()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rf._getInstance(Ff()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Lf(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qf();return await Wf(e,If,"1"),await Kf(e,If),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Wf(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Hf(e,!1).get(t),r=await new Bf(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Kf(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Hf(e,!1).getAll();return new Bf(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Gf.type="LOCAL";const $f=Gf;Wd("rcb"),new Wh(3e4,6e4);const Qf="recaptcha";async function Yf(e,t,n){var r;const i=await n.verify();try{let s;if(Fh("string"===typeof i,e,"argument-error"),Fh(n.type===Qf,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Fh("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Xh(e,"POST","/v2/accounts/mfaEnrollment:start",Yh(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Fh("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Fh(n,e,"missing-multi-factor-info");const a=await function(e,t){return Xh(e,"POST","/v2/accounts/mfaSignIn:start",Yh(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Xh(e,"POST","/v1/accounts:sendVerificationCode",Yh(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Xf{constructor(e){this.providerId=Xf.PROVIDER_ID,this.auth=zd(e)}verifyPhoneNumber(e,t){return Yf(this.auth,e,dt(t))}static credential(e,t){return af._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Xf.credentialFromTaggedObject(t)}static credentialFromError(e){return Xf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?af._fromTokenResponse(n,r):null}}function Jf(e,t){return t?_d(t):(Fh(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Xf.PROVIDER_ID="phone",Xf.PHONE_SIGN_IN_METHOD="phone";class Zf extends Jd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nf(e,this._buildIdpRequest())}_linkToIdToken(e,t){return nf(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return nf(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ep(e){return xf(e.auth,new Zf(e),e.bypassAuthState)}function tp(e){const{auth:t,user:n}=e;return Fh(n,t,"internal-error"),_f(n,new Zf(e),e.bypassAuthState)}async function np(e){const{auth:t,user:n}=e;return Fh(n,t,"internal-error"),wf(n,new Zf(e),e.bypassAuthState)}class rp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(nk){this.reject(nk)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(nk){this.reject(nk)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ep;case"linkViaPopup":case"linkViaRedirect":return np;case"reauthViaPopup":case"reauthViaRedirect":return tp;default:Ah(this.auth,"internal-error")}}resolve(e){Vh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ip=new Wh(2e3,1e4);class sp extends rp{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,sp.currentPopupAction&&sp.currentPopupAction.cancel(),sp.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fh(e,this.auth,"internal-error"),e}async onExecution(){Vh(1===this.filter.length,"Popup operations only handle one event");const e=Df();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Rh(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Rh(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sp.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Rh(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,ip.get())};e()}}sp.currentPopupAction=null;const ap="pendingRedirect",op=new Map;class lp extends rp{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=op.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=hp(t),r=up(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(nk){e=()=>Promise.reject(nk)}op.set(this.auth._key(),e)}return this.bypassAuthState||op.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function cp(e,t){op.set(e._key(),t)}function up(e){return _d(e._redirectPersistence)}function hp(e){return Ed(ap,e.config.apiKey,e.name)}async function dp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(kn(e.app))return Promise.reject(Lh(e));const r=zd(e),i=Jf(r,t),s=new lp(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class fp{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mp(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!mp(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Rh(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pp(e))}saveEventToCache(e){this.cachedEventUids.add(pp(e)),this.lastProcessedEventTime=Date.now()}}function pp(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function mp(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const gp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vp=/^https?/;async function yp(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Xh(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(bp(r))return}catch(n){}Ah(e,"unauthorized-domain")}function bp(e){const t=zh(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!vp.test(n))return!1;if(gp.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const wp=new Wh(3e4,6e4);function _p(){const e=Mf().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function xp(e){return new Promise(((t,n)=>{var r,i,s;function a(){_p(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_p(),n(Rh(e,"network-request-failed"))},timeout:wp.get()})}if(null===(i=null===(r=Mf().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Mf().gapi)||void 0===s?void 0:s.load)){const t=Wd("iframefcb");return Mf()[t]=()=>{gapi.load?a():n(Rh(e,"network-request-failed"))},qd("".concat(Hd.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw Sp=null,e}))}let Sp=null;const Ep=new Wh(5e3,15e3),Cp="__/auth/iframe",kp="emulator/auth/iframe",Tp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ip=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Np(e){const t=e.config;Fh(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Kh(t,kp):"https://".concat(e.config.authDomain,"/").concat(Cp),r={apiKey:t.apiKey,appName:e.name,v:Nn},i=Ip.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(ot(r).slice(1))}async function jp(e){const t=await function(e){return Sp=Sp||xp(e),Sp}(e),n=Mf().gapi;return Fh(n,e,"internal-error"),t.open({where:document.body,url:Np(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tp,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Rh(e,"network-request-failed"),s=Mf().setTimeout((()=>{r(i)}),Ep.get());function a(){Mf().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const Pp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Op{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(nk){}}}function Ap(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Pp),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Ze().toLowerCase();n&&(o=Nd(c)?"_blank":n),Td(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Rd(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Op(null);const h=window.open(t||"",o,u);Fh(h,e,"popup-blocked");try{h.focus()}catch(nk){}return new Op(h)}const Rp="__/auth/handler",Dp="emulator/auth/handler",Lp=encodeURIComponent("fac");async function Mp(e,t,n,r,i,s){Fh(e.config.authDomain,e,"auth-domain-config-required"),Fh(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Nn,eventId:i};if(t instanceof cf){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof uf){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Lp,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Rp);return Kh(t,Dp)}(e),"?").concat(ot(o).slice(1)).concat(c)}const Fp="webStorageSupport";const Up=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Af,this._completeRedirectFn=dp,this._overrideRedirectResult=cp}async _openPopup(e,t,n,r){var i;Vh(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ap(e,await Mp(e,t,n,zh(),r),Df())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Mf().location.href=e}(await Mp(e,t,n,zh(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Vh(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await jp(e),n=new fp(e);return t.register("authEvent",(t=>{Fh(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Fp,{type:Fp},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Fp];void 0!==i&&t(!!i),Ah(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yp(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ld()||Id()||Rd()}};var Vp="@firebase/auth",zp="1.7.4";class Bp{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Fh(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Hp=Ye("authIdTokenMaxAge")||300;let qp=null;var Wp;Hd={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Rh("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Wp="Browser",En(new ft("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Fh(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Wp,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Md(Wp)},c=new Vd(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_d);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),En(new ft("auth-internal",(e=>(e=>new Bp(e))(zd(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),On(Vp,zp,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Wp)),On(Vp,zp,"esm2017");const Kp="firebasestorage.googleapis.com",Gp="storageBucket";class $p extends nt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Xp(e),"Firebase Storage: ".concat(t," (").concat(Xp(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$p.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Xp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Qp,Yp;function Xp(e){return"storage/"+e}function Jp(){return new $p(Qp.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Zp(){return new $p(Qp.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function em(){return new $p(Qp.CANCELED,"User canceled the upload/download.")}function tm(){return new $p(Qp.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function nm(e){return new $p(Qp.INVALID_ARGUMENT,e)}function rm(){return new $p(Qp.APP_DELETED,"The Firebase app was deleted.")}function im(e,t){return new $p(Qp.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function sm(e){throw new $p(Qp.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Qp||(Qp={}));class am{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=am.makeFromUrl(e,t)}catch(nk){return new am(e,"")}if(""===n.path)return n;throw r=e,new $p(Qp.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===Kp?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new am(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new $p(Qp.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class om{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function lm(e){return"string"===typeof e||e instanceof String}function cm(e){return um()&&e instanceof Blob}function um(){return"undefined"!==typeof Blob}function hm(e,t,n,r){if(r<t)throw nm("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw nm("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function dm(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function fm(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function pm(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Yp||(Yp={}));class mm{constructor(e,t,n,r,i,s,a,o,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new gm(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Yp.NO_ERROR,i=n.getStatus();if(!t||pm(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Yp.ABORT;return void e(!1,new gm(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new gm(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(nk){r(nk)}else if(null!==i){const e=Jp();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?rm():em())}else{r(Zp())}};this.canceled_?t(0,new gm(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function d(){s&&clearTimeout(s)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(l()||a)return d(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==i?(e||(o=2),clearTimeout(i),h(0)):e||(o=1)))}return h(0),s=setTimeout((()=>{a=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class gm{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function vm(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ym(){const e=vm();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(um())return new Blob(n);throw new $p(Qp.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function bm(e){if("undefined"===typeof atob)throw t="base-64",new $p(Qp.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const wm={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class _m{constructor(e,t){this.data=e,this.contentType=t||null}}function xm(e,t){switch(e){case wm.RAW:return new _m(Sm(t));case wm.BASE64:case wm.BASE64URL:return new _m(Em(e,t));case wm.DATA_URL:return new _m(function(e){const t=new Cm(e);return t.base64?Em(wm.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(nk){throw im(wm.DATA_URL,"Malformed data URL.")}return Sm(t)}(t.rest)}(t),new Cm(t).contentType)}throw Jp()}function Sm(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Em(e,t){switch(e){case wm.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw im(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case wm.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw im(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=bm(t)}catch(nk){if(nk.message.includes("polyfill"))throw nk;throw im(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Cm{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw im(wm.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class km{constructor(e,t){let n=0,r="";cm(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(cm(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new km(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new km(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(um()){const e=t.map((e=>e instanceof km?e.data_:e));return new km(ym.apply(null,e))}{const e=t.map((e=>lm(e)?xm(wm.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new km(r,!0)}}uploadData(){return this.data_}}function Tm(e){let t;try{t=JSON.parse(e)}catch(nk){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Im(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Nm(e,t){return t}class jm{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Nm}}let Pm=null;function Om(){if(Pm)return Pm;const e=[];e.push(new jm("bucket")),e.push(new jm("generation")),e.push(new jm("metageneration")),e.push(new jm("name","fullPath",!0));const t=new jm("name");t.xform=function(e,t){return function(e){return!lm(e)||e.length<2?e:Im(e)}(t)},e.push(t);const n=new jm("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new jm("timeCreated")),e.push(new jm("updated")),e.push(new jm("md5Hash",null,!0)),e.push(new jm("cacheControl",null,!0)),e.push(new jm("contentDisposition",null,!0)),e.push(new jm("contentEncoding",null,!0)),e.push(new jm("contentLanguage",null,!0)),e.push(new jm("contentType",null,!0)),e.push(new jm("metadata","customMetadata",!0)),Pm=e,Pm}function Am(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new am(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Rm(e,t,n){const r=Tm(t);if(null===r)return null;return Am(e,r,n)}function Dm(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class Lm{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Mm(e){if(!e)throw Jp()}function Fm(e,t){return function(n,r){const i=Rm(e,r,t);return Mm(null!==i),i}}function Um(e,t){return function(n,r){const i=Rm(e,r,t);return Mm(null!==i),function(e,t,n,r){const i=Tm(t);if(null===i)return null;if(!lm(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent,o=s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return dm("/b/"+a(i)+"/o/"+a(s),n,r)+fm({alt:"media",token:t})}));return o[0]}(i,r,e.host,e._protocol)}}function Vm(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new $p(Qp.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new $p(Qp.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new $p(Qp.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new $p(Qp.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function zm(e){const t=Vm(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new $p(Qp.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Bm(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Hm(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=Bm(t,r,i),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Dm(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",h=km.getBlob(c,r,u);if(null===h)throw tm();const d={name:l.fullPath},f=dm(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new Lm(f,"POST",Fm(e,n),p);return m.urlParams=d,m.headers=a,m.body=h.uploadData(),m.errorHandler=Vm(t),m}let qm=null;class Wm{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Yp.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Yp.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Yp.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw sm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw sm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw sm("cannot .getStatus() before sending");try{return this.xhr_.status}catch(nk){return-1}}getResponse(){if(!this.sent_)throw sm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw sm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Km extends Wm{initXhr(){this.xhr_.responseType="text"}}function Gm(){return qm?qm():new Km}class $m{constructor(e,t){this._service=e,this._location=t instanceof am?t:am.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new $m(e,t)}get root(){const e=new am(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Im(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new am(this._location.bucket,e);return new $m(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new $p(Qp.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Qm(e,t,n){e._throwIfRoot("uploadBytes");const r=Hm(e.storage,e._location,Om(),new km(t,!0),n);return e.storage.makeRequestWithTokens(r,Gm).then((t=>({metadata:t,ref:e})))}function Ym(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=dm(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new Lm(r,"GET",Um(e,n),i);return s.errorHandler=zm(t),s}(e.storage,e._location,Om());return e.storage.makeRequestWithTokens(t,Gm).then((e=>{if(null===e)throw new $p(Qp.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Xm(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new am(e._location.bucket,n);return new $m(e.storage,r)}function Jm(e,t){if(e instanceof tg){const n=e;if(null==n._bucket)throw new $p(Qp.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Gp+"' property when initializing the app?");const r=new $m(n,n._bucket);return null!=t?Jm(r,t):r}return void 0!==t?Xm(e,t):e}function Zm(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof tg)return new $m(e,t);throw nm("To use ref(service, url), the first argument must be a Storage instance.")}return Jm(e,t)}function eg(e,t){const n=null===t||void 0===t?void 0:t[Gp];return null==n?null:am.makeFromBucketSpec(n,e)}class tg{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Kp,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?am.makeFromBucketSpec(r,this._host):eg(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=am.makeFromBucketSpec(this._url,e):this._bucket=eg(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){hm("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){hm("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $m(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new om(rm());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=fm(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new mm(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const ng="@firebase/storage",rg="0.12.5",ig="storage";function sg(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new tg(r,i,s,n,Nn)}En(new ft(ig,sg,"PUBLIC").setMultipleInstances(!0)),On(ng,rg,""),On(ng,rg,"esm2017");const ag=jn({apiKey:"AIzaSyDQrP01AcOfwxA-H5DuNB4zQ0WSCZUQoQg",authDomain:"lorekeeper-6ffd8.firebaseapp.com",projectId:"lorekeeper-6ffd8",storageBucket:"lorekeeper-6ffd8.appspot.com",messagingSenderId:"756172030117",appId:"1:756172030117:web:ec05f593837155d5b78d4c"}),og=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn();const t=Cn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Cn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(st(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Ah(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Up,persistence:[$f,Pf,Af]}),r=Ye("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Hp)return;const r=null===t||void 0===t?void 0:t.token;qp!==r&&(qp=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){dt(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){dt(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=Ge("auth");return s&&Qd(n,"http://".concat(s)),n}(ag),lg=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Cn("object"==typeof e?e:Pn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=$e("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=du(e,pu))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&fr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=or.MOCK_USER;else{t=Je(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new br(yr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new or(s)}e._authCredentials=new Sr(new _r(t,n))}}(r,...e)}return r}(ag),cg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn(),t=arguments.length>1?arguments[1]:void 0;e=dt(e);const n=Cn(e,ig).getImmediate({identifier:t}),r=$e("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Je(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(ag),ug="Users",hg=async e=>{const t=bu(lg,ug,e),n=await yh(t);return n.exists()?n.data():null},dg=async(e,t)=>{const n=bu(lg,ug,e);await _h(n,t,{merge:!0})},fg=t.createContext();function pg(){return(0,t.useContext)(fg)}function mg(e){let{children:n}=e;const[r,i]=(0,t.useState)(null),[s,a]=(0,t.useState)(!0);async function o(e,t){try{await Tf(og,Pf);const n=await function(e,t,n){return kn(e.app)?Promise.reject(Lh(e)):Sf(dt(e),lf.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Cf(e),t}))}(og,e,t);return await(async e=>{const t=bu(lg,ug,e);await xh(t,{lastLoginDate:kh()})})(n.user.uid),n.user}catch(n){throw console.error("Login Error:",n),n}}(0,t.useEffect)((()=>{const e=function(e,t,n,r){return dt(e).onAuthStateChanged(t,n,r)}(og,(e=>{i(e),a(!1)}));return e}),[]),(0,t.useEffect)((()=>{(async()=>{try{await Tf(og,Pf)}catch(e){console.error("Failed to set persistence:",e)}})()}),[]);const l={currentUser:r,login:o,logout:async function(){try{await function(e){return dt(e).signOut()}(og)}catch(e){throw console.error("Logout Error:",e),e}},register:async function(e,t,n){try{const r=await async function(e,t,n){if(kn(e.app))return Promise.reject(Lh(e));const r=zd(e),i=$d(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mf),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Cf(e),t})),a=await gf._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(og,e,t),i=r.user;return await(async e=>{const{uid:t,email:n,username:r}=e,i=bu(lg,ug,t),s={email:n,username:r,avatar:"defaultURL",bio:"",dateOfRegistration:kh(),lastLoginDate:kh(),role:"user",status:"active"};await _h(i,s)})({uid:i.uid,email:i.email,username:n}),await o(e,t),i}catch(r){throw console.error("AuthProvider - Registration Error:",r),r}},changeEmail:function(e){return function(e,t){const n=dt(e);return kn(n.auth.app)?Promise.reject(Lh(n.auth)):kf(n,t,null)}(og.currentUser,e)},changePassword:function(e){return function(e,t){return kf(dt(e),null,t)}(og.currentUser,e)}};return(0,Re.jsx)(fg.Provider,{value:l,children:!s&&n})}const gg="RegisterPage_form__dX0BL",vg="RegisterPage_formGroup__QyeY1";const yg=function(){const e=(0,t.useRef)(),n=(0,t.useRef)(),r=(0,t.useRef)(),i=(0,t.useRef)(),{register:s}=pg(),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(!1),u=X();return(0,Re.jsxs)("div",{className:"container",children:[(0,Re.jsx)("h2",{className:"TitleText",children:"Register"}),a&&(0,Re.jsx)("p",{children:a}),(0,Re.jsxs)("form",{className:gg,onSubmit:async t=>{if(t.preventDefault(),n.current.value!==r.current.value)return o("Passwords do not match");try{o(""),c(!0),await s(e.current.value,n.current.value,i.current.value),console.log("Registration Successful"),u("/")}catch(a){console.error("Registration Failed:",a),o("Failed to create an account")}c(!1)},children:[(0,Re.jsxs)("div",{className:vg,children:[(0,Re.jsx)("label",{children:"Email"}),(0,Re.jsx)("input",{type:"email",ref:e,required:!0})]}),(0,Re.jsxs)("div",{className:vg,children:[(0,Re.jsx)("label",{children:"Username"}),(0,Re.jsx)("input",{type:"text",ref:i,required:!0})]}),(0,Re.jsxs)("div",{className:vg,children:[(0,Re.jsx)("label",{children:"Password"}),(0,Re.jsx)("input",{type:"password",ref:n,required:!0})]}),(0,Re.jsxs)("div",{className:vg,children:[(0,Re.jsx)("label",{children:"Confirm Password"}),(0,Re.jsx)("input",{type:"password",ref:r,required:!0})]}),(0,Re.jsx)("div",{className:vg,children:(0,Re.jsx)("button",{className:"btnPrimary",disabled:l,type:"submit",children:"Sign Up"})})]}),(0,Re.jsx)("label",{style:{marginBottom:"0px"},children:"Already Have An Account?"}),(0,Re.jsx)("button",{style:{textDecorationLine:"underline",marginTop:"0px"},className:"btnSecondary",onClick:()=>u("/login"),children:"Log In"})]})},bg=e=>{let{element:t}=e;const{currentUser:n}=pg();return n?t:(0,Re.jsx)(de,{to:"/login"})},wg="LoginPage_form__2PRa9",_g="LoginPage_formGroup__2Vb0D",xg="LoginPage_noAccountLabel__pGq92";const Sg=function(){const e=(0,t.useRef)(),n=(0,t.useRef)(),{login:r}=pg(),[i,s]=(0,t.useState)(""),[a,o]=(0,t.useState)(!1),l=X();return(0,Re.jsxs)("div",{className:"container",children:[(0,Re.jsx)("h2",{className:"TitleText",children:"Login"}),i&&(0,Re.jsx)("p",{children:i}),(0,Re.jsxs)("form",{className:wg,onSubmit:async t=>{t.preventDefault();try{s(""),o(!0),await r(e.current.value,n.current.value),console.log("LoginPage - Login Successful"),l("/")}catch(i){console.error("LoginPage - Login Failed:",i),s("Failed to log in")}o(!1)},children:[(0,Re.jsxs)("div",{className:_g,children:[(0,Re.jsx)("label",{children:"Email"}),(0,Re.jsx)("input",{type:"email",ref:e,required:!0})]}),(0,Re.jsxs)("div",{className:_g,children:[(0,Re.jsx)("label",{children:"Password"}),(0,Re.jsx)("input",{type:"password",ref:n,required:!0})]}),(0,Re.jsx)("div",{className:_g,children:(0,Re.jsx)("button",{className:"btnPrimary",disabled:a,type:"submit",children:"Log In"})})]}),(0,Re.jsx)("label",{className:xg,children:"Don't Have An Account?"}),(0,Re.jsx)("button",{className:"btnSecondary",onClick:()=>l("/register"),children:"Register"})]})},Eg=n.p+"static/media/Logo.5be397fed6557eb60aed.jpg";const Cg=function(){const[e,n]=(0,t.useState)(!1);return(0,Re.jsx)("nav",{className:"navbar",children:(0,Re.jsxs)("div",{className:"navbar-content",children:[(0,Re.jsx)("img",{src:Eg,alt:"Logo",className:"navbar-logo-mobile"}),(0,Re.jsx)("button",{className:"navbar-toggle",onClick:()=>{n(!e)},children:"\u2630"}),(0,Re.jsxs)("ul",{className:"navbar-menu desktop-menu",children:[(0,Re.jsxs)("li",{className:"navbar-item dropdown",children:[(0,Re.jsx)(ke,{to:"/",className:"dropbtn",children:"Home"}),(0,Re.jsx)("div",{className:"dropdown-content",children:(0,Re.jsx)(ke,{to:"/about",children:"About"})})]}),(0,Re.jsxs)("li",{className:"navbar-item dropdown",children:[(0,Re.jsx)(ke,{to:"/characters",className:"dropbtn",children:"Characters"}),(0,Re.jsx)("div",{className:"dropdown-content",children:(0,Re.jsx)(ke,{to:"/bestiary",children:"Bestiary"})})]}),(0,Re.jsxs)("li",{className:"navbar-item dropdown",children:[(0,Re.jsx)(ke,{to:"/timeline",className:"dropbtn",children:"Timeline"}),(0,Re.jsxs)("div",{className:"dropdown-content",children:[(0,Re.jsx)(ke,{to:"/important-events",children:"Important Events"}),(0,Re.jsx)(ke,{to:"/locations",children:"Locations"}),(0,Re.jsx)(ke,{to:"/maps",children:"Maps"})]})]}),(0,Re.jsx)("img",{src:Eg,alt:"Logo",className:"navbar-logo"}),(0,Re.jsxs)("li",{className:"navbar-item dropdown",children:[(0,Re.jsx)(ke,{to:"/magic",className:"dropbtn",children:"Magic"}),(0,Re.jsxs)("div",{className:"dropdown-content",children:[(0,Re.jsx)(ke,{to:"/magic/schools",children:"Schools"}),(0,Re.jsx)(ke,{to:"/magic/classes",children:"Classes"})]})]}),(0,Re.jsx)("li",{className:"navbar-item",children:(0,Re.jsx)(ke,{to:"/stories",children:"Stories"})}),(0,Re.jsx)("li",{className:"navbar-item",children:(0,Re.jsx)(ke,{to:"/profile",children:"Profile"})})]}),(0,Re.jsxs)("ul",{className:"navbar-menu mobile-menu ".concat(e?"open":""),children:[(0,Re.jsx)("li",{className:"navbar-item",children:(0,Re.jsx)(ke,{to:"/",children:"Home"})}),(0,Re.jsx)("li",{className:"navbar-item",children:(0,Re.jsx)(ke,{to:"/about",children:"About"})}),(0,Re.jsx)("li",{className:"navbar-item",children:(0,Re.jsx)(ke,{to:"/characters",children:"Characters"})}),(0,Re.jsx)("li",{className:"navbar-item",children:(0,Re.jsx)(ke,{to:"/important-events",children:"Important Events"})}),(0,Re.jsx)("li",{className:"navbar-item",children:(0,Re.jsx)(ke,{to:"/timeline",children:"Timeline"})}),(0,Re.jsx)("li",{className:"navbar-item",children:(0,Re.jsx)(ke,{to:"/locations",children:"Locations"})}),(0,Re.jsx)("li",{className:"navbar-item",children:(0,Re.jsx)(ke,{to:"/maps",children:"Maps"})}),(0,Re.jsx)("li",{className:"navbar-item",children:(0,Re.jsx)(ke,{to:"/magic",children:"Magic"})}),(0,Re.jsx)("li",{className:"navbar-item",children:(0,Re.jsx)(ke,{to:"/bestiary",children:"Bestiary"})}),(0,Re.jsx)("li",{className:"navbar-item",children:(0,Re.jsx)(ke,{to:"/stories",children:"Stories"})}),(0,Re.jsx)("li",{className:"navbar-item",children:(0,Re.jsx)(ke,{to:"/profile",children:"Profile"})})]})]})})};function kg(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Tg=function(){return Tg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Tg.apply(this,arguments)};Object.create;function Ig(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var Ng=n(324),jg=n.n(Ng),Pg="-ms-",Og="-moz-",Ag="-webkit-",Rg="comm",Dg="rule",Lg="decl",Mg="@import",Fg="@keyframes",Ug="@layer",Vg=Math.abs,zg=String.fromCharCode,Bg=Object.assign;function Hg(e){return e.trim()}function qg(e,t){return(e=t.exec(e))?e[0]:e}function Wg(e,t,n){return e.replace(t,n)}function Kg(e,t,n){return e.indexOf(t,n)}function Gg(e,t){return 0|e.charCodeAt(t)}function $g(e,t,n){return e.slice(t,n)}function Qg(e){return e.length}function Yg(e){return e.length}function Xg(e,t){return t.push(e),e}function Jg(e,t){return e.filter((function(e){return!qg(e,t)}))}var Zg=1,ev=1,tv=0,nv=0,rv=0,iv="";function sv(e,t,n,r,i,s,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:Zg,column:ev,length:a,return:"",siblings:o}}function av(e,t){return Bg(sv("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function ov(e){for(;e.root;)e=av(e.root,{children:[e]});Xg(e,e.siblings)}function lv(){return rv=nv>0?Gg(iv,--nv):0,ev--,10===rv&&(ev=1,Zg--),rv}function cv(){return rv=nv<tv?Gg(iv,nv++):0,ev++,10===rv&&(ev=1,Zg++),rv}function uv(){return Gg(iv,nv)}function hv(){return nv}function dv(e,t){return $g(iv,e,t)}function fv(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function pv(e){return Zg=ev=1,tv=Qg(iv=e),nv=0,[]}function mv(e){return iv="",e}function gv(e){return Hg(dv(nv-1,bv(91===e?e+2:40===e?e+1:e)))}function vv(e){for(;(rv=uv())&&rv<33;)cv();return fv(e)>2||fv(rv)>3?"":" "}function yv(e,t){for(;--t&&cv()&&!(rv<48||rv>102||rv>57&&rv<65||rv>70&&rv<97););return dv(e,hv()+(t<6&&32==uv()&&32==cv()))}function bv(e){for(;cv();)switch(rv){case e:return nv;case 34:case 39:34!==e&&39!==e&&bv(rv);break;case 40:41===e&&bv(e);break;case 92:cv()}return nv}function wv(e,t){for(;cv()&&e+rv!==57&&(e+rv!==84||47!==uv()););return"/*"+dv(t,nv-1)+"*"+zg(47===e?e:cv())}function _v(e){for(;!fv(uv());)cv();return dv(e,nv)}function xv(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function Sv(e,t,n,r){switch(e.type){case Ug:if(e.children.length)break;case Mg:case Lg:return e.return=e.return||e.value;case Rg:return"";case Fg:return e.return=e.value+"{"+xv(e.children,r)+"}";case Dg:if(!Qg(e.value=e.props.join(",")))return""}return Qg(n=xv(e.children,r))?e.return=e.value+"{"+n+"}":""}function Ev(e,t,n){switch(function(e,t){return 45^Gg(e,0)?(((t<<2^Gg(e,0))<<2^Gg(e,1))<<2^Gg(e,2))<<2^Gg(e,3):0}(e,t)){case 5103:return Ag+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ag+e+e;case 4789:return Og+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ag+e+Og+e+Pg+e+e;case 5936:switch(Gg(e,t+11)){case 114:return Ag+e+Pg+Wg(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ag+e+Pg+Wg(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ag+e+Pg+Wg(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Ag+e+Pg+e+e;case 6165:return Ag+e+Pg+"flex-"+e+e;case 5187:return Ag+e+Wg(e,/(\w+).+(:[^]+)/,Ag+"box-$1$2"+Pg+"flex-$1$2")+e;case 5443:return Ag+e+Pg+"flex-item-"+Wg(e,/flex-|-self/g,"")+(qg(e,/flex-|baseline/)?"":Pg+"grid-row-"+Wg(e,/flex-|-self/g,""))+e;case 4675:return Ag+e+Pg+"flex-line-pack"+Wg(e,/align-content|flex-|-self/g,"")+e;case 5548:return Ag+e+Pg+Wg(e,"shrink","negative")+e;case 5292:return Ag+e+Pg+Wg(e,"basis","preferred-size")+e;case 6060:return Ag+"box-"+Wg(e,"-grow","")+Ag+e+Pg+Wg(e,"grow","positive")+e;case 4554:return Ag+Wg(e,/([^-])(transform)/g,"$1"+Ag+"$2")+e;case 6187:return Wg(Wg(Wg(e,/(zoom-|grab)/,Ag+"$1"),/(image-set)/,Ag+"$1"),e,"")+e;case 5495:case 3959:return Wg(e,/(image-set\([^]*)/,Ag+"$1$`$1");case 4968:return Wg(Wg(e,/(.+:)(flex-)?(.*)/,Ag+"box-pack:$3"+Pg+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ag+e+e;case 4200:if(!qg(e,/flex-|baseline/))return Pg+"grid-column-align"+$g(e,t)+e;break;case 2592:case 3360:return Pg+Wg(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,qg(e.props,/grid-\w+-end/)}))?~Kg(e+(n=n[t].value),"span",0)?e:Pg+Wg(e,"-start","")+e+Pg+"grid-row-span:"+(~Kg(n,"span",0)?qg(n,/\d+/):+qg(n,/\d+/)-+qg(e,/\d+/))+";":Pg+Wg(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return qg(e.props,/grid-\w+-start/)}))?e:Pg+Wg(Wg(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Wg(e,/(.+)-inline(.+)/,Ag+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Qg(e)-1-t>6)switch(Gg(e,t+1)){case 109:if(45!==Gg(e,t+4))break;case 102:return Wg(e,/(.+:)(.+)-([^]+)/,"$1"+Ag+"$2-$3$1"+Og+(108==Gg(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Kg(e,"stretch",0)?Ev(Wg(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return Wg(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,i,s,a,o){return Pg+n+":"+r+o+(i?Pg+n+"-span:"+(s?a:+a-+r)+o:"")+e}));case 4949:if(121===Gg(e,t+6))return Wg(e,":",":"+Ag)+e;break;case 6444:switch(Gg(e,45===Gg(e,14)?18:11)){case 120:return Wg(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ag+(45===Gg(e,14)?"inline-":"")+"box$3$1"+Ag+"$2$3$1"+Pg+"$2box$3")+e;case 100:return Wg(e,":",":"+Pg)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Wg(e,"scroll-","scroll-snap-")+e}return e}function Cv(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Lg:return void(e.return=Ev(e.value,e.length,n));case Fg:return xv([av(e,{value:Wg(e.value,"@","@"+Ag)})],r);case Dg:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(qg(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ov(av(e,{props:[Wg(t,/:(read-\w+)/,":"+Og+"$1")]})),ov(av(e,{props:[t]})),Bg(e,{props:Jg(n,r)});break;case"::placeholder":ov(av(e,{props:[Wg(t,/:(plac\w+)/,":"+Ag+"input-$1")]})),ov(av(e,{props:[Wg(t,/:(plac\w+)/,":"+Og+"$1")]})),ov(av(e,{props:[Wg(t,/:(plac\w+)/,Pg+"input-$1")]})),ov(av(e,{props:[t]})),Bg(e,{props:Jg(n,r)})}return""}))}}function kv(e){return mv(Tv("",null,null,null,[""],e=pv(e),0,[0],e))}function Tv(e,t,n,r,i,s,a,o,l){for(var c=0,u=0,h=a,d=0,f=0,p=0,m=1,g=1,v=1,y=0,b="",w=i,_=s,x=r,S=b;g;)switch(p=y,y=cv()){case 40:if(108!=p&&58==Gg(S,h-1)){-1!=Kg(S+=Wg(gv(y),"&","&\f"),"&\f",Vg(c?o[c-1]:0))&&(v=-1);break}case 34:case 39:case 91:S+=gv(y);break;case 9:case 10:case 13:case 32:S+=vv(p);break;case 92:S+=yv(hv()-1,7);continue;case 47:switch(uv()){case 42:case 47:Xg(Nv(wv(cv(),hv()),t,n,l),l);break;default:S+="/"}break;case 123*m:o[c++]=Qg(S)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(S=Wg(S,/\f/g,"")),f>0&&Qg(S)-h&&Xg(f>32?jv(S+";",r,n,h-1,l):jv(Wg(S," ","")+";",r,n,h-2,l),l);break;case 59:S+=";";default:if(Xg(x=Iv(S,t,n,c,u,i,o,b,w=[],_=[],h,s),s),123===y)if(0===u)Tv(S,t,x,x,w,s,h,o,_);else switch(99===d&&110===Gg(S,3)?100:d){case 100:case 108:case 109:case 115:Tv(e,x,x,r&&Xg(Iv(e,x,x,0,0,i,o,b,i,w=[],h,_),_),i,_,h,o,r?w:_);break;default:Tv(S,x,x,x,[""],_,0,o,_)}}c=u=f=0,m=v=1,b=S="",h=a;break;case 58:h=1+Qg(S),f=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==lv())continue;switch(S+=zg(y),y*m){case 38:v=u>0?1:(S+="\f",-1);break;case 44:o[c++]=(Qg(S)-1)*v,v=1;break;case 64:45===uv()&&(S+=gv(cv())),d=uv(),u=h=Qg(b=S+=_v(hv())),y++;break;case 45:45===p&&2==Qg(S)&&(m=0)}}return s}function Iv(e,t,n,r,i,s,a,o,l,c,u,h){for(var d=i-1,f=0===i?s:[""],p=Yg(f),m=0,g=0,v=0;m<r;++m)for(var y=0,b=$g(e,d+1,d=Vg(g=a[m])),w=e;y<p;++y)(w=Hg(g>0?f[y]+" "+b:Wg(b,/&\f/g,f[y])))&&(l[v++]=w);return sv(e,t,n,0===i?Dg:o,l,c,u,h)}function Nv(e,t,n,r){return sv(e,t,n,Rg,zg(rv),$g(e,2,-2),0,r)}function jv(e,t,n,r,i){return sv(e,t,n,Lg,$g(e,0,r),$g(e,r+1,-1),r,i)}var Pv={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ov="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/LoreKeeper",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"/LoreKeeper",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/LoreKeeper",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",Av="active",Rv="data-styled-version",Dv="6.1.11",Lv="/*!sc*/\n",Mv="undefined"!=typeof window&&"HTMLElement"in window,Fv=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/LoreKeeper",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/LoreKeeper",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/LoreKeeper",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/LoreKeeper",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/LoreKeeper",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/LoreKeeper",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/LoreKeeper",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/LoreKeeper",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/LoreKeeper",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/LoreKeeper",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),Uv=(new Set,Object.freeze([])),Vv=Object.freeze({});function zv(e,t,n){return void 0===n&&(n=Vv),e.theme!==n.theme&&e.theme||t||n.theme}var Bv=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Hv=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,qv=/(^-|-$)/g;function Wv(e){return e.replace(Hv,"-").replace(qv,"")}var Kv=/(a)(d)/gi,Gv=52,$v=function(e){return String.fromCharCode(e+(e>25?39:97))};function Qv(e){var t,n="";for(t=Math.abs(e);t>Gv;t=t/Gv|0)n=$v(t%Gv)+n;return($v(t%Gv)+n).replace(Kv,"$1-$2")}var Yv,Xv=5381,Jv=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Zv=function(e){return Jv(Xv,e)};function ey(e){return Qv(Zv(e)>>>0)}function ty(e){return e.displayName||e.name||"Component"}function ny(e){return"string"==typeof e&&!0}var ry="function"==typeof Symbol&&Symbol.for,iy=ry?Symbol.for("react.memo"):60115,sy=ry?Symbol.for("react.forward_ref"):60112,ay={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},oy={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ly={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},cy=((Yv={})[sy]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Yv[iy]=ly,Yv);function uy(e){return("type"in(t=e)&&t.type.$$typeof)===iy?ly:"$$typeof"in e?cy[e.$$typeof]:ay;var t}var hy=Object.defineProperty,dy=Object.getOwnPropertyNames,fy=Object.getOwnPropertySymbols,py=Object.getOwnPropertyDescriptor,my=Object.getPrototypeOf,gy=Object.prototype;function vy(e,t,n){if("string"!=typeof t){if(gy){var r=my(t);r&&r!==gy&&vy(e,r,n)}var i=dy(t);fy&&(i=i.concat(fy(t)));for(var s=uy(e),a=uy(t),o=0;o<i.length;++o){var l=i[o];if(!(l in oy||n&&n[l]||a&&l in a||s&&l in s)){var c=py(t,l);try{hy(e,l,c)}catch(e){}}}}return e}function yy(e){return"function"==typeof e}function by(e){return"object"==typeof e&&"styledComponentId"in e}function wy(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function _y(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function xy(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Sy(e,t,n){if(void 0===n&&(n=!1),!n&&!xy(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=Sy(e[r],t[r]);else if(xy(t))for(var r in t)e[r]=Sy(e[r],t[r]);return e}function Ey(e,t){Object.defineProperty(e,"toString",{value:t})}function Cy(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var ky=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw Cy(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var s=r;s<i;s++)this.groupSizes[s]=0}for(var a=this.indexOfGroup(e+1),o=(s=0,t.length);s<o;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,s=r;s<i;s++)t+="".concat(this.tag.getRule(s)).concat(Lv);return t},e}(),Ty=new Map,Iy=new Map,Ny=1,jy=function(e){if(Ty.has(e))return Ty.get(e);for(;Iy.has(Ny);)Ny++;var t=Ny++;return Ty.set(e,t),Iy.set(t,e),t},Py=function(e,t){Ny=t+1,Ty.set(e,t),Iy.set(t,e)},Oy="style[".concat(Ov,"][").concat(Rv,'="').concat(Dv,'"]'),Ay=new RegExp("^".concat(Ov,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Ry=function(e,t,n){for(var r,i=n.split(","),s=0,a=i.length;s<a;s++)(r=i[s])&&e.registerName(t,r)},Dy=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split(Lv),i=[],s=0,a=r.length;s<a;s++){var o=r[s].trim();if(o){var l=o.match(Ay);if(l){var c=0|parseInt(l[1],10),u=l[2];0!==c&&(Py(u,c),Ry(e,u,l[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(o)}}};function Ly(){return n.nc}var My=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){var t=Array.from(e.querySelectorAll("style[".concat(Ov,"]")));return t[t.length-1]}(n),s=void 0!==i?i.nextSibling:null;r.setAttribute(Ov,Av),r.setAttribute(Rv,Dv);var a=Ly();return a&&r.setAttribute("nonce",a),n.insertBefore(r,s),r},Fy=function(){function e(e){this.element=My(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw Cy(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),Uy=function(){function e(e){this.element=My(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Vy=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),zy=Mv,By={isServer:!Mv,useCSSOMInjection:!Fv},Hy=function(){function e(e,t,n){void 0===e&&(e=Vv),void 0===t&&(t={});var r=this;this.options=Tg(Tg({},By),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Mv&&zy&&(zy=!1,function(e){for(var t=document.querySelectorAll(Oy),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(Ov)!==Av&&(Dy(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this)),Ey(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i=function(e){return Iy.get(e)}(n);if(void 0===i)return"continue";var s=e.names.get(i),a=t.getGroup(n);if(void 0===s||0===a.length)return"continue";var o="".concat(Ov,".g").concat(n,'[id="').concat(i,'"]'),l="";void 0!==s&&s.forEach((function(e){e.length>0&&(l+="".concat(e,","))})),r+="".concat(a).concat(o,'{content:"').concat(l,'"}').concat(Lv)},s=0;s<n;s++)i(s);return r}(r)}))}return e.registerId=function(e){return jy(e)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(Tg(Tg({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new Vy(n):t?new Fy(n):new Uy(n)}(this.options),new ky(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(jy(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(jy(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(jy(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),qy=/&/g,Wy=/^\s*\/\/.*$/gm;function Ky(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=Ky(e.children,t)),e}))}function Gy(e){var t,n,r,i=void 0===e?Vv:e,s=i.options,a=void 0===s?Vv:s,o=i.plugins,l=void 0===o?Uv:o,c=function(e,r,i){return i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},u=l.slice();u.push((function(e){e.type===Dg&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(qy,n).replace(r,c))})),a.prefix&&u.push(Cv),u.push(Sv);var h=function(e,i,s,o){void 0===i&&(i=""),void 0===s&&(s=""),void 0===o&&(o="&"),t=o,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var l=e.replace(Wy,""),c=kv(s||i?"".concat(s," ").concat(i," { ").concat(l," }"):l);a.namespace&&(c=Ky(c,a.namespace));var h=[];return xv(c,function(e){var t=Yg(e);return function(n,r,i,s){for(var a="",o=0;o<t;o++)a+=e[o](n,r,i,s)||"";return a}}(u.concat(function(e){return function(t){t.root||(t=t.return)&&e(t)}}((function(e){return h.push(e)}))))),h};return h.hash=l.length?l.reduce((function(e,t){return t.name||Cy(15),Jv(e,t.name)}),Xv).toString():"",h}var $y=new Hy,Qy=Gy(),Yy=t.createContext({shouldForwardProp:void 0,styleSheet:$y,stylis:Qy}),Xy=(Yy.Consumer,t.createContext(void 0));function Jy(){return(0,t.useContext)(Yy)}function Zy(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],s=Jy().styleSheet,a=(0,t.useMemo)((function(){var t=s;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,s]),o=(0,t.useMemo)((function(){return Gy({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:r})}),[e.enableVendorPrefixes,e.namespace,r]);(0,t.useEffect)((function(){jg()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]);var l=(0,t.useMemo)((function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:a,stylis:o}}),[e.shouldForwardProp,a,o]);return t.createElement(Yy.Provider,{value:l},t.createElement(Xy.Provider,{value:o},e.children))}var eb=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Qy);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,Ey(this,(function(){throw Cy(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=Qy),this.name+e.hash},e}(),tb=function(e){return e>="A"&&e<="Z"};function nb(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;tb(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var rb=function(e){return null==e||!1===e||""===e},ib=function(e){var t,n,r=[];for(var i in e){var s=e[i];e.hasOwnProperty(i)&&!rb(s)&&(Array.isArray(s)&&s.isCss||yy(s)?r.push("".concat(nb(i),":"),s,";"):xy(s)?r.push.apply(r,Ig(Ig(["".concat(i," {")],ib(s),!1),["}"],!1)):r.push("".concat(nb(i),": ").concat((t=i,null==(n=s)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||t in Pv||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function sb(e,t,n,r){return rb(e)?[]:by(e)?[".".concat(e.styledComponentId)]:yy(e)?!yy(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:sb(e(t),t,n,r):e instanceof eb?n?(e.inject(n,r),[e.getName(r)]):[e]:xy(e)?ib(e):Array.isArray(e)?Array.prototype.concat.apply(Uv,e.map((function(e){return sb(e,t,n,r)}))):[e.toString()];var i}function ab(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(yy(n)&&!by(n))return!1}return!0}var ob=Zv(Dv),lb=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&ab(e),this.componentId=t,this.baseHash=Jv(ob,t),this.baseStyle=n,Hy.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=wy(r,this.staticRulesId);else{var i=_y(sb(this.rules,e,t,n)),s=Qv(Jv(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,s)){var a=n(i,".".concat(s),void 0,this.componentId);t.insertRules(this.componentId,s,a)}r=wy(r,s),this.staticRulesId=s}else{for(var o=Jv(this.baseHash,n.hash),l="",c=0;c<this.rules.length;c++){var u=this.rules[c];if("string"==typeof u)l+=u;else if(u){var h=_y(sb(u,e,t,n));o=Jv(o,h+c),l+=h}}if(l){var d=Qv(o>>>0);t.hasNameForId(this.componentId,d)||t.insertRules(this.componentId,d,n(l,".".concat(d),void 0,this.componentId)),r=wy(r,d)}}return r},e}(),cb=t.createContext(void 0);cb.Consumer;var ub={};new Set;function hb(e,n,r){var i=by(e),s=e,a=!ny(e),o=n.attrs,l=void 0===o?Uv:o,c=n.componentId,u=void 0===c?function(e,t){var n="string"!=typeof e?"sc":Wv(e);ub[n]=(ub[n]||0)+1;var r="".concat(n,"-").concat(ey(Dv+n+ub[n]));return t?"".concat(t,"-").concat(r):r}(n.displayName,n.parentComponentId):c,h=n.displayName,d=void 0===h?function(e){return ny(e)?"styled.".concat(e):"Styled(".concat(ty(e),")")}(e):h,f=n.displayName&&n.componentId?"".concat(Wv(n.displayName),"-").concat(n.componentId):n.componentId||u,p=i&&s.attrs?s.attrs.concat(l).filter(Boolean):l,m=n.shouldForwardProp;if(i&&s.shouldForwardProp){var g=s.shouldForwardProp;if(n.shouldForwardProp){var v=n.shouldForwardProp;m=function(e,t){return g(e,t)&&v(e,t)}}else m=g}var y=new lb(r,f,i?s.componentStyle:void 0);function b(e,n){return function(e,n,r){var i=e.attrs,s=e.componentStyle,a=e.defaultProps,o=e.foldedComponentIds,l=e.styledComponentId,c=e.target,u=t.useContext(cb),h=Jy(),d=e.shouldForwardProp||h.shouldForwardProp,f=zv(n,u,a)||Vv,p=function(e,t,n){for(var r,i=Tg(Tg({},t),{className:void 0,theme:n}),s=0;s<e.length;s+=1){var a=yy(r=e[s])?r(i):r;for(var o in a)i[o]="className"===o?wy(i[o],a[o]):"style"===o?Tg(Tg({},i[o]),a[o]):a[o]}return t.className&&(i.className=wy(i.className,t.className)),i}(i,n,f),m=p.as||c,g={};for(var v in p)void 0===p[v]||"$"===v[0]||"as"===v||"theme"===v&&p.theme===f||("forwardedAs"===v?g.as=p.forwardedAs:d&&!d(v,m)||(g[v]=p[v]));var y=function(e,t){var n=Jy();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(s,p),b=wy(o,l);return y&&(b+=" "+y),p.className&&(b+=" "+p.className),g[ny(m)&&!Bv.has(m)?"class":"className"]=b,g.ref=r,(0,t.createElement)(m,g)}(w,e,n)}b.displayName=d;var w=t.forwardRef(b);return w.attrs=p,w.componentStyle=y,w.displayName=d,w.shouldForwardProp=m,w.foldedComponentIds=i?wy(s.foldedComponentIds,s.styledComponentId):"",w.styledComponentId=f,w.target=i?s.target:e,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)Sy(e,i[r],!0);return e}({},s.defaultProps,e):e}}),Ey(w,(function(){return".".concat(w.styledComponentId)})),a&&vy(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function db(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var fb=function(e){return Object.assign(e,{isCss:!0})};function pb(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(yy(e)||xy(e))return fb(sb(db(Uv,Ig([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?sb(r):fb(sb(db(r,t)))}function mb(e,t,n){if(void 0===n&&(n=Vv),!t)throw Cy(1,t);var r=function(r){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return e(t,n,pb.apply(void 0,Ig([r],i,!1)))};return r.attrs=function(r){return mb(e,t,Tg(Tg({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return mb(e,t,Tg(Tg({},n),r))},r}var gb=function(e){return mb(hb,e)},vb=gb;Bv.forEach((function(e){vb[e]=gb(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=ab(e),Hy.registerId(this.componentId+1)}e.prototype.createStyles=function(e,t,n,r){var i=r(_y(sb(this.rules,t,n,r)),""),s=this.componentId+e;n.insertRules(s,s,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&Hy.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();function yb(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=_y(pb.apply(void 0,Ig([e],t,!1))),i=ey(r);return new eb(i,r)}var bb,wb,_b,xb,Sb,Eb,Cb,kb,Tb;(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=Ly(),r=_y([n&&'nonce="'.concat(n,'"'),"".concat(Ov,'="true"'),"".concat(Rv,'="').concat(Dv,'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw Cy(2);return e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)throw Cy(2);var r=((n={})[Ov]="",n[Rv]=Dv,n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=Ly();return i&&(r.nonce=i),[t.createElement("style",Tg({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Hy({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw Cy(2);return t.createElement(Zy,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw Cy(3)}})(),"__sc-".concat(Ov,"__");const Ib="#4fa94d",Nb={"aria-busy":!0,role:"progressbar"},jb=vb.div(bb||(bb=kg(["\n  display: ",";\n"])),(e=>e.$visible?"flex":"none")),Pb=242.776657104492,Ob=yb(wb||(wb=kg(["\n12.5% {\n  stroke-dasharray: ","px, ","px;\n  stroke-dashoffset: -","px;\n}\n43.75% {\n  stroke-dasharray: ","px, ","px;\n  stroke-dashoffset: -","px;\n}\n100% {\n  stroke-dasharray: ","px, ","px;\n  stroke-dashoffset: -","px;\n}\n"])),33.98873199462888,Pb,26.70543228149412,84.97182998657219,Pb,84.97182998657219,2.42776657104492,Pb,240.34889053344708),Ab=(vb.path(_b||(_b=kg(["\n  stroke-dasharray: ","px, ",";\n  stroke-dashoffset: 0;\n  animation: "," ","s linear infinite;\n"])),2.42776657104492,Pb,Ob,1.6),(e,t,n)=>{const r=Math.max(e,t),i=-n-r/2+1,s=2*n+r;return[i,i,s,s].join(" ")}),Rb=e=>{let{height:t=80,width:n=80,color:r=Ib,secondaryColor:i=Ib,ariaLabel:s="oval-loading",wrapperStyle:a,wrapperClass:o,visible:l=!0,strokeWidth:c=2,strokeWidthSecondary:u}=e;return(0,Re.jsx)(jb,{style:a,$visible:l,className:o,"data-testid":"oval-loading","aria-label":s,...Nb,children:(0,Re.jsx)("svg",{width:n,height:t,viewBox:Ab(Number(c),Number(u||c),20),xmlns:"http://www.w3.org/2000/svg",stroke:r,"data-testid":"oval-svg",children:(0,Re.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,Re.jsxs)("g",{transform:"translate(1 1)",strokeWidth:Number(u||c),"data-testid":"oval-secondary-group",children:[(0,Re.jsx)("circle",{strokeOpacity:".5",cx:"0",cy:"0",r:20,stroke:i,strokeWidth:c}),(0,Re.jsx)("path",{d:(h=20,["M"+h+" 0c0-9.94-8.06",h,h,h].join("-")),children:(0,Re.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 0 0",to:"360 0 0",dur:"1s",repeatCount:"indefinite"})})]})})})});var h},Db=yb(xb||(xb=kg(["\nto {\n   transform: rotate(360deg);\n }\n"]))),Lb=(vb.svg(Sb||(Sb=kg(["\n  animation: "," 0.75s steps(12, end) infinite;\n  animation-duration: 0.75s;\n"])),Db),vb.polyline(Eb||(Eb=kg(["\n  stroke-width: ","px;\n  stroke-linecap: round;\n\n  &:nth-child(12n + 0) {\n    stroke-opacity: 0.08;\n  }\n\n  &:nth-child(12n + 1) {\n    stroke-opacity: 0.17;\n  }\n\n  &:nth-child(12n + 2) {\n    stroke-opacity: 0.25;\n  }\n\n  &:nth-child(12n + 3) {\n    stroke-opacity: 0.33;\n  }\n\n  &:nth-child(12n + 4) {\n    stroke-opacity: 0.42;\n  }\n\n  &:nth-child(12n + 5) {\n    stroke-opacity: 0.5;\n  }\n\n  &:nth-child(12n + 6) {\n    stroke-opacity: 0.58;\n  }\n\n  &:nth-child(12n + 7) {\n    stroke-opacity: 0.66;\n  }\n\n  &:nth-child(12n + 8) {\n    stroke-opacity: 0.75;\n  }\n\n  &:nth-child(12n + 9) {\n    stroke-opacity: 0.83;\n  }\n\n  &:nth-child(12n + 11) {\n    stroke-opacity: 0.92;\n  }\n"])),(e=>e.width)),yb(Cb||(Cb=kg(["\nto {\n   stroke-dashoffset: 136;\n }\n"])))),Mb=(vb.polygon(kb||(kb=kg(["\n  stroke-dasharray: 17;\n  animation: "," 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;\n"])),Lb),vb.svg(Tb||(Tb=kg(["\n  transform-origin: 50% 65%;\n"]))),async(e,t)=>{const n=(r=t,Zm(dt(cg),r));var r;await function(e,t,n){return Qm(e=dt(e),t,n)}(n,e);const i=await function(e){return Ym(e=dt(e))}(n);return i}),Fb="ProfilePage_container__s23Vz",Ub="ProfilePage_avatarImg__3ZsDf",Vb="ProfilePage_loadingContainer__dyHYP",zb="ProfilePage_section__DJYHa",Bb="ProfilePage_pointer__Fm+h3",Hb="ProfilePage_flexColumnCenter__QbRjh",qb="ProfilePage_fileInputLabel__4NeLp";const Wb=function(){const{logout:e,currentUser:n,changePassword:r}=pg(),i=X(),[s,a]=(0,t.useState)({}),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(null),[h,d]=(0,t.useState)(!0),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)(!1),[b,w]=(0,t.useState)(!1),[_,x]=(0,t.useState)(""),[S,E]=(0,t.useState)(""),[C,k]=(0,t.useState)("");return(0,t.useEffect)((()=>{n&&hg(n.uid).then((e=>{a(e),l(e.username),d(!1)})).catch((e=>{console.error("Error fetching profile info:",e),d(!1)}))}),[n]),h?(0,Re.jsx)("div",{className:Vb,children:(0,Re.jsx)(Rb,{color:"#020818",height:80,width:80})}):(0,Re.jsxs)("div",{className:Fb,children:[(0,Re.jsx)("h1",{children:s.username}),(0,Re.jsx)("img",{className:Ub,src:s.avatar,alt:"profileImage"}),f&&(0,Re.jsx)("div",{className:Vb,children:(0,Re.jsx)(Rb,{color:"#020818",height:80,width:80})}),(0,Re.jsxs)("div",{className:zb,children:[(0,Re.jsx)("h2",{className:Bb,onClick:()=>g(!m),children:"Change Username"}),m&&(0,Re.jsxs)("div",{className:Hb,children:[(0,Re.jsx)("input",{type:"text",value:o,onChange:e=>l(e.target.value)}),(0,Re.jsx)("button",{className:"btnPrimary",onClick:async()=>{p(!0);try{await dg(n.uid,{username:o}),a({...s,username:o}),console.log("Username updated successfully")}catch(e){console.error("Username Update Error:",e)}finally{p(!1)}},disabled:f,style:{marginTop:"10px"},children:"Update Username"})]})]}),(0,Re.jsxs)("div",{className:zb,children:[(0,Re.jsx)("h2",{className:Bb,onClick:()=>y(!v),children:"Change Profile Icon"}),v&&(0,Re.jsxs)("div",{className:Hb,children:[(0,Re.jsx)("input",{type:"file",id:"fileInput",onChange:e=>{u(e.target.files[0])},style:{display:"none"}}),(0,Re.jsx)("label",{htmlFor:"fileInput",className:qb,children:"Choose File"}),(0,Re.jsx)("button",{className:"btnPrimary",onClick:async()=>{if(c){p(!0);try{const e=await Mb(c,"profileIcons/".concat(n.uid));await dg(n.uid,{avatar:e}),a({...s,avatar:e}),console.log("Profile icon updated successfully")}catch(e){console.error("Profile Icon Update Error:",e)}finally{p(!1)}}},disabled:f,style:{marginTop:"10px"},children:f?"Uploading...":"Update Icon"})]})]}),(0,Re.jsxs)("div",{className:zb,children:[(0,Re.jsx)("h2",{className:Bb,onClick:()=>w(!b),children:"Change Password"}),b&&(0,Re.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),S===C){p(!0);try{const e=lf.credential(n.email,_);await Ef(n,e),await r(S),console.log("Password updated successfully"),w(!1)}catch(t){console.error("Password Update Error:",t)}finally{p(!1)}}else console.error("Passwords do not match")},className:Hb,children:[(0,Re.jsx)("input",{type:"password",placeholder:"Current Password",value:_,onChange:e=>x(e.target.value)}),(0,Re.jsx)("input",{type:"password",placeholder:"New Password",value:S,onChange:e=>E(e.target.value)}),(0,Re.jsx)("input",{type:"password",placeholder:"Confirm New Password",value:C,onChange:e=>k(e.target.value)}),(0,Re.jsx)("button",{className:"btnPrimary",type:"submit",disabled:f,style:{marginTop:"10px"},children:"Update Password"})]})]}),(0,Re.jsx)("button",{className:"btnSecondary",onClick:async()=>{try{await e(),console.log("Successfully logged out"),i("/login")}catch(t){console.error("Logout Error:",t)}},children:"Log Out"})]})},Kb=yu(lg,"Characters"),Gb=async()=>{try{const e=await wh(Kb);return e.docs.map((e=>({id:e.id,...e.data()})))}catch(e){throw console.error("Error fetching characters: ",e),e}},$b="CharactersPage_cardsContainer__pdpuV",Qb="CharactersPage_card__dqcWA",Yb="CharactersPage_characterImageAll__leimv",Xb="CharactersPage_cardContent__IwyCM",Jb="CharactersPage_searchInput__Yf0Xd";const Zb=function(){const{currentUser:e}=pg(),[n,r]=(0,t.useState)([]),[i,s]=(0,t.useState)(!1),[a,o]=(0,t.useState)(""),l=X();(0,t.useEffect)((()=>{(async()=>{try{const e=await Gb();r(e)}catch(e){console.error("Error fetching characters: ",e)}})(),(async()=>{try{"admin"===(await hg(e.uid)).role&&s(!0)}catch(t){console.error("Error fetching user role: ",t)}})()}),[e]);const c=n.filter((e=>e.fullName.toLowerCase().includes(a.toLowerCase())||e.nicknames.toLowerCase().includes(a.toLowerCase())||e.species.toLowerCase().includes(a.toLowerCase())||e.gender.toLowerCase().includes(a.toLowerCase())||e.occupation.toLowerCase().includes(a.toLowerCase())));return(0,Re.jsxs)("div",{className:"container",children:[(0,Re.jsx)("h1",{children:"Characters"}),(0,Re.jsx)("input",{type:"search",placeholder:"Search Characters...",value:a,onChange:e=>{o(e.target.value)},className:Jb}),i&&(0,Re.jsx)("button",{className:"btnPrimary",style:{marginTop:"20px",marginBottom:"20px"},onClick:()=>l("/characters/add"),children:"Add Character"}),(0,Re.jsx)("div",{className:$b,children:c.map((e=>(0,Re.jsxs)("div",{className:Qb,onClick:()=>{return t=e.id,console.log("Navigating to character:",t),void l("/characters/".concat(t));var t},children:[e.imageUrl&&(0,Re.jsx)("img",{src:e.imageUrl,alt:e.fullName,className:Yb}),(0,Re.jsxs)("div",{className:Xb,children:[(0,Re.jsx)("h3",{children:e.fullName}),(0,Re.jsx)("h4",{children:e.nicknames}),(0,Re.jsxs)("p",{children:[(0,Re.jsx)("strong",{children:"Species:"})," ",e.species]}),(0,Re.jsxs)("p",{children:[(0,Re.jsx)("strong",{children:"Gender:"})," ",e.gender]}),(0,Re.jsxs)("p",{children:[(0,Re.jsx)("strong",{children:"Age:"})," ",e.age]}),(0,Re.jsxs)("p",{children:[(0,Re.jsx)("strong",{children:"Occupation/Role:"})," ",e.occupation]})]})]},e.id)))})]})},ew={form:"CharacterAddPage_form__CrJPC",formGroup:"CharacterAddPage_formGroup__bvSyD",fullWidth:"CharacterAddPage_fullWidth__UpW29",largeTextarea:"CharacterAddPage_largeTextarea__GWg5G"};const tw=function(){const e=X(),[n,r]=(0,t.useState)(!1),[i,s]=(0,t.useState)(null),[a,o]=(0,t.useState)({fullName:"",nicknames:"",age:"",gender:"",species:"",occupation:"",physicalDescription:"",typicalClothing:"",placeOfBirth:"",family:"",educationTraining:"",significantEvents:"",traits:"",strengthsWeaknesses:"",fears:"",goals:"",motivations:"",magicAbilities:"",skills:"",allies:"",enemies:"",loveInterests:"",plotInvolvement:"",keyActions:"",characterArc:"",imageUrl:"https://firebasestorage.googleapis.com/v0/b/lorekeeper-6ffd8.appspot.com/o/Logo.jpg?alt=media&token=b3c66f08-5659-49a0-877c-1a03841ce2bd"}),l=e=>{const{name:t,value:n}=e.target;o({...a,[t]:n})};return(0,Re.jsxs)("div",{className:"container ".concat(ew.centeredForm),children:[(0,Re.jsx)("h2",{className:"TitleText",children:"Add Character"}),n&&(0,Re.jsx)("div",{className:"loading-container",children:(0,Re.jsx)(Rb,{color:"#020818",height:80,width:80})}),(0,Re.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),r(!0);try{let t="";t=i?await Mb(i,"characters/".concat(a.fullName)):"https://firebasestorage.googleapis.com/v0/b/lorekeeper-6ffd8.appspot.com/o/Logo.jpg?alt=media&token=b3c66f08-5659-49a0-877c-1a03841ce2bd",await(async e=>{try{const t=await Sh(Kb,e);return console.log("Document written with ID: ",t.id),t.id}catch(t){throw console.error("Error adding document: ",t),t}})({...a,imageUrl:t}),e("/characters")}catch(n){console.error("Error adding character: ",n)}r(!1)},className:ew.form,children:[(0,Re.jsxs)("div",{className:ew.formGroup,children:[(0,Re.jsx)("label",{children:"Full Name"}),(0,Re.jsx)("input",{type:"text",name:"fullName",value:a.fullName,onChange:l,required:!0})]}),(0,Re.jsxs)("div",{className:ew.formGroup,children:[(0,Re.jsx)("label",{children:"Nicknames"}),(0,Re.jsx)("input",{type:"text",name:"nicknames",value:a.nicknames,onChange:l})]}),(0,Re.jsxs)("div",{className:ew.formGroup,children:[(0,Re.jsx)("label",{children:"Age"}),(0,Re.jsx)("input",{type:"text",name:"age",value:a.age,onChange:l})]}),(0,Re.jsxs)("div",{className:ew.formGroup,children:[(0,Re.jsx)("label",{children:"Gender"}),(0,Re.jsx)("input",{type:"text",name:"gender",value:a.gender,onChange:l})]}),(0,Re.jsxs)("div",{className:ew.formGroup,children:[(0,Re.jsx)("label",{children:"Species"}),(0,Re.jsx)("input",{type:"text",name:"species",value:a.species,onChange:l})]}),(0,Re.jsxs)("div",{className:ew.formGroup,children:[(0,Re.jsx)("label",{children:"Occupation/Role"}),(0,Re.jsx)("input",{type:"text",name:"occupation",value:a.occupation,onChange:l})]}),(0,Re.jsxs)("div",{className:ew.formGroup,children:[(0,Re.jsx)("label",{children:"Physical Description"}),(0,Re.jsx)("textarea",{name:"physicalDescription",value:a.physicalDescription,onChange:l,className:"large-textarea"})]}),(0,Re.jsxs)("div",{className:ew.formGroup,children:[(0,Re.jsx)("label",{children:"Typical Clothing/Armor"}),(0,Re.jsx)("textarea",{name:"typicalClothing",value:a.typicalClothing,onChange:l,className:"large-textarea"})]}),(0,Re.jsxs)("div",{className:ew.formGroup,children:[(0,Re.jsx)("label",{children:"Place of Birth"}),(0,Re.jsx)("textarea",{name:"placeOfBirth",value:a.placeOfBirth,onChange:l,className:"large-textarea"})]}),(0,Re.jsxs)("div",{className:ew.formGroup,children:[(0,Re.jsx)("label",{children:"Family"}),(0,Re.jsx)("textarea",{name:"family",value:a.family,onChange:l,className:"large-textarea"})]}),(0,Re.jsxs)("div",{className:ew.formGroup,children:[(0,Re.jsx)("label",{children:"Education/Training"}),(0,Re.jsx)("textarea",{name:"educationTraining",value:a.educationTraining,onChange:l,className:"large-textarea"})]}),(0,Re.jsxs)("div",{className:ew.formGroup,children:[(0,Re.jsx)("label",{children:"Significant Events"}),(0,Re.jsx)("textarea",{name:"significantEvents",value:a.significantEvents,onChange:l,className:"large-textarea"})]}),(0,Re.jsxs)("div",{className:ew.formGroup,children:[(0,Re.jsx)("label",{children:"Traits"}),(0,Re.jsx)("textarea",{name:"traits",value:a.traits,onChange:l,className:"large-textarea"})]}),(0,Re.jsxs)("div",{className:ew.formGroup,children:[(0,Re.jsx)("label",{children:"Strengths/Weaknesses"}),(0,Re.jsx)("textarea",{name:"strengthsWeaknesses",value:a.strengthsWeaknesses,onChange:l,className:"large-textarea"})]}),(0,Re.jsxs)("div",{className:ew.formGroup,children:[(0,Re.jsx)("label",{children:"Fears"}),(0,Re.jsx)("textarea",{name:"fears",value:a.fears,onChange:l,className:"large-textarea"})]}),(0,Re.jsxs)("div",{className:ew.formGroup,children:[(0,Re.jsx)("label",{children:"Goals"}),(0,Re.jsx)("textarea",{name:"goals",value:a.goals,onChange:l,className:"large-textarea"})]}),(0,Re.jsxs)("div",{className:ew.formGroup,children:[(0,Re.jsx)("label",{children:"Motivations"}),(0,Re.jsx)("textarea",{name:"motivations",value:a.motivations,onChange:l,className:"large-textarea"})]}),(0,Re.jsxs)("div",{className:ew.formGroup,children:[(0,Re.jsx)("label",{children:"Magic/Abilities"}),(0,Re.jsx)("textarea",{name:"magicAbilities",value:a.magicAbilities,onChange:l,className:"large-textarea"})]}),(0,Re.jsxs)("div",{className:ew.formGroup,children:[(0,Re.jsx)("label",{children:"Skills"}),(0,Re.jsx)("textarea",{name:"skills",value:a.skills,onChange:l,className:"large-textarea"})]}),(0,Re.jsxs)("div",{className:ew.formGroup,children:[(0,Re.jsx)("label",{children:"Allies"}),(0,Re.jsx)("textarea",{name:"allies",value:a.allies,onChange:l,className:"large-textarea"})]}),(0,Re.jsxs)("div",{className:ew.formGroup,children:[(0,Re.jsx)("label",{children:"Enemies"}),(0,Re.jsx)("textarea",{name:"enemies",value:a.enemies,onChange:l,className:"large-textarea"})]}),(0,Re.jsxs)("div",{className:ew.formGroup,children:[(0,Re.jsx)("label",{children:"Love Interests"}),(0,Re.jsx)("textarea",{name:"loveInterests",value:a.loveInterests,onChange:l,className:"large-textarea"})]}),(0,Re.jsxs)("div",{className:ew.formGroup,children:[(0,Re.jsx)("label",{children:"Current Role in the Story"}),(0,Re.jsx)("textarea",{name:"plotInvolvement",value:a.plotInvolvement,onChange:l,className:"large-textarea"})]}),(0,Re.jsxs)("div",{className:ew.formGroup,children:[(0,Re.jsx)("label",{children:"Key Actions"}),(0,Re.jsx)("textarea",{name:"keyActions",value:a.keyActions,onChange:l,className:"large-textarea"})]}),(0,Re.jsxs)("div",{className:ew.formGroup,children:[(0,Re.jsx)("label",{children:"Character Arc"}),(0,Re.jsx)("textarea",{name:"characterArc",value:a.characterArc,onChange:l,className:"large-textarea"})]}),(0,Re.jsxs)("div",{className:"".concat(ew.formGroup," ").concat(ew.fullWidth),children:[(0,Re.jsx)("label",{children:"Character Image"}),(0,Re.jsx)("input",{type:"file",onChange:e=>{s(e.target.files[0])}})]}),(0,Re.jsx)("div",{className:"".concat(ew.formGroup," ").concat(ew.fullWidth),children:(0,Re.jsx)("button",{className:"btnPrimary",disabled:n,type:"submit",children:"Add Character"})})]})]})},nw="SingleCharacterPage_characterInfo__WkOBZ",rw="SingleCharacterPage_subDiv_1_p__hb5aY",iw="SingleCharacterPage_subDiv_2_p__74BzN",sw="SingleCharacterPage_subDiv_3_p__J97mZ",aw="SingleCharacterPage_characterImage__svHiU",ow="SingleCharacterPage_formGroup__5aL4a",lw="SingleCharacterPage_largeTextarea__HjNDW",cw="SingleCharacterPage_font22__DeUse",uw="SingleCharacterPage_characterDetails__fvit9",hw="SingleCharacterPage_buttonContainer__W5q-G",dw="SingleCharacterPage_separator__V5K8o";const fw=function(){const{characterId:e}=J(),{currentUser:n}=pg(),[r,i]=(0,t.useState)({}),[s,a]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[h,d]=(0,t.useState)(!0);(0,t.useEffect)((()=>{(async()=>{try{const t=await(async e=>{try{const t=bu(lg,"Characters",e),n=await yh(t);if(n.exists())return{id:n.id,...n.data()};throw new Error("Character not found")}catch(t){throw console.error("Error fetching character with ID ".concat(e,": "),t),t}})(e);i(t),d(!1)}catch(t){console.error("Error fetching character: ",t),d(!1)}})(),(async()=>{try{"admin"===(await hg(n.uid)).role&&l(!0)}catch(e){console.error("Error fetching user role: ",e)}})()}),[e,n]);const f=e=>{const{name:t,value:n}=e.target;i({...r,[t]:n})};return h?(0,Re.jsx)("div",{children:"Loading..."}):(0,Re.jsxs)("div",{className:"container",children:[r.imageUrl&&(0,Re.jsx)("img",{src:r.imageUrl,alt:r.fullName,className:aw,style:{marginTop:"15px"}}),c?(0,Re.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),d(!0);try{let t=r.imageUrl;s&&(t=await Mb(s,"characters/".concat(r.fullName))),await(async(e,t)=>{try{const n=bu(lg,"Characters",e);await _h(n,t,{merge:!0}),console.log("Character updated with ID: ",e)}catch(n){throw console.error("Error updating character: ",n),n}})(e,{...r,imageUrl:t}),u(!1)}catch(n){console.error("Error updating character: ",n)}finally{d(!1)}},children:[(0,Re.jsxs)("div",{className:ow,children:[(0,Re.jsx)("label",{children:"Full Name"}),(0,Re.jsx)("input",{type:"text",name:"fullName",value:r.fullName,onChange:f,required:!0})]}),(0,Re.jsxs)("div",{className:ow,children:[(0,Re.jsx)("label",{children:"Nicknames"}),(0,Re.jsx)("input",{type:"text",name:"nicknames",value:r.nicknames,onChange:f})]}),(0,Re.jsxs)("div",{className:ow,children:[(0,Re.jsx)("label",{children:"Species"}),(0,Re.jsx)("input",{type:"text",name:"species",value:r.species,onChange:f})]}),(0,Re.jsxs)("div",{className:ow,children:[(0,Re.jsx)("label",{children:"Gender"}),(0,Re.jsx)("input",{type:"text",name:"gender",value:r.gender,onChange:f})]}),(0,Re.jsxs)("div",{className:ow,children:[(0,Re.jsx)("label",{children:"Age"}),(0,Re.jsx)("input",{type:"text",name:"age",value:r.age,onChange:f})]}),(0,Re.jsxs)("div",{className:ow,children:[(0,Re.jsx)("label",{children:"Occupation/Role"}),(0,Re.jsx)("input",{type:"text",name:"occupation",value:r.occupation,onChange:f})]}),(0,Re.jsxs)("div",{className:ow,children:[(0,Re.jsx)("label",{children:"Physical Description"}),(0,Re.jsx)("textarea",{name:"physicalDescription",value:r.physicalDescription,onChange:f,className:lw})]}),(0,Re.jsxs)("div",{className:ow,children:[(0,Re.jsx)("label",{children:"Typical Clothing/Armor"}),(0,Re.jsx)("textarea",{name:"typicalClothing",value:r.typicalClothing,onChange:f,className:lw})]}),(0,Re.jsxs)("div",{className:ow,children:[(0,Re.jsx)("label",{children:"Place of Birth"}),(0,Re.jsx)("textarea",{name:"placeOfBirth",value:r.placeOfBirth,onChange:f,className:lw})]}),(0,Re.jsxs)("div",{className:ow,children:[(0,Re.jsx)("label",{children:"Family"}),(0,Re.jsx)("textarea",{name:"family",value:r.family,onChange:f,className:lw})]}),(0,Re.jsxs)("div",{className:ow,children:[(0,Re.jsx)("label",{children:"Education/Training"}),(0,Re.jsx)("textarea",{name:"educationTraining",value:r.educationTraining,onChange:f,className:lw})]}),(0,Re.jsxs)("div",{className:ow,children:[(0,Re.jsx)("label",{children:"Significant Events"}),(0,Re.jsx)("textarea",{name:"significantEvents",value:r.significantEvents,onChange:f,className:lw})]}),(0,Re.jsxs)("div",{className:ow,children:[(0,Re.jsx)("label",{children:"Traits"}),(0,Re.jsx)("textarea",{name:"traits",value:r.traits,onChange:f,className:lw})]}),(0,Re.jsxs)("div",{className:ow,children:[(0,Re.jsx)("label",{children:"Fears"}),(0,Re.jsx)("textarea",{name:"fears",value:r.fears,onChange:f,className:lw})]}),(0,Re.jsxs)("div",{className:ow,children:[(0,Re.jsx)("label",{children:"Goals"}),(0,Re.jsx)("textarea",{name:"goals",value:r.goals,onChange:f,className:lw})]}),(0,Re.jsxs)("div",{className:ow,children:[(0,Re.jsx)("label",{children:"Strengths/Weaknesses"}),(0,Re.jsx)("textarea",{name:"strengthsWeaknesses",value:r.strengthsWeaknesses,onChange:f,className:lw})]}),(0,Re.jsxs)("div",{className:ow,children:[(0,Re.jsx)("label",{children:"Motivations"}),(0,Re.jsx)("textarea",{name:"motivations",value:r.motivations,onChange:f,className:lw})]}),(0,Re.jsxs)("div",{className:ow,children:[(0,Re.jsx)("label",{children:"Magic/Abilities"}),(0,Re.jsx)("textarea",{name:"magicAbilities",value:r.magicAbilities,onChange:f,className:lw})]}),(0,Re.jsxs)("div",{className:ow,children:[(0,Re.jsx)("label",{children:"Skills"}),(0,Re.jsx)("textarea",{name:"skills",value:r.skills,onChange:f,className:lw})]}),(0,Re.jsxs)("div",{className:ow,children:[(0,Re.jsx)("label",{children:"Allies"}),(0,Re.jsx)("textarea",{name:"allies",value:r.allies,onChange:f,className:lw})]}),(0,Re.jsxs)("div",{className:ow,children:[(0,Re.jsx)("label",{children:"Enemies"}),(0,Re.jsx)("textarea",{name:"enemies",value:r.enemies,onChange:f,className:lw})]}),(0,Re.jsxs)("div",{className:ow,children:[(0,Re.jsx)("label",{children:"Love Interests"}),(0,Re.jsx)("textarea",{name:"loveInterests",value:r.loveInterests,onChange:f,className:lw})]}),(0,Re.jsxs)("div",{className:ow,children:[(0,Re.jsx)("label",{children:"Current Role in the Story"}),(0,Re.jsx)("textarea",{name:"plotInvolvement",value:r.plotInvolvement,onChange:f,className:lw})]}),(0,Re.jsxs)("div",{className:ow,children:[(0,Re.jsx)("label",{children:"Key Actions"}),(0,Re.jsx)("textarea",{name:"keyActions",value:r.keyActions,onChange:f,className:lw})]}),(0,Re.jsxs)("div",{className:ow,children:[(0,Re.jsx)("label",{children:"Character Arc"}),(0,Re.jsx)("textarea",{name:"characterArc",value:r.characterArc,onChange:f,className:lw})]}),(0,Re.jsxs)("div",{className:ow,children:[(0,Re.jsx)("label",{children:"Upload New Image"}),(0,Re.jsx)("input",{type:"file",onChange:e=>{a(e.target.files[0])}})]}),(0,Re.jsx)("button",{style:{marginRight:"50px"},type:"button",className:"btnPrimary",onClick:()=>u(!1),children:"Cancel"}),(0,Re.jsx)("button",{type:"submit",className:"btnPrimary",children:"Save"})]}):(0,Re.jsxs)("div",{className:uw,children:[(0,Re.jsxs)("div",{className:nw,style:{maxWidth:"900px",margin:"0 auto"},children:[(0,Re.jsx)("h1",{children:r.fullName}),(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("p",{className:"".concat(cw," ").concat(rw," preserve-whitespace"),children:[(0,Re.jsx)("strong",{children:"Nicknames:"}),(0,Re.jsx)("br",{})," ",r.nicknames]}),(0,Re.jsxs)("p",{className:"".concat(cw," ").concat(rw," preserve-whitespace"),children:[(0,Re.jsx)("strong",{children:"Species:"}),(0,Re.jsx)("br",{})," ",r.species]}),(0,Re.jsxs)("p",{className:"".concat(cw," ").concat(rw," preserve-whitespace"),children:[(0,Re.jsx)("strong",{children:"Gender:"}),(0,Re.jsx)("br",{})," ",r.gender]}),(0,Re.jsxs)("p",{className:"".concat(cw," ").concat(rw," preserve-whitespace"),children:[(0,Re.jsx)("strong",{children:"Age:"}),(0,Re.jsx)("br",{})," ",r.age]}),(0,Re.jsxs)("p",{className:"".concat(cw," ").concat(rw," preserve-whitespace"),children:[(0,Re.jsx)("strong",{children:"Occupation/Role:"}),(0,Re.jsx)("br",{})," ",r.occupation]})]}),(0,Re.jsx)("hr",{className:dw}),(0,Re.jsx)("h2",{children:"Physical Characteristics"}),(0,Re.jsxs)("p",{style:{marginTop:"5px"},className:"".concat(cw," preserve-whitespace"),children:[(0,Re.jsx)("strong",{children:"Physical Description:"}),(0,Re.jsx)("br",{})," ",r.physicalDescription]}),(0,Re.jsxs)("p",{style:{marginTop:"5px"},className:"".concat(cw," preserve-whitespace"),children:[(0,Re.jsx)("strong",{children:"Typical Clothing/Armor:"}),(0,Re.jsx)("br",{})," ",r.typicalClothing]}),(0,Re.jsx)("hr",{className:dw}),(0,Re.jsx)("h2",{children:"Background"}),(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("p",{className:"".concat(cw," ").concat(iw," preserve-whitespace"),children:[(0,Re.jsx)("strong",{children:"Place of Birth:"}),(0,Re.jsx)("br",{})," ",r.placeOfBirth]}),(0,Re.jsxs)("p",{className:"".concat(cw," ").concat(iw," preserve-whitespace"),children:[(0,Re.jsx)("strong",{children:"Family:"}),(0,Re.jsx)("br",{})," ",r.family]}),(0,Re.jsxs)("p",{className:"".concat(cw," ").concat(iw," preserve-whitespace"),children:[(0,Re.jsx)("strong",{children:"Education/Training:"}),(0,Re.jsx)("br",{})," ",r.educationTraining]})]}),(0,Re.jsx)("hr",{className:dw}),(0,Re.jsx)("h2",{children:"Personality"}),(0,Re.jsxs)("p",{style:{marginTop:"5px"},className:"".concat(cw," preserve-whitespace"),children:[(0,Re.jsx)("strong",{children:"Significant Events:"}),(0,Re.jsx)("br",{})," ",r.significantEvents]}),(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("p",{className:"".concat(cw," ").concat(iw," preserve-whitespace"),children:[(0,Re.jsx)("strong",{children:"Traits:"}),(0,Re.jsx)("br",{})," ",r.traits]}),(0,Re.jsxs)("p",{className:"".concat(cw," ").concat(iw," preserve-whitespace"),children:[(0,Re.jsx)("strong",{children:"Fears:"}),(0,Re.jsx)("br",{})," ",r.fears]}),(0,Re.jsxs)("p",{className:"".concat(cw," ").concat(iw," preserve-whitespace"),children:[(0,Re.jsx)("strong",{children:"Goals:"}),(0,Re.jsx)("br",{})," ",r.goals]})]}),(0,Re.jsx)("hr",{className:dw}),(0,Re.jsx)("h2",{children:"Abilities"}),(0,Re.jsxs)("p",{style:{marginTop:"5px"},className:"".concat(cw," preserve-whitespace"),children:[(0,Re.jsx)("strong",{children:"Strengths/Weaknesses:"}),(0,Re.jsx)("br",{})," ",r.strengthsWeaknesses]}),(0,Re.jsxs)("p",{style:{marginTop:"5px"},className:"".concat(cw," preserve-whitespace"),children:[(0,Re.jsx)("strong",{children:"Motivations:"}),(0,Re.jsx)("br",{})," ",r.motivations]}),(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("p",{className:"".concat(cw," ").concat(iw," preserve-whitespace"),children:[(0,Re.jsx)("strong",{children:"Magic/Abilities:"}),(0,Re.jsx)("br",{})," ",r.magicAbilities]}),(0,Re.jsxs)("p",{className:"".concat(cw," ").concat(iw," preserve-whitespace"),children:[(0,Re.jsx)("strong",{children:"Skills:"}),(0,Re.jsx)("br",{})," ",r.skills]}),(0,Re.jsxs)("p",{className:"".concat(cw," ").concat(iw," preserve-whitespace"),children:[(0,Re.jsx)("strong",{children:"Allies:"}),(0,Re.jsx)("br",{})," ",r.allies]})]}),(0,Re.jsx)("hr",{className:dw}),(0,Re.jsx)("h2",{children:"Relationships"}),(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("p",{className:"".concat(cw," ").concat(sw," preserve-whitespace"),children:[(0,Re.jsx)("strong",{children:"Enemies:"}),(0,Re.jsx)("br",{})," ",r.enemies]}),(0,Re.jsxs)("p",{className:"".concat(cw," ").concat(sw," preserve-whitespace"),children:[(0,Re.jsx)("strong",{children:"Love Interests:"}),(0,Re.jsx)("br",{})," ",r.loveInterests]})]}),(0,Re.jsx)("hr",{className:dw}),(0,Re.jsx)("h2",{children:"Role in the Story"}),(0,Re.jsxs)("p",{style:{marginTop:"5px"},className:"".concat(cw," preserve-whitespace"),children:[(0,Re.jsx)("strong",{children:"Current Role in the Story:"}),(0,Re.jsx)("br",{})," ",r.plotInvolvement]}),(0,Re.jsxs)("p",{style:{marginTop:"5px"},className:"".concat(cw," preserve-whitespace"),children:[(0,Re.jsx)("strong",{children:"Key Actions:"}),(0,Re.jsx)("br",{})," ",r.keyActions]}),(0,Re.jsxs)("p",{style:{marginTop:"5px"},className:"".concat(cw," preserve-whitespace"),children:[(0,Re.jsx)("strong",{children:"Character Arc:"}),(0,Re.jsx)("br",{})," ",r.characterArc]}),(0,Re.jsx)("hr",{className:dw})]}),o&&(0,Re.jsx)("div",{className:hw,style:{marginTop:"30px"},children:(0,Re.jsx)("button",{onClick:()=>{u(!0)},className:"btnPrimary",children:"Edit Character"})})]})]})},pw="AboutPage_aboutContainer__faDAq";const mw=function(){return(0,Re.jsxs)("div",{className:pw,children:[(0,Re.jsx)("h1",{children:"About LoreKeeper"}),(0,Re.jsxs)("section",{children:[(0,Re.jsx)("h2",{children:"Introduction"}),(0,Re.jsx)("p",{children:"Welcome to LoreKeeper, your comprehensive guide to my fantasy world. My project is designed to help my players and readers explore and keep track of the lore, characters, timeline and more."})]}),(0,Re.jsxs)("section",{children:[(0,Re.jsx)("h2",{children:"Project Origin"}),(0,Re.jsx)("p",{children:"LoreKeeper was inspired by my love for storytelling and complex worlds. I drew inspiration from fantasy titles such as Dungeons & Dragons, Pathfinder and Lord of the Rings. In addition, I wanted a place where the lore could be accessed from any place, not just my computer."})]}),(0,Re.jsxs)("section",{children:[(0,Re.jsx)("h2",{children:"Features"}),(0,Re.jsxs)("ul",{children:[(0,Re.jsxs)("li",{children:[(0,Re.jsx)("strong",{children:"Home"}),": Stay updated with the latest and featured content."]}),(0,Re.jsxs)("li",{children:[(0,Re.jsx)("strong",{children:"Characters"}),": Detailed profiles of important characters."]}),(0,Re.jsxs)("li",{children:[(0,Re.jsx)("strong",{children:"World"}),": Explore the diverse regions, cultures, and histories of the world."]}),(0,Re.jsxs)("li",{children:[(0,Re.jsx)("strong",{children:"Important Events"}),": Learn about significant events that shaped the world."]}),(0,Re.jsxs)("li",{children:[(0,Re.jsx)("strong",{children:"Timeline"}),": Follow the chronological order of key events."]}),(0,Re.jsxs)("li",{children:[(0,Re.jsx)("strong",{children:"Maps"}),": Visualize the world with detailed maps."]}),(0,Re.jsxs)("li",{children:[(0,Re.jsx)("strong",{children:"Magic"}),": Understand the magic systems and abilities."]}),(0,Re.jsxs)("li",{children:[(0,Re.jsx)("strong",{children:"Bestiary"}),": Meet the creatures that inhabit the world."]}),(0,Re.jsxs)("li",{children:[(0,Re.jsx)("strong",{children:"Profile"}),": Manage your account and personalize your experience."]})]})]}),(0,Re.jsxs)("section",{children:[(0,Re.jsx)("h2",{children:"Target Audience"}),(0,Re.jsx)("p",{children:"LoreKeeper is for my players, as well as DMs who wish to host campaigns set in my world. It is also for my writing, where both I and readers can find information."})]}),(0,Re.jsxs)("section",{children:[(0,Re.jsx)("h2",{children:"Technology Stack"}),(0,Re.jsx)("p",{children:"The website is built using modern technologies:"}),(0,Re.jsxs)("ul",{children:[(0,Re.jsxs)("li",{children:[(0,Re.jsx)("strong",{children:"React"}),": For a dynamic and responsive user interface."]}),(0,Re.jsxs)("li",{children:[(0,Re.jsx)("strong",{children:"Firebase"}),": To handle backend services including authentication and database management."]}),(0,Re.jsxs)("li",{children:[(0,Re.jsx)("strong",{children:"GitHub Pages"}),": For hosting the site."]})]})]}),(0,Re.jsxs)("section",{children:[(0,Re.jsx)("h2",{children:"Team"}),(0,Re.jsx)("p",{children:"Meet the creator(s) behind LoreKeeper:"}),(0,Re.jsx)("ul",{children:(0,Re.jsxs)("li",{children:[(0,Re.jsx)("strong",{children:"Nico Van Wyk (Robyn)"}),": Project Lead, Writer and Developer."]})})]}),(0,Re.jsxs)("section",{children:[(0,Re.jsx)("h2",{children:"Future Plans"}),(0,Re.jsx)("p",{children:"We're excited about the future of LoreKeeper! Look forward to:"}),(0,Re.jsxs)("ul",{children:[(0,Re.jsx)("li",{children:"Expanded content and new regions to explore."}),(0,Re.jsx)("li",{children:"Enhanced features for better user interaction."}),(0,Re.jsx)("li",{children:"Regular updates to keep the world fresh and exciting."})]}),(0,Re.jsx)("p",{children:"Stay tuned by following us on social media and subscribing to our newsletter."})]}),(0,Re.jsxs)("section",{children:[(0,Re.jsx)("h2",{children:"Contact Information"}),(0,Re.jsxs)("p",{children:["For contact information, please visit the following portfolio website: ",(0,Re.jsx)("a",{href:"https://nicovanwyk.github.io",children:"Portfolio"})]}),(0,Re.jsx)("p",{children:"Thank you for visiting LoreKeeper!"})]})]})};function gw(e){return gw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gw(e)}function vw(e){var t=function(e,t){if("object"!=gw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gw(t)?t:t+""}function yw(e,t,n){return(t=vw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ww(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bw(Object(n),!0).forEach((function(t){yw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function xw(e,t){if(e){if("string"==typeof e)return _w(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_w(e,t):void 0}}function Sw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||xw(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ew(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Cw=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function kw(){return kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kw.apply(null,arguments)}function Tw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vw(r.key),r)}}function Iw(e,t){return Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Iw(e,t)}function Nw(e){return Nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nw(e)}function jw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jw=function(){return!!e})()}function Pw(e,t){if(t&&("object"==gw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ow(e){return function(e){if(Array.isArray(e))return _w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xw(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Aw=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(nk){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Rw=Math.abs,Dw=String.fromCharCode,Lw=Object.assign;function Mw(e){return e.trim()}function Fw(e,t,n){return e.replace(t,n)}function Uw(e,t){return e.indexOf(t)}function Vw(e,t){return 0|e.charCodeAt(t)}function zw(e,t,n){return e.slice(t,n)}function Bw(e){return e.length}function Hw(e){return e.length}function qw(e,t){return t.push(e),e}var Ww=1,Kw=1,Gw=0,$w=0,Qw=0,Yw="";function Xw(e,t,n,r,i,s,a){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:Ww,column:Kw,length:a,return:""}}function Jw(e,t){return Lw(Xw("",null,null,"",null,null,0),e,{length:-e.length},t)}function Zw(){return Qw=$w<Gw?Vw(Yw,$w++):0,Kw++,10===Qw&&(Kw=1,Ww++),Qw}function e_(){return Vw(Yw,$w)}function t_(){return $w}function n_(e,t){return zw(Yw,e,t)}function r_(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function i_(e){return Ww=Kw=1,Gw=Bw(Yw=e),$w=0,[]}function s_(e){return Yw="",e}function a_(e){return Mw(n_($w-1,c_(91===e?e+2:40===e?e+1:e)))}function o_(e){for(;(Qw=e_())&&Qw<33;)Zw();return r_(e)>2||r_(Qw)>3?"":" "}function l_(e,t){for(;--t&&Zw()&&!(Qw<48||Qw>102||Qw>57&&Qw<65||Qw>70&&Qw<97););return n_(e,t_()+(t<6&&32==e_()&&32==Zw()))}function c_(e){for(;Zw();)switch(Qw){case e:return $w;case 34:case 39:34!==e&&39!==e&&c_(Qw);break;case 40:41===e&&c_(e);break;case 92:Zw()}return $w}function u_(e,t){for(;Zw()&&e+Qw!==57&&(e+Qw!==84||47!==e_()););return"/*"+n_(t,$w-1)+"*"+Dw(47===e?e:Zw())}function h_(e){for(;!r_(e_());)Zw();return n_(e,$w)}var d_="-ms-",f_="-moz-",p_="-webkit-",m_="comm",g_="rule",v_="decl",y_="@keyframes";function b_(e,t){for(var n="",r=Hw(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function w_(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case v_:return e.return=e.return||e.value;case m_:return"";case y_:return e.return=e.value+"{"+b_(e.children,r)+"}";case g_:e.value=e.props.join(",")}return Bw(n=b_(e.children,r))?e.return=e.value+"{"+n+"}":""}function __(e){return function(t){t.root||(t=t.return)&&e(t)}}function x_(e){return s_(S_("",null,null,null,[""],e=i_(e),0,[0],e))}function S_(e,t,n,r,i,s,a,o,l){for(var c=0,u=0,h=a,d=0,f=0,p=0,m=1,g=1,v=1,y=0,b="",w=i,_=s,x=r,S=b;g;)switch(p=y,y=Zw()){case 40:if(108!=p&&58==Vw(S,h-1)){-1!=Uw(S+=Fw(a_(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:S+=a_(y);break;case 9:case 10:case 13:case 32:S+=o_(p);break;case 92:S+=l_(t_()-1,7);continue;case 47:switch(e_()){case 42:case 47:qw(C_(u_(Zw(),t_()),t,n),l);break;default:S+="/"}break;case 123*m:o[c++]=Bw(S)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(S=Fw(S,/\f/g,"")),f>0&&Bw(S)-h&&qw(f>32?k_(S+";",r,n,h-1):k_(Fw(S," ","")+";",r,n,h-2),l);break;case 59:S+=";";default:if(qw(x=E_(S,t,n,c,u,i,o,b,w=[],_=[],h),s),123===y)if(0===u)S_(S,t,x,x,w,s,h,o,_);else switch(99===d&&110===Vw(S,3)?100:d){case 100:case 108:case 109:case 115:S_(e,x,x,r&&qw(E_(e,x,x,0,0,i,o,b,i,w=[],h),_),i,_,h,o,r?w:_);break;default:S_(S,x,x,x,[""],_,0,o,_)}}c=u=f=0,m=v=1,b=S="",h=a;break;case 58:h=1+Bw(S),f=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==(Qw=$w>0?Vw(Yw,--$w):0,Kw--,10===Qw&&(Kw=1,Ww--),Qw))continue;switch(S+=Dw(y),y*m){case 38:v=u>0?1:(S+="\f",-1);break;case 44:o[c++]=(Bw(S)-1)*v,v=1;break;case 64:45===e_()&&(S+=a_(Zw())),d=e_(),u=h=Bw(b=S+=h_(t_())),y++;break;case 45:45===p&&2==Bw(S)&&(m=0)}}return s}function E_(e,t,n,r,i,s,a,o,l,c,u){for(var h=i-1,d=0===i?s:[""],f=Hw(d),p=0,m=0,g=0;p<r;++p)for(var v=0,y=zw(e,h+1,h=Rw(m=a[p])),b=e;v<f;++v)(b=Mw(m>0?d[v]+" "+y:Fw(y,/&\f/g,d[v])))&&(l[g++]=b);return Xw(e,t,n,0===i?g_:o,l,c,u)}function C_(e,t,n){return Xw(e,t,n,m_,Dw(Qw),zw(e,2,-2),0)}function k_(e,t,n,r){return Xw(e,t,n,v_,zw(e,0,r),zw(e,r+1,-1),r)}var T_=function(e,t,n){for(var r=0,i=0;r=i,i=e_(),38===r&&12===i&&(t[n]=1),!r_(i);)Zw();return n_(e,$w)},I_=function(e,t){return s_(function(e,t){var n=-1,r=44;do{switch(r_(r)){case 0:38===r&&12===e_()&&(t[n]=1),e[n]+=T_($w-1,t,n);break;case 2:e[n]+=a_(r);break;case 4:if(44===r){e[++n]=58===e_()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Dw(r)}}while(r=Zw());return e}(i_(e),t))},N_=new WeakMap,j_=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||N_.get(n))&&!r){N_.set(e,!0);for(var i=[],s=I_(t,i),a=n.props,o=0,l=0;o<s.length;o++)for(var c=0;c<a.length;c++,l++)e.props[l]=i[o]?s[o].replace(/&\f/g,a[c]):a[c]+" "+s[o]}}},P_=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function O_(e,t){switch(function(e,t){return 45^Vw(e,0)?(((t<<2^Vw(e,0))<<2^Vw(e,1))<<2^Vw(e,2))<<2^Vw(e,3):0}(e,t)){case 5103:return p_+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return p_+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return p_+e+f_+e+d_+e+e;case 6828:case 4268:return p_+e+d_+e+e;case 6165:return p_+e+d_+"flex-"+e+e;case 5187:return p_+e+Fw(e,/(\w+).+(:[^]+)/,p_+"box-$1$2"+d_+"flex-$1$2")+e;case 5443:return p_+e+d_+"flex-item-"+Fw(e,/flex-|-self/,"")+e;case 4675:return p_+e+d_+"flex-line-pack"+Fw(e,/align-content|flex-|-self/,"")+e;case 5548:return p_+e+d_+Fw(e,"shrink","negative")+e;case 5292:return p_+e+d_+Fw(e,"basis","preferred-size")+e;case 6060:return p_+"box-"+Fw(e,"-grow","")+p_+e+d_+Fw(e,"grow","positive")+e;case 4554:return p_+Fw(e,/([^-])(transform)/g,"$1"+p_+"$2")+e;case 6187:return Fw(Fw(Fw(e,/(zoom-|grab)/,p_+"$1"),/(image-set)/,p_+"$1"),e,"")+e;case 5495:case 3959:return Fw(e,/(image-set\([^]*)/,p_+"$1$`$1");case 4968:return Fw(Fw(e,/(.+:)(flex-)?(.*)/,p_+"box-pack:$3"+d_+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+p_+e+e;case 4095:case 3583:case 4068:case 2532:return Fw(e,/(.+)-inline(.+)/,p_+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Bw(e)-1-t>6)switch(Vw(e,t+1)){case 109:if(45!==Vw(e,t+4))break;case 102:return Fw(e,/(.+:)(.+)-([^]+)/,"$1"+p_+"$2-$3$1"+f_+(108==Vw(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Uw(e,"stretch")?O_(Fw(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Vw(e,t+1))break;case 6444:switch(Vw(e,Bw(e)-3-(~Uw(e,"!important")&&10))){case 107:return Fw(e,":",":"+p_)+e;case 101:return Fw(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+p_+(45===Vw(e,14)?"inline-":"")+"box$3$1"+p_+"$2$3$1"+d_+"$2box$3")+e}break;case 5936:switch(Vw(e,t+11)){case 114:return p_+e+d_+Fw(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return p_+e+d_+Fw(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return p_+e+d_+Fw(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return p_+e+d_+e+e}return e}var A_=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case v_:e.return=O_(e.value,e.length);break;case y_:return b_([Jw(e,{value:Fw(e.value,"@","@"+p_)})],r);case g_:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return b_([Jw(e,{props:[Fw(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return b_([Jw(e,{props:[Fw(t,/:(plac\w+)/,":"+p_+"input-$1")]}),Jw(e,{props:[Fw(t,/:(plac\w+)/,":-moz-$1")]}),Jw(e,{props:[Fw(t,/:(plac\w+)/,d_+"input-$1")]})],r)}return""}))}}],R_=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||A_;var i,s,a={},o=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;o.push(e)}));var l=[j_,P_];var c,u=[w_,__((function(e){c.insert(e)}))],h=function(e){var t=Hw(e);return function(n,r,i,s){for(var a="",o=0;o<t;o++)a+=e[o](n,r,i,s)||"";return a}}(l.concat(r,u));s=function(e,t,n,r){c=n,b_(x_(e?e+"{"+t.styles+"}":t.styles),h),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new Aw({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:s};return d.sheet.hydrate(o),d};var D_=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)};function L_(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var M_=/[A-Z]|^ms/g,F_=/_EMO_([^_]+?)_([^]*?)_EMO_/g,U_=function(e){return 45===e.charCodeAt(1)},V_=function(e){return null!=e&&"boolean"!==typeof e},z_=L_((function(e){return U_(e)?e:e.replace(M_,"-$&").toLowerCase()})),B_=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(F_,(function(e,t,n){return q_={name:t,styles:n,next:q_},t}))}return 1===Pv[e]||U_(e)||"number"!==typeof t||0===t?t:t+"px"};function H_(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return q_={name:n.name,styles:n.styles,next:q_},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)q_={name:r.name,styles:r.styles,next:q_},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=H_(e,t,n[i])+";";else for(var s in n){var a=n[s];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=s+"{"+t[a]+"}":V_(a)&&(r+=z_(s)+":"+B_(s,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var o=H_(e,t,a);switch(s){case"animation":case"animationName":r+=z_(s)+":"+o+";";break;default:r+=s+"{"+o+"}"}}else for(var l=0;l<a.length;l++)V_(a[l])&&(r+=z_(s)+":"+B_(s,a[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=q_,s=n(e);return q_=i,H_(e,t,s)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var q_,W_=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var K_=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";q_=void 0;var s=e[0];null==s||void 0===s.raw?(r=!1,i+=H_(n,t,s)):i+=s[0];for(var a=1;a<e.length;a++)i+=H_(n,t,e[a]),r&&(i+=s[a]);W_.lastIndex=0;for(var o,l="";null!==(o=W_.exec(i));)l+="-"+o[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:q_}},G_=!!r.useInsertionEffect&&r.useInsertionEffect,$_=G_||function(e){return e()},Q_=(G_||t.useLayoutEffect,{}.hasOwnProperty),Y_=t.createContext("undefined"!==typeof HTMLElement?R_({key:"css"}):null);Y_.Provider;var X_=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(Y_);return e(n,i,r)}))};var J_=t.createContext({});var Z_="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",ex=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return D_(t,n,r),$_((function(){return function(e,t,n){D_(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},tx=X_((function(e,n,r){var i=e.css;"string"===typeof i&&void 0!==n.registered[i]&&(i=n.registered[i]);var s=e[Z_],a=[i],o="";"string"===typeof e.className?o=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(n.registered,a,e.className):null!=e.className&&(o=e.className+" ");var l=K_(a,void 0,t.useContext(J_));o+=n.key+"-"+l.name;var c={};for(var u in e)Q_.call(e,u)&&"css"!==u&&u!==Z_&&(c[u]=e[u]);return c.ref=r,c.className=o,t.createElement(t.Fragment,null,t.createElement(ex,{cache:n,serialized:l,isStringTag:"string"===typeof s}),t.createElement(s,c))}));var nx=tx,rx=(n(219),function(e,n){var r=arguments;if(null==n||!Q_.call(n,"css"))return t.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=nx,s[1]=function(e,t){var n={};for(var r in t)Q_.call(t,r)&&(n[r]=t[r]);return n[Z_]=e,n}(e,n);for(var a=2;a<i;a++)s[a]=r[a];return t.createElement.apply(null,s)});function ix(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return K_(t)}const sx=Math.min,ax=Math.max,ox=Math.round,lx=Math.floor,cx=e=>({x:e,y:e});function ux(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function hx(e){return px(e)?(e.nodeName||"").toLowerCase():"#document"}function dx(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function fx(e){var t;return null==(t=(px(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function px(e){return e instanceof Node||e instanceof dx(e).Node}function mx(e){return e instanceof Element||e instanceof dx(e).Element}function gx(e){return e instanceof HTMLElement||e instanceof dx(e).HTMLElement}function vx(e){return"undefined"!==typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof dx(e).ShadowRoot)}function yx(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=_x(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function bx(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function wx(e){return["html","body","#document"].includes(hx(e))}function _x(e){return dx(e).getComputedStyle(e)}function xx(e){if("html"===hx(e))return e;const t=e.assignedSlot||e.parentNode||vx(e)&&e.host||fx(e);return vx(t)?t.host:t}function Sx(e){const t=xx(e);return wx(t)?e.ownerDocument?e.ownerDocument.body:e.body:gx(t)&&yx(t)?t:Sx(t)}function Ex(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=Sx(e),s=i===(null==(r=e.ownerDocument)?void 0:r.body),a=dx(i);return s?t.concat(a,a.visualViewport||[],yx(i)?i:[],a.frameElement&&n?Ex(a.frameElement):[]):t.concat(i,Ex(i,[],n))}function Cx(e){const t=_x(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=gx(e),s=i?e.offsetWidth:n,a=i?e.offsetHeight:r,o=ox(n)!==s||ox(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function kx(e){return mx(e)?e:e.contextElement}function Tx(e){const t=kx(e);if(!gx(t))return cx(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=Cx(t);let a=(s?ox(n.width):n.width)/r,o=(s?ox(n.height):n.height)/i;return a&&Number.isFinite(a)||(a=1),o&&Number.isFinite(o)||(o=1),{x:a,y:o}}const Ix=cx(0);function Nx(e){const t=dx(e);return bx()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Ix}function jx(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),s=kx(e);let a=cx(1);t&&(r?mx(r)&&(a=Tx(r)):a=Tx(e));const o=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==dx(e))&&t}(s,n,r)?Nx(s):cx(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,u=i.width/a.x,h=i.height/a.y;if(s){const e=dx(s),t=r&&mx(r)?dx(r):r;let n=e,i=n.frameElement;for(;i&&r&&t!==n;){const e=Tx(i),t=i.getBoundingClientRect(),r=_x(i),s=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,h*=e.y,l+=s,c+=a,n=dx(i),i=n.frameElement}}return ux({width:u,height:h,x:l,y:c})}function Px(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a="function"===typeof ResizeObserver,layoutShift:o="function"===typeof IntersectionObserver,animationFrame:l=!1}=r,c=kx(e),u=i||s?[...c?Ex(c):[],...Ex(t)]:[];u.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),s&&e.addEventListener("resize",n)}));const h=c&&o?function(e,t){let n,r=null;const i=fx(e);function s(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function a(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),s();const{left:c,top:u,width:h,height:d}=e.getBoundingClientRect();if(o||t(),!h||!d)return;const f={rootMargin:-lx(u)+"px "+-lx(i.clientWidth-(c+h))+"px "+-lx(i.clientHeight-(u+d))+"px "+-lx(c)+"px",threshold:ax(0,sx(1,l))||1};let p=!0;function m(e){const t=e[0].intersectionRatio;if(t!==l){if(!p)return a();t?a(!1,t):n=setTimeout((()=>{a(!1,1e-7)}),1e3)}p=!1}try{r=new IntersectionObserver(m,{...f,root:i.ownerDocument})}catch(nk){r=new IntersectionObserver(m,f)}r.observe(e)}(!0),s}(c,n):null;let d,f=-1,p=null;a&&(p=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame((()=>{var e;null==(e=p)||e.observe(t)}))),n()})),c&&!l&&p.observe(c),p.observe(t));let m=l?jx(e):null;return l&&function t(){const r=jx(e);!m||r.x===m.x&&r.y===m.y&&r.width===m.width&&r.height===m.height||n();m=r,d=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{i&&e.removeEventListener("scroll",n),s&&e.removeEventListener("resize",n)})),null==h||h(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(d)}}const Ox=t.useLayoutEffect;var Ax=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Rx=function(){};function Dx(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function Lx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(t&&e)for(var a in t)t.hasOwnProperty(a)&&t[a]&&s.push("".concat(Dx(e,a)));return s.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var Mx=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===gw(e)&&null!==e?[e]:[];var t},Fx=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,ww({},Ew(e,Ax))},Ux=function(e,t,n){var r=e.cx,i=e.getStyles,s=e.getClassNames,a=e.className;return{css:i(t,e),className:r(null!==n&&void 0!==n?n:{},s(t,e),a)}};function Vx(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function zx(e){return Vx(e)?window.pageYOffset:e.scrollTop}function Bx(e,t){Vx(e)?window.scrollTo(0,t):e.scrollTop=t}function Hx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Rx,i=zx(e),s=t-i,a=0;!function t(){var o=function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}(a+=10,i,s,n);Bx(e,o),a<n?window.requestAnimationFrame(t):r(e)}()}function qx(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?Bx(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&Bx(e,Math.max(t.offsetTop-i,0))}function Wx(){try{return document.createEvent("TouchEvent"),!0}catch(nk){return!1}}var Kx=!1,Gx={get passive(){return Kx=!0}},$x="undefined"!==typeof window?window:{};$x.addEventListener&&$x.removeEventListener&&($x.addEventListener("p",Rx,Gx),$x.removeEventListener("p",Rx,!1));var Qx=Kx;function Yx(e){return null!=e}function Xx(e,t,n){return e?t:n}var Jx=["children","innerProps"],Zx=["children","innerProps"];function eS(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,s=e.shouldScroll,a=e.isFixedPosition,o=e.controlHeight,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var u,h=l.getBoundingClientRect().height,d=n.getBoundingClientRect(),f=d.bottom,p=d.height,m=d.top,g=n.offsetParent.getBoundingClientRect().top,v=a?window.innerHeight:Vx(u=l)?window.innerHeight:u.clientHeight,y=zx(l),b=parseInt(getComputedStyle(n).marginBottom,10),w=parseInt(getComputedStyle(n).marginTop,10),_=g-w,x=v-m,S=_+y,E=h-y-m,C=f-v+y+b,k=y+m-w,T=160;switch(i){case"auto":case"bottom":if(x>=p)return{placement:"bottom",maxHeight:t};if(E>=p&&!a)return s&&Hx(l,C,T),{placement:"bottom",maxHeight:t};if(!a&&E>=r||a&&x>=r)return s&&Hx(l,C,T),{placement:"bottom",maxHeight:a?x-b:E-b};if("auto"===i||a){var I=t,N=a?_:S;return N>=r&&(I=Math.min(N-b-o,t)),{placement:"top",maxHeight:I}}if("bottom"===i)return s&&Bx(l,C),{placement:"bottom",maxHeight:t};break;case"top":if(_>=p)return{placement:"top",maxHeight:t};if(S>=p&&!a)return s&&Hx(l,k,T),{placement:"top",maxHeight:t};if(!a&&S>=r||a&&_>=r){var j=t;return(!a&&S>=r||a&&_>=r)&&(j=a?_-w:S-w),s&&Hx(l,k,T),{placement:"top",maxHeight:j}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}var tS,nS=function(e){return"auto"===e?"bottom":e},rS=(0,t.createContext)(null),iS=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,a=e.menuPosition,o=e.menuShouldScrollIntoView,l=e.theme,c=((0,t.useContext)(rS)||{}).setPortalPlacement,u=(0,t.useRef)(null),h=Sw((0,t.useState)(i),2),d=h[0],f=h[1],p=Sw((0,t.useState)(null),2),m=p[0],g=p[1],v=l.spacing.controlHeight;return Ox((function(){var e=u.current;if(e){var t="fixed"===a,n=eS({maxHeight:i,menuEl:e,minHeight:r,placement:s,shouldScroll:o&&!t,isFixedPosition:t,controlHeight:v});f(n.maxHeight),g(n.placement),null===c||void 0===c||c(n.placement)}}),[i,s,a,o,r,c,v]),n({ref:u,placerProps:ww(ww({},e),{},{placement:m||nS(s),maxHeight:d})})},sS=function(e){var t=e.children,n=e.innerRef,r=e.innerProps;return rx("div",kw({},Ux(e,"menu",{menu:!0}),{ref:n},r),t)},aS=function(e,t){var n=e.theme,r=n.spacing.baseUnit,i=n.colors;return ww({textAlign:"center"},t?{}:{color:i.neutral40,padding:"".concat(2*r,"px ").concat(3*r,"px")})},oS=aS,lS=aS,cS=["size"],uS=["innerProps","isRtl","size"];var hS={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},dS=function(e){var t=e.size,n=Ew(e,cS);return rx("svg",kw({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:hS},n))},fS=function(e){return rx(dS,kw({size:20},e),rx("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},pS=function(e){return rx(dS,kw({size:20},e),rx("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},mS=function(e,t){var n=e.isFocused,r=e.theme,i=r.spacing.baseUnit,s=r.colors;return ww({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?s.neutral60:s.neutral20,padding:2*i,":hover":{color:n?s.neutral80:s.neutral40}})},gS=mS,vS=mS,yS=function(){var e=ix.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(tS||(tS=kg(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]))),bS=function(e){var t=e.delay,n=e.offset;return rx("span",{css:ix({animation:"".concat(yS," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},wS=function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,i=e.innerRef,s=e.innerProps,a=e.menuIsOpen;return rx("div",kw({ref:i},Ux(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":r,"control--menu-is-open":a}),s,{"aria-disabled":n||void 0}),t)},_S=["data"],xS=function(e){var t=e.children,n=e.cx,r=e.getStyles,i=e.getClassNames,s=e.Heading,a=e.headingProps,o=e.innerProps,l=e.label,c=e.theme,u=e.selectProps;return rx("div",kw({},Ux(e,"group",{group:!0}),o),rx(s,kw({},a,{selectProps:u,theme:c,getStyles:r,getClassNames:i,cx:n}),l),rx("div",null,t))},SS=["innerRef","isDisabled","isHidden","inputClassName"],ES={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},CS={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ww({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},ES)},kS=function(e){return ww({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},ES)},TS=function(e){var t=e.children,n=e.innerProps;return rx("div",n,t)};var IS=function(e){var t=e.children,n=e.components,r=e.data,i=e.innerProps,s=e.isDisabled,a=e.removeProps,o=e.selectProps,l=n.Container,c=n.Label,u=n.Remove;return rx(l,{data:r,innerProps:ww(ww({},Ux(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":s})),i),selectProps:o},rx(c,{data:r,innerProps:ww({},Ux(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:o},t),rx(u,{data:r,innerProps:ww(ww({},Ux(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},a),selectProps:o}))},NS={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return rx("div",kw({},Ux(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||rx(fS,null))},Control:wS,DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return rx("div",kw({},Ux(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||rx(pS,null))},DownChevron:pS,CrossIcon:fS,Group:xS,GroupHeading:function(e){var t=Fx(e);t.data;var n=Ew(t,_S);return rx("div",kw({},Ux(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return rx("div",kw({},Ux(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return rx("span",kw({},t,Ux(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,r=Fx(e),i=r.innerRef,s=r.isDisabled,a=r.isHidden,o=r.inputClassName,l=Ew(r,SS);return rx("div",kw({},Ux(e,"input",{"input-container":!0}),{"data-value":n||""}),rx("input",kw({className:t({input:!0},o),ref:i,style:kS(a),disabled:s},l)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,r=e.size,i=void 0===r?4:r,s=Ew(e,uS);return rx("div",kw({},Ux(ww(ww({},s),{},{innerProps:t,isRtl:n,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),rx(bS,{delay:0,offset:n}),rx(bS,{delay:160,offset:!0}),rx(bS,{delay:320,offset:!n}))},Menu:sS,MenuList:function(e){var t=e.children,n=e.innerProps,r=e.innerRef,i=e.isMulti;return rx("div",kw({},Ux(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:r},n),t)},MenuPortal:function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,a=e.menuPlacement,o=e.menuPosition,l=(0,t.useRef)(null),c=(0,t.useRef)(null),u=Sw((0,t.useState)(nS(a)),2),h=u[0],d=u[1],f=(0,t.useMemo)((function(){return{setPortalPlacement:d}}),[]),p=Sw((0,t.useState)(null),2),m=p[0],g=p[1],v=(0,t.useCallback)((function(){if(i){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(i),t="fixed"===o?0:window.pageYOffset,n=e[h]+t;n===(null===m||void 0===m?void 0:m.offset)&&e.left===(null===m||void 0===m?void 0:m.rect.left)&&e.width===(null===m||void 0===m?void 0:m.rect.width)||g({offset:n,rect:e})}}),[i,o,h,null===m||void 0===m?void 0:m.offset,null===m||void 0===m?void 0:m.rect.left,null===m||void 0===m?void 0:m.rect.width]);Ox((function(){v()}),[v]);var y=(0,t.useCallback)((function(){"function"===typeof c.current&&(c.current(),c.current=null),i&&l.current&&(c.current=Px(i,l.current,v,{elementResize:"ResizeObserver"in window}))}),[i,v]);Ox((function(){y()}),[y]);var b=(0,t.useCallback)((function(e){l.current=e,y()}),[y]);if(!n&&"fixed"!==o||!m)return null;var w=rx("div",kw({ref:b},Ux(ww(ww({},e),{},{offset:m.offset,position:o,rect:m.rect}),"menuPortal",{"menu-portal":!0}),s),r);return rx(rS.Provider,{value:f},n?(0,ve.createPortal)(w,n):w)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,r=e.innerProps,i=Ew(e,Zx);return rx("div",kw({},Ux(ww(ww({},i),{},{children:n,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,r=e.innerProps,i=Ew(e,Jx);return rx("div",kw({},Ux(ww(ww({},i),{},{children:n,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)},MultiValue:IS,MultiValueContainer:TS,MultiValueLabel:TS,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return rx("div",kw({role:"button"},n),t||rx(fS,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,i=e.isSelected,s=e.innerRef,a=e.innerProps;return rx("div",kw({},Ux(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":r,"option--is-selected":i}),{ref:s,"aria-disabled":n},a),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return rx("div",kw({},Ux(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,r=e.isDisabled,i=e.isRtl;return rx("div",kw({},Ux(e,"container",{"--is-disabled":r,"--is-rtl":i}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,r=e.innerProps;return rx("div",kw({},Ux(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),r),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,r=e.isMulti,i=e.hasValue;return rx("div",kw({},Ux(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":i}),n),t)}},jS=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function PS(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||jS(r)&&jS(i)))return!1;var r,i;return!0}for(var OS={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},AS=function(e){return rx("span",kw({css:OS},e))},RS={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.tabSelectsValue,i=e.context,s=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return s?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,i=e.labels,s=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return"option ".concat(r,s?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=e.options,i=e.label,s=void 0===i?"":i,a=e.selectValue,o=e.isDisabled,l=e.isSelected,c=e.isAppleDevice,u=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&a)return"value ".concat(s," focused, ").concat(u(a,n),".");if("menu"===t&&c){var h=o?" disabled":"",d="".concat(l?" selected":"").concat(h);return"".concat(s).concat(d,", ").concat(u(r,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},DS=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,a=e.isFocused,o=e.selectValue,l=e.selectProps,c=e.id,u=e.isAppleDevice,h=l.ariaLiveMessages,d=l.getOptionLabel,f=l.inputValue,p=l.isMulti,m=l.isOptionDisabled,g=l.isSearchable,v=l.menuIsOpen,y=l.options,b=l.screenReaderStatus,w=l.tabSelectsValue,_=l.isLoading,x=l["aria-label"],S=l["aria-live"],E=(0,t.useMemo)((function(){return ww(ww({},RS),h||{})}),[h]),C=(0,t.useMemo)((function(){var e,t="";if(n&&E.onChange){var r=n.option,i=n.options,s=n.removedValue,a=n.removedValues,l=n.value,c=s||r||(e=l,Array.isArray(e)?null:e),u=c?d(c):"",h=i||a||void 0,f=h?h.map(d):[],p=ww({isDisabled:c&&m(c,o),label:u,labels:f},n);t=E.onChange(p)}return t}),[n,E,m,o,d]),k=(0,t.useMemo)((function(){var e="",t=r||i,n=!!(r&&o&&o.includes(r));if(t&&E.onFocus){var a={focused:t,label:d(t),isDisabled:m(t,o),isSelected:n,options:s,context:t===r?"menu":"value",selectValue:o,isAppleDevice:u};e=E.onFocus(a)}return e}),[r,i,d,m,E,s,o,u]),T=(0,t.useMemo)((function(){var e="";if(v&&y.length&&!_&&E.onFilter){var t=b({count:s.length});e=E.onFilter({inputValue:f,resultsMessage:t})}return e}),[s,f,v,E,y,b,_]),I="initial-input-focus"===(null===n||void 0===n?void 0:n.action),N=(0,t.useMemo)((function(){var e="";if(E.guidance){var t=i?"value":v?"menu":"input";e=E.guidance({"aria-label":x,context:t,isDisabled:r&&m(r,o),isMulti:p,isSearchable:g,tabSelectsValue:w,isInitialFocus:I})}return e}),[x,r,i,p,m,g,v,E,o,w,I]),j=rx(t.Fragment,null,rx("span",{id:"aria-selection"},C),rx("span",{id:"aria-focused"},k),rx("span",{id:"aria-results"},T),rx("span",{id:"aria-guidance"},N));return rx(t.Fragment,null,rx(AS,{id:c},I&&j),rx(AS,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!I&&j))},LS=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],MS=new RegExp("["+LS.map((function(e){return e.letters})).join("")+"]","g"),FS={},US=0;US<LS.length;US++)for(var VS=LS[US],zS=0;zS<VS.letters.length;zS++)FS[VS.letters[zS]]=VS.base;var BS=function(e){return e.replace(MS,(function(e){return FS[e]}))},HS=function(e,t){void 0===t&&(t=PS);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var s=e.apply(this,r);return n={lastResult:s,lastArgs:r,lastThis:this},s}return r.clear=function(){n=null},r}(BS),qS=function(e){return e.replace(/^\s+|\s+$/g,"")},WS=function(e){return"".concat(e.label," ").concat(e.value)},KS=["innerRef"];function GS(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Object.entries(e).filter((function(e){var t=Sw(e,1)[0];return!n.includes(t)}));return i.reduce((function(e,t){var n=Sw(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}(Ew(e,KS),"onExited","in","enter","exit","appear");return rx("input",kw({ref:t},n,{css:ix({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var $S=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};var QS=["boxSizing","height","overflow","paddingRight","position"],YS={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function XS(e){e.preventDefault()}function JS(e){e.stopPropagation()}function ZS(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function eE(){return"ontouchstart"in window||navigator.maxTouchPoints}var tE=!("undefined"===typeof window||!window.document||!window.document.createElement),nE=0,rE={capture:!1,passive:!1};var iE=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},sE={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function aE(e){var n=e.children,r=e.lockEnabled,i=e.captureEnabled,s=function(e){var n=e.isEnabled,r=e.onBottomArrive,i=e.onBottomLeave,s=e.onTopArrive,a=e.onTopLeave,o=(0,t.useRef)(!1),l=(0,t.useRef)(!1),c=(0,t.useRef)(0),u=(0,t.useRef)(null),h=(0,t.useCallback)((function(e,t){if(null!==u.current){var n=u.current,c=n.scrollTop,h=n.scrollHeight,d=n.clientHeight,f=u.current,p=t>0,m=h-d-c,g=!1;m>t&&o.current&&(i&&i(e),o.current=!1),p&&l.current&&(a&&a(e),l.current=!1),p&&t>m?(r&&!o.current&&r(e),f.scrollTop=h,g=!0,o.current=!0):!p&&-t>c&&(s&&!l.current&&s(e),f.scrollTop=0,g=!0,l.current=!0),g&&$S(e)}}),[r,i,s,a]),d=(0,t.useCallback)((function(e){h(e,e.deltaY)}),[h]),f=(0,t.useCallback)((function(e){c.current=e.changedTouches[0].clientY}),[]),p=(0,t.useCallback)((function(e){var t=c.current-e.changedTouches[0].clientY;h(e,t)}),[h]),m=(0,t.useCallback)((function(e){if(e){var t=!!Qx&&{passive:!1};e.addEventListener("wheel",d,t),e.addEventListener("touchstart",f,t),e.addEventListener("touchmove",p,t)}}),[p,f,d]),g=(0,t.useCallback)((function(e){e&&(e.removeEventListener("wheel",d,!1),e.removeEventListener("touchstart",f,!1),e.removeEventListener("touchmove",p,!1))}),[p,f,d]);return(0,t.useEffect)((function(){if(n){var e=u.current;return m(e),function(){g(e)}}}),[n,m,g]),function(e){u.current=e}}({isEnabled:void 0===i||i,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),a=function(e){var n=e.isEnabled,r=e.accountForScrollbars,i=void 0===r||r,s=(0,t.useRef)({}),a=(0,t.useRef)(null),o=(0,t.useCallback)((function(e){if(tE){var t=document.body,n=t&&t.style;if(i&&QS.forEach((function(e){var t=n&&n[e];s.current[e]=t})),i&&nE<1){var r=parseInt(s.current.paddingRight,10)||0,a=document.body?document.body.clientWidth:0,o=window.innerWidth-a+r||0;Object.keys(YS).forEach((function(e){var t=YS[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(o,"px"))}t&&eE()&&(t.addEventListener("touchmove",XS,rE),e&&(e.addEventListener("touchstart",ZS,rE),e.addEventListener("touchmove",JS,rE))),nE+=1}}),[i]),l=(0,t.useCallback)((function(e){if(tE){var t=document.body,n=t&&t.style;nE=Math.max(nE-1,0),i&&nE<1&&QS.forEach((function(e){var t=s.current[e];n&&(n[e]=t)})),t&&eE()&&(t.removeEventListener("touchmove",XS,rE),e&&(e.removeEventListener("touchstart",ZS,rE),e.removeEventListener("touchmove",JS,rE)))}}),[i]);return(0,t.useEffect)((function(){if(n){var e=a.current;return o(e),function(){l(e)}}}),[n,o,l]),function(e){a.current=e}}({isEnabled:r});return rx(t.Fragment,null,r&&rx("div",{onClick:iE,css:sE}),n((function(e){s(e),a(e)})))}var oE={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},lE=function(e){var t=e.name,n=e.onFocus;return rx("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:oE,value:"",onChange:function(){}})};function cE(e){var t;return"undefined"!==typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function uE(){return cE(/^Mac/i)}function hE(){return cE(/^iPhone/i)||cE(/^iPad/i)||uE()&&navigator.maxTouchPoints>1}var dE={clearIndicator:vS,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,r=e.isFocused,i=e.theme,s=i.colors,a=i.borderRadius;return ww({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:i.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?s.neutral5:s.neutral0,borderColor:n?s.neutral10:r?s.primary:s.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(s.primary):void 0,"&:hover":{borderColor:r?s.primary:s.neutral30}})},dropdownIndicator:gS,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,r=n.colors,i=n.spacing;return ww({label:"group",cursor:"default",display:"block"},t?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*i.baseUnit,paddingRight:3*i.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,r=e.theme,i=r.spacing.baseUnit,s=r.colors;return ww({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?s.neutral10:s.neutral20,marginBottom:2*i,marginTop:2*i})},input:function(e,t){var n=e.isDisabled,r=e.value,i=e.theme,s=i.spacing,a=i.colors;return ww(ww({visibility:n?"hidden":"visible",transform:r?"translateZ(0)":""},CS),t?{}:{margin:s.baseUnit/2,paddingBottom:s.baseUnit/2,paddingTop:s.baseUnit/2,color:a.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,r=e.size,i=e.theme,s=i.colors,a=i.spacing.baseUnit;return ww({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?s.neutral60:s.neutral20,padding:2*a})},loadingMessage:lS,menu:function(e,t){var n,r=e.placement,i=e.theme,s=i.borderRadius,a=i.spacing,o=i.colors;return ww((yw(n={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(r),"100%"),yw(n,"position","absolute"),yw(n,"width","100%"),yw(n,"zIndex",1),n),t?{}:{backgroundColor:o.neutral0,borderRadius:s,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},menuList:function(e,t){var n=e.maxHeight,r=e.theme.spacing.baseUnit;return ww({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:r,paddingTop:r})},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,r=n.spacing,i=n.borderRadius,s=n.colors;return ww({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:s.neutral10,borderRadius:i/2,margin:r.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,r=n.borderRadius,i=n.colors,s=e.cropWithEllipsis;return ww({overflow:"hidden",textOverflow:s||void 0===s?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:r/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,r=n.spacing,i=n.borderRadius,s=n.colors,a=e.isFocused;return ww({alignItems:"center",display:"flex"},t?{}:{borderRadius:i/2,backgroundColor:a?s.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}})},noOptionsMessage:oS,option:function(e,t){var n=e.isDisabled,r=e.isFocused,i=e.isSelected,s=e.theme,a=s.spacing,o=s.colors;return ww({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:i?o.primary:r?o.primary25:"transparent",color:n?o.neutral20:i?o.neutral0:"inherit",padding:"".concat(2*a.baseUnit,"px ").concat(3*a.baseUnit,"px"),":active":{backgroundColor:n?void 0:i?o.primary:o.primary50}})},placeholder:function(e,t){var n=e.theme,r=n.spacing,i=n.colors;return ww({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:i.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,r=e.theme,i=r.spacing,s=r.colors;return ww({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?s.neutral40:s.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,r=e.isMulti,i=e.hasValue,s=e.selectProps.controlShouldRenderValue;return ww({alignItems:"center",display:r&&i&&s?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}};var fE,pE={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},mE={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Wx(),captureMenuScroll:!Wx(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=ww({ignoreCase:!0,ignoreAccents:!0,stringify:WS,trim:!0,matchFrom:"any"},fE),r=n.ignoreCase,i=n.ignoreAccents,s=n.stringify,a=n.trim,o=n.matchFrom,l=a?qS(t):t,c=a?qS(s(e)):s(e);return r&&(l=l.toLowerCase(),c=c.toLowerCase()),i&&(l=HS(l),c=BS(c)),"start"===o?c.substr(0,l.length)===l:c.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(nk){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function gE(e,t,n,r){return{type:"option",data:t,isDisabled:EE(e,t,n),isSelected:CE(e,t,n),label:xE(e,t),value:SE(e,t),index:r}}function vE(e,t){return e.options.map((function(n,r){if("options"in n){var i=n.options.map((function(n,r){return gE(e,n,t,r)})).filter((function(t){return wE(e,t)}));return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=gE(e,n,t,r);return wE(e,s)?s:void 0})).filter(Yx)}function yE(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,Ow(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function bE(e,t){return e.reduce((function(e,n){return"group"===n.type?e.push.apply(e,Ow(n.options.map((function(e){return{data:e.data,id:"".concat(t,"-").concat(n.index,"-").concat(e.index)}})))):e.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),e}),[])}function wE(e,t){var n=e.inputValue,r=void 0===n?"":n,i=t.data,s=t.isSelected,a=t.label,o=t.value;return(!TE(e)||!s)&&kE(e,{label:a,value:o,data:i},r)}var _E=function(e,t){var n;return(null===(n=e.find((function(e){return e.data===t})))||void 0===n?void 0:n.id)||null},xE=function(e,t){return e.getOptionLabel(t)},SE=function(e,t){return e.getOptionValue(t)};function EE(e,t,n){return"function"===typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function CE(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"===typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=SE(e,t);return n.some((function(t){return SE(e,t)===r}))}function kE(e,t,n){return!e.filterOption||e.filterOption(t,n)}var TE=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},IE=1,NE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Iw(e,t)}(r,e);var n=function(e){var t=jw();return function(){var n,r=Nw(e);if(t){var i=Nw(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pw(this,n)}}(r);function r(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.isAppleDevice=uE()||hE(),t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,n){var r=t.props,i=r.onChange,s=r.name;n.name=s,t.ariaOnChange(e,n),i(e,n)},t.setValue=function(e,n,r){var i=t.props,s=i.closeMenuOnSelect,a=i.isMulti,o=i.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:o}),s&&(t.setState({inputIsHiddenAfterUpdate:!a}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:n,option:r})},t.selectOption=function(e){var n=t.props,r=n.blurInputOnSelect,i=n.isMulti,s=n.name,a=t.state.selectValue,o=i&&t.isOptionSelected(e,a),l=t.isOptionDisabled(e,a);if(o){var c=t.getOptionValue(e);t.setValue(a.filter((function(e){return t.getOptionValue(e)!==c})),"deselect-option",e)}else{if(l)return void t.ariaOnChange(e,{action:"select-option",option:e,name:s});i?t.setValue([].concat(Ow(a),[e]),"select-option",e):t.setValue(e,"select-option")}r&&t.blurInput()},t.removeValue=function(e){var n=t.props.isMulti,r=t.state.selectValue,i=t.getOptionValue(e),s=r.filter((function(e){return t.getOptionValue(e)!==i})),a=Xx(n,s,s[0]||null);t.onChange(a,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e=t.state.selectValue;t.onChange(Xx(t.props.isMulti,[],null),{action:"clear",removedValues:e})},t.popValue=function(){var e=t.props.isMulti,n=t.state.selectValue,r=n[n.length-1],i=n.slice(0,n.length-1),s=Xx(e,i,i[0]||null);t.onChange(s,{action:"pop-value",removedValue:r})},t.getFocusedOptionId=function(e){return _E(t.state.focusableOptionsWithIds,e)},t.getFocusableOptionsWithIds=function(){return bE(vE(t.props,t.state.selectValue),t.getElementId("option"))},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Lx.apply(void 0,[t.props.classNamePrefix].concat(n))},t.getOptionLabel=function(e){return xE(t.props,e)},t.getOptionValue=function(e){return SE(t.props,e)},t.getStyles=function(e,n){var r=t.props.unstyled,i=dE[e](n,r);i.boxSizing="border-box";var s=t.props.styles[e];return s?s(i,n):i},t.getClassNames=function(e,n){var r,i;return null===(r=(i=t.props.classNames)[e])||void 0===r?void 0:r.call(i,n)},t.getElementId=function(e){return"".concat(t.state.instancePrefix,"-").concat(e)},t.getComponents=function(){return e=t.props,ww(ww({},NS),e.components);var e},t.buildCategorizedOptions=function(){return vE(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return yE(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,n){t.setState({ariaSelection:ww({value:e},n)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var n=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():n&&t.openMenu("first"):(n&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if((!e||"mousedown"!==e.type||0===e.button)&&!t.props.isDisabled){var n=t.props,r=n.isMulti,i=n.menuIsOpen;t.focusInput(),i?(t.setState({inputIsHiddenAfterUpdate:!r}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout((function(){return t.focusInput()})))},t.onScroll=function(e){"boolean"===typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&Vx(e.target)&&t.props.onMenuClose():"function"===typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var n=e.touches,r=n&&n.item(0);r&&(t.initialTouchX=r.clientX,t.initialTouchY=r.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var n=e.touches,r=n&&n.item(0);if(r){var i=Math.abs(r.clientX-t.initialTouchX),s=Math.abs(r.clientY-t.initialTouchY);t.userIsDragging=i>5||s>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var n=t.props.inputValue,r=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(r,{action:"input-change",prevInputValue:n}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var n=t.props.inputValue;t.menuListRef&&t.menuListRef.contains(document.activeElement)?t.inputRef.focus():(t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:n}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1}))},t.onOptionHover=function(e){if(!t.blockOptionHover&&t.state.focusedOption!==e){var n=t.getFocusableOptions().indexOf(e);t.setState({focusedOption:e,focusedOptionId:n>-1?t.getFocusedOptionId(e):null})}},t.shouldHideSelectedOptions=function(){return TE(t.props)},t.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),t.focus()},t.onKeyDown=function(e){var n=t.props,r=n.isMulti,i=n.backspaceRemovesValue,s=n.escapeClearsValue,a=n.inputValue,o=n.isClearable,l=n.isDisabled,c=n.menuIsOpen,u=n.onKeyDown,h=n.tabSelectsValue,d=n.openMenuOnFocus,f=t.state,p=f.focusedOption,m=f.focusedValue,g=f.selectValue;if(!l&&("function"!==typeof u||(u(e),!e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!r||a)return;t.focusValue("previous");break;case"ArrowRight":if(!r||a)return;t.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(m)t.removeValue(m);else{if(!i)return;r?t.popValue():o&&t.clearValue()}break;case"Tab":if(t.isComposing)return;if(e.shiftKey||!c||!h||!p||d&&t.isOptionSelected(p,g))return;t.selectOption(p);break;case"Enter":if(229===e.keyCode)break;if(c){if(!p)return;if(t.isComposing)return;t.selectOption(p);break}return;case"Escape":c?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:a}),t.onMenuClose()):o&&s&&t.clearValue();break;case" ":if(a)return;if(!c){t.openMenu("first");break}if(!p)return;t.selectOption(p);break;case"ArrowUp":c?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":c?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!c)return;t.focusOption("pageup");break;case"PageDown":if(!c)return;t.focusOption("pagedown");break;case"Home":if(!c)return;t.focusOption("first");break;case"End":if(!c)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.state.instancePrefix="react-select-"+(t.props.instanceId||++IE),t.state.selectValue=Mx(e.value),e.menuIsOpen&&t.state.selectValue.length){var i=t.getFocusableOptionsWithIds(),s=t.buildFocusableOptions(),a=s.indexOf(t.state.selectValue[0]);t.state.focusableOptionsWithIds=i,t.state.focusedOption=s[a],t.state.focusedOptionId=_E(i,s[a])}return t}return function(e,t,n){t&&Tw(e.prototype,t),n&&Tw(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&qx(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,i=this.state.isFocused;(i&&!n&&e.isDisabled||i&&r&&!e.menuIsOpen)&&this.focusInput(),i&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):i||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(qx(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,i=n.isFocused,s=this.buildFocusableOptions(),a="first"===e?0:s.length-1;if(!this.props.isMulti){var o=s.indexOf(r[0]);o>-1&&(a=o)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:s[a],focusedOptionId:this.getFocusedOptionId(s[a])},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var i=n.indexOf(r);r||(i=-1);var s=n.length-1,a=-1;if(n.length){switch(e){case"previous":a=0===i?0:-1===i?s:i-1;break;case"next":i>-1&&i<s&&(a=i+1)}this.setState({inputIsHidden:-1!==a,focusedValue:n[a]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var i=0,s=r.indexOf(n);n||(s=-1),"up"===e?i=s>0?s-1:r.length-1:"down"===e?i=(s+1)%r.length:"pageup"===e?(i=s-t)<0&&(i=0):"pagedown"===e?(i=s+t)>r.length-1&&(i=r.length-1):"last"===e&&(i=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[i],focusedValue:null,focusedOptionId:this.getFocusedOptionId(r[i])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(pE):ww(ww({},pE),this.props.theme):pE}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getClassNames,i=this.getValue,s=this.selectOption,a=this.setValue,o=this.props,l=o.isMulti,c=o.isRtl,u=o.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:r,getValue:i,hasValue:this.hasValue(),isMulti:l,isRtl:c,options:u,selectOption:s,selectProps:o,setValue:a,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return EE(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return CE(this.props,e,t)}},{key:"filterOption",value:function(e,t){return kE(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"===typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,n=e.isDisabled,r=e.isSearchable,i=e.inputId,s=e.inputValue,a=e.tabIndex,o=e.form,l=e.menuIsOpen,c=e.required,u=this.getComponents().Input,h=this.state,d=h.inputIsHidden,f=h.ariaSelection,p=this.commonProps,m=i||this.getElementId("input"),g=ww(ww(ww({"aria-autocomplete":"list","aria-expanded":l,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":c,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},l&&{"aria-controls":this.getElementId("listbox")}),!r&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null===f||void 0===f?void 0:f.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return r?t.createElement(u,kw({},p,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:m,innerRef:this.getInputRef,isDisabled:n,isHidden:d,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:a,form:o,type:"text",value:s},g)):t.createElement(GS,kw({id:m,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Rx,onFocus:this.onInputFocus,disabled:n,tabIndex:a,inputMode:"none",form:o,value:""},g))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,n=this.getComponents(),r=n.MultiValue,i=n.MultiValueContainer,s=n.MultiValueLabel,a=n.MultiValueRemove,o=n.SingleValue,l=n.Placeholder,c=this.commonProps,u=this.props,h=u.controlShouldRenderValue,d=u.isDisabled,f=u.isMulti,p=u.inputValue,m=u.placeholder,g=this.state,v=g.selectValue,y=g.focusedValue,b=g.isFocused;if(!this.hasValue()||!h)return p?null:t.createElement(l,kw({},c,{key:"placeholder",isDisabled:d,isFocused:b,innerProps:{id:this.getElementId("placeholder")}}),m);if(f)return v.map((function(n,o){var l=n===y,u="".concat(e.getOptionLabel(n),"-").concat(e.getOptionValue(n));return t.createElement(r,kw({},c,{components:{Container:i,Label:s,Remove:a},isFocused:l,isDisabled:d,key:u,index:o,removeProps:{onClick:function(){return e.removeValue(n)},onTouchEnd:function(){return e.removeValue(n)},onMouseDown:function(e){e.preventDefault()}},data:n}),e.formatOptionLabel(n,"value"))}));if(p)return null;var w=v[0];return t.createElement(o,kw({},c,{data:w,isDisabled:d}),this.formatOptionLabel(w,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,n=this.commonProps,r=this.props,i=r.isDisabled,s=r.isLoading,a=this.state.isFocused;if(!this.isClearable()||!e||i||!this.hasValue()||s)return null;var o={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return t.createElement(e,kw({},n,{innerProps:o,isFocused:a}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,n=this.commonProps,r=this.props,i=r.isDisabled,s=r.isLoading,a=this.state.isFocused;if(!e||!s)return null;return t.createElement(e,kw({},n,{innerProps:{"aria-hidden":"true"},isDisabled:i,isFocused:a}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),n=e.DropdownIndicator,r=e.IndicatorSeparator;if(!n||!r)return null;var i=this.commonProps,s=this.props.isDisabled,a=this.state.isFocused;return t.createElement(r,kw({},i,{isDisabled:s,isFocused:a}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var n=this.commonProps,r=this.props.isDisabled,i=this.state.isFocused,s={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return t.createElement(e,kw({},n,{innerProps:s,isDisabled:r,isFocused:i}))}},{key:"renderMenu",value:function(){var e=this,n=this.getComponents(),r=n.Group,i=n.GroupHeading,s=n.Menu,a=n.MenuList,o=n.MenuPortal,l=n.LoadingMessage,c=n.NoOptionsMessage,u=n.Option,h=this.commonProps,d=this.state.focusedOption,f=this.props,p=f.captureMenuScroll,m=f.inputValue,g=f.isLoading,v=f.loadingMessage,y=f.minMenuHeight,b=f.maxMenuHeight,w=f.menuIsOpen,_=f.menuPlacement,x=f.menuPosition,S=f.menuPortalTarget,E=f.menuShouldBlockScroll,C=f.menuShouldScrollIntoView,k=f.noOptionsMessage,T=f.onMenuScrollToTop,I=f.onMenuScrollToBottom;if(!w)return null;var N,j=function(n,r){var i=n.type,s=n.data,a=n.isDisabled,o=n.isSelected,l=n.label,c=n.value,f=d===s,p=a?void 0:function(){return e.onOptionHover(s)},m=a?void 0:function(){return e.selectOption(s)},g="".concat(e.getElementId("option"),"-").concat(r),v={id:g,onClick:m,onMouseMove:p,onMouseOver:p,tabIndex:-1,role:"option","aria-selected":e.isAppleDevice?void 0:o};return t.createElement(u,kw({},h,{innerProps:v,data:s,isDisabled:a,isSelected:o,key:g,label:l,type:i,value:c,isFocused:f,innerRef:f?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(n.data,"menu"))};if(this.hasOptions())N=this.getCategorizedOptions().map((function(n){if("group"===n.type){var s=n.data,a=n.options,o=n.index,l="".concat(e.getElementId("group"),"-").concat(o),c="".concat(l,"-heading");return t.createElement(r,kw({},h,{key:l,data:s,options:a,Heading:i,headingProps:{id:c,data:n.data},label:e.formatGroupLabel(n.data)}),n.options.map((function(e){return j(e,"".concat(o,"-").concat(e.index))})))}if("option"===n.type)return j(n,"".concat(n.index))}));else if(g){var P=v({inputValue:m});if(null===P)return null;N=t.createElement(l,h,P)}else{var O=k({inputValue:m});if(null===O)return null;N=t.createElement(c,h,O)}var A={minMenuHeight:y,maxMenuHeight:b,menuPlacement:_,menuPosition:x,menuShouldScrollIntoView:C},R=t.createElement(iS,kw({},h,A),(function(n){var r=n.ref,i=n.placerProps,o=i.placement,l=i.maxHeight;return t.createElement(s,kw({},h,A,{innerRef:r,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:g,placement:o}),t.createElement(aE,{captureEnabled:p,onTopArrive:T,onBottomArrive:I,lockEnabled:E},(function(n){return t.createElement(a,kw({},h,{innerRef:function(t){e.getMenuListRef(t),n(t)},innerProps:{role:"listbox","aria-multiselectable":h.isMulti,id:e.getElementId("listbox")},isLoading:g,maxHeight:l,focusedOption:d}),N)})))}));return S||"fixed"===x?t.createElement(o,kw({},h,{appendTo:S,controlElement:this.controlRef,menuPlacement:_,menuPosition:x}),R):R}},{key:"renderFormField",value:function(){var e=this,n=this.props,r=n.delimiter,i=n.isDisabled,s=n.isMulti,a=n.name,o=n.required,l=this.state.selectValue;if(o&&!this.hasValue()&&!i)return t.createElement(lE,{name:a,onFocus:this.onValueInputFocus});if(a&&!i){if(s){if(r){var c=l.map((function(t){return e.getOptionValue(t)})).join(r);return t.createElement("input",{name:a,type:"hidden",value:c})}var u=l.length>0?l.map((function(n,r){return t.createElement("input",{key:"i-".concat(r),name:a,type:"hidden",value:e.getOptionValue(n)})})):t.createElement("input",{name:a,type:"hidden",value:""});return t.createElement("div",null,u)}var h=l[0]?this.getOptionValue(l[0]):"";return t.createElement("input",{name:a,type:"hidden",value:h})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,n=this.state,r=n.ariaSelection,i=n.focusedOption,s=n.focusedValue,a=n.isFocused,o=n.selectValue,l=this.getFocusableOptions();return t.createElement(DS,kw({},e,{id:this.getElementId("live-region"),ariaSelection:r,focusedOption:i,focusedValue:s,isFocused:a,selectValue:o,focusableOptions:l,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var e=this.getComponents(),n=e.Control,r=e.IndicatorsContainer,i=e.SelectContainer,s=e.ValueContainer,a=this.props,o=a.className,l=a.id,c=a.isDisabled,u=a.menuIsOpen,h=this.state.isFocused,d=this.commonProps=this.getCommonProps();return t.createElement(i,kw({},d,{className:o,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:h}),this.renderLiveRegion(),t.createElement(n,kw({},d,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:h,menuIsOpen:u}),t.createElement(s,kw({},d,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),t.createElement(r,kw({},d,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,i=t.inputIsHiddenAfterUpdate,s=t.ariaSelection,a=t.isFocused,o=t.prevWasFocused,l=t.instancePrefix,c=e.options,u=e.value,h=e.menuIsOpen,d=e.inputValue,f=e.isMulti,p=Mx(u),m={};if(n&&(u!==n.value||c!==n.options||h!==n.menuIsOpen||d!==n.inputValue)){var g=h?function(e,t){return yE(vE(e,t))}(e,p):[],v=h?bE(vE(e,p),"".concat(l,"-option")):[],y=r?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,p):null,b=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,g);m={selectValue:p,focusedOption:b,focusedOptionId:_E(v,b),focusableOptionsWithIds:v,focusedValue:y,clearFocusValueOnUpdate:!1}}var w=null!=i&&e!==n?{inputIsHidden:i,inputIsHiddenAfterUpdate:void 0}:{},_=s,x=a&&o;return a&&!x&&(_={value:Xx(f,p,p[0]||null),options:p,action:"initial-input-focus"},x=!o),"initial-input-focus"===(null===s||void 0===s?void 0:s.action)&&(_=null),ww(ww(ww({},m),w),{},{prevProps:e,ariaSelection:_,prevWasFocused:x})}}]),r}(t.Component);NE.defaultProps=mE;var jE=(0,t.forwardRef)((function(e,n){var r=function(e){var n=e.defaultInputValue,r=void 0===n?"":n,i=e.defaultMenuIsOpen,s=void 0!==i&&i,a=e.defaultValue,o=void 0===a?null:a,l=e.inputValue,c=e.menuIsOpen,u=e.onChange,h=e.onInputChange,d=e.onMenuClose,f=e.onMenuOpen,p=e.value,m=Ew(e,Cw),g=Sw((0,t.useState)(void 0!==l?l:r),2),v=g[0],y=g[1],b=Sw((0,t.useState)(void 0!==c?c:s),2),w=b[0],_=b[1],x=Sw((0,t.useState)(void 0!==p?p:o),2),S=x[0],E=x[1],C=(0,t.useCallback)((function(e,t){"function"===typeof u&&u(e,t),E(e)}),[u]),k=(0,t.useCallback)((function(e,t){var n;"function"===typeof h&&(n=h(e,t)),y(void 0!==n?n:e)}),[h]),T=(0,t.useCallback)((function(){"function"===typeof f&&f(),_(!0)}),[f]),I=(0,t.useCallback)((function(){"function"===typeof d&&d(),_(!1)}),[d]),N=void 0!==l?l:v,j=void 0!==c?c:w,P=void 0!==p?p:S;return ww(ww({},m),{},{inputValue:N,menuIsOpen:j,onChange:C,onInputChange:k,onMenuClose:I,onMenuOpen:T,value:P})}(e);return t.createElement(NE,kw({ref:n},r))})),PE=jE;const OE=yu(lg,"Stories"),AE=async e=>{try{const t=bu(lg,"Stories",e),n=await yh(t);if(n.exists()){const t={id:n.id,...n.data()},r=rh(yu(lg,"Stories/".concat(e,"/Chapters")),oh("order","asc")),i=(await wh(r)).docs.map((e=>({id:e.id,...e.data()})));return t.chapters=i,t}throw new Error("Story not found")}catch(t){throw console.error("Error fetching story: ",t),t}},RE="AddStoryPage_container__B3DBr",DE="AddStoryPage_loadingContainer__hjcl-",LE="AddStoryPage_form__i1gCE",ME="AddStoryPage_formGroup__L11oz",FE="AddStoryPage_largeTextarea__yzj2X",UE="AddStoryPage_fullWidth__UWZMS";const VE=function(){const e=X(),{currentUser:n}=pg(),[r,i]=(0,t.useState)(!1),[s,a]=(0,t.useState)(null),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(!1),[h,d]=(0,t.useState)({title:"",description:"",charactersInvolved:[],publicationDate:"",coverImageUrl:""});(0,t.useEffect)((()=>{(async()=>{try{const e=(await Gb()).map((e=>({value:e.id,label:e.fullName})));l(e)}catch(e){console.error("Error fetching characters: ",e)}})(),(async()=>{try{"admin"===(await hg(n.uid)).role?u(!0):e("/")}catch(t){console.error("Error fetching user role: ",t)}})()}),[n,e]);const f=e=>{const{name:t,value:n}=e.target;d({...h,[t]:n})};return c?(0,Re.jsxs)("div",{className:RE,children:[(0,Re.jsx)("h2",{className:"TitleText",children:"Add Story"}),r&&(0,Re.jsx)("div",{className:DE,children:(0,Re.jsx)(Rb,{color:"#020818",height:80,width:80})}),(0,Re.jsxs)("form",{className:LE,onSubmit:async t=>{t.preventDefault(),i(!0);try{let t="";s&&(t=await Mb(s,"stories/".concat(h.title))),await(async e=>{try{const{chapters:t,...n}=e,r=await Sh(OE,n);if(console.log("Story written with ID: ",r.id),t&&t.length>0){const e=yu(lg,"Stories/".concat(r.id,"/Chapters"));for(const n of t)await Sh(e,n)}return r.id}catch(t){throw console.error("Error adding story: ",t),t}})({...h,coverImageUrl:t}),e("/stories")}catch(n){console.error("Error adding story: ",n)}i(!1)},children:[(0,Re.jsxs)("div",{className:ME,children:[(0,Re.jsx)("label",{children:"Title"}),(0,Re.jsx)("input",{type:"text",name:"title",value:h.title,onChange:f,required:!0})]}),(0,Re.jsxs)("div",{className:ME,children:[(0,Re.jsx)("label",{children:"Description"}),(0,Re.jsx)("textarea",{name:"description",value:h.description,onChange:f,className:FE})]}),(0,Re.jsxs)("div",{className:ME,children:[(0,Re.jsx)("label",{children:"Characters Involved"}),(0,Re.jsx)(PE,{isMulti:!0,options:o,onChange:e=>{d({...h,charactersInvolved:e.map((e=>e.value))})},className:"selectDropdown"})]}),(0,Re.jsxs)("div",{className:ME,children:[(0,Re.jsx)("label",{children:"Publication Date"}),(0,Re.jsx)("input",{type:"date",name:"publicationDate",value:h.publicationDate,onChange:f})]}),(0,Re.jsxs)("div",{className:"".concat(ME," ").concat(UE),children:[(0,Re.jsx)("label",{children:"Cover Image"}),(0,Re.jsx)("input",{type:"file",onChange:e=>{a(e.target.files[0])}})]}),(0,Re.jsx)("div",{className:"".concat(ME," ").concat(UE),children:(0,Re.jsx)("button",{className:"btnPrimary",disabled:r,type:"submit",children:"Add Story"})})]})]}):(0,Re.jsx)("div",{children:"You do not have permission to add stories."})},zE="StoriesPage_cardsContainer__JUVBJ",BE="StoriesPage_card__ZZcoU",HE="StoriesPage_storyImage__VmCCu",qE="StoriesPage_cardContent__f3ayE";const WE=function(){const{currentUser:e}=pg(),[n,r]=(0,t.useState)([]),[i,s]=(0,t.useState)(!1),a=X();return(0,t.useEffect)((()=>{(async()=>{try{const e=await(async()=>{try{const e=rh(OE,oh("publicationDate","asc"));return(await wh(e)).docs.map((e=>({id:e.id,...e.data()})))}catch(e){throw console.error("Error fetching stories: ",e),e}})();r(e)}catch(e){console.error("Error fetching stories: ",e)}})(),(async()=>{try{"admin"===(await hg(e.uid)).role&&s(!0)}catch(t){console.error("Error fetching user role: ",t)}})()}),[e]),(0,Re.jsxs)("div",{className:"container",children:[(0,Re.jsx)("h1",{children:"Stories"}),i&&(0,Re.jsx)("button",{className:"btnPrimary",onClick:()=>a("/stories/add"),children:"Add Story"}),(0,Re.jsx)("div",{className:zE,children:n.map((e=>(0,Re.jsxs)("div",{className:BE,onClick:()=>{return t=e.id,void a("/stories/".concat(t));var t},children:[e.coverImageUrl&&(0,Re.jsx)("img",{src:e.coverImageUrl,alt:e.title,className:HE}),(0,Re.jsxs)("div",{className:qE,children:[(0,Re.jsx)("h3",{children:e.title}),(0,Re.jsx)("p",{children:e.description})]})]},e.id)))})]})},KE="ChapterPage_container__c8mbq",GE="ChapterPage_content__XlR-P",$E="ChapterPage_form__tueaI",QE="ChapterPage_formGroup__ZY-Pd",YE="ChapterPage_largeTextarea__6NRYe",XE="ChapterPage_fullWidth__M917l",JE="ChapterPage_navigationButtons__rEk1s";const ZE=function(){const{storyId:e,chapterId:n}=J(),{currentUser:r}=pg(),[i,s]=(0,t.useState)({}),[a,o]=(0,t.useState)({}),[l,c]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[d,f]=(0,t.useState)(!0),p=X();(0,t.useEffect)((()=>{(async()=>{try{const t=await(async(e,t)=>{try{const n=bu(lg,"Stories/".concat(e,"/Chapters"),t),r=await yh(n);if(r.exists())return{id:r.id,...r.data()};throw new Error("Chapter not found")}catch(n){throw console.error("Error fetching chapter: ",n),n}})(e,n),r=await AE(e);s(t),o(r),f(!1)}catch(t){console.error("Error fetching chapter or story: ",t),f(!1)}})(),(async()=>{try{"admin"===(await hg(r.uid)).role&&c(!0)}catch(e){console.error("Error fetching user role: ",e)}})()}),[e,n,r]);const m=e=>{const{name:t,value:n}=e.target;s({...i,[t]:n})},g=(()=>{if(!a.chapters)return null;const e=a.chapters.findIndex((e=>e.id===n));return window.scrollTo(0,0),e<a.chapters.length-1?a.chapters[e+1]:null})(),v=(()=>{if(!a.chapters)return null;const e=a.chapters.findIndex((e=>e.id===n));return window.scrollTo(0,0),e>0?a.chapters[e-1]:null})();return d?(0,Re.jsx)("div",{children:"Loading..."}):(0,Re.jsxs)("div",{className:KE,children:[(0,Re.jsx)("h1",{children:a.title}),u?(0,Re.jsxs)("form",{className:$E,onSubmit:async t=>{t.preventDefault();try{await(async(e,t,n)=>{try{const r=bu(lg,"Stories/".concat(e,"/Chapters"),t);await xh(r,n),console.log("Chapter updated with ID: ",t)}catch(r){throw console.error("Error updating chapter: ",r),r}})(e,n,i),h(!1)}catch(r){console.error("Error updating chapter: ",r)}},children:[(0,Re.jsxs)("div",{className:QE,children:[(0,Re.jsx)("label",{children:"Title"}),(0,Re.jsx)("input",{type:"text",name:"title",value:i.title,onChange:m,required:!0})]}),(0,Re.jsxs)("div",{className:QE,children:[(0,Re.jsx)("label",{children:"Content"}),(0,Re.jsx)("textarea",{name:"content",value:i.content,onChange:m,className:YE})]}),(0,Re.jsxs)("div",{className:XE,children:[(0,Re.jsx)("button",{className:"btnPrimary",type:"submit",children:"Save"}),(0,Re.jsx)("button",{className:"btnSecondary",type:"button",onClick:()=>{h(!1)},children:"Cancel"})]})]}):(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)("h2",{children:i.title}),(0,Re.jsx)("div",{className:GE,children:i.content.split("\n").map(((e,t)=>(0,Re.jsx)("p",{children:e},t)))})]}),l&&!u&&(0,Re.jsx)("button",{className:"btnSecondary",onClick:()=>{h(!0)},children:"Edit Chapter"}),(0,Re.jsxs)("div",{className:JE,children:[v&&(0,Re.jsx)("button",{className:"btnPrimary",onClick:()=>p("/stories/".concat(e,"/chapters/").concat(v.id)),children:"Previous Chapter"}),g&&(0,Re.jsx)("button",{className:"btnPrimary",onClick:()=>p("/stories/".concat(e,"/chapters/").concat(g.id)),children:"Next Chapter"})]})]})},eC={container:"SingleStoryPage_container__K4YA9",storyImage:"SingleStoryPage_storyImage__aIWa7",cardsContainer:"SingleStoryPage_cardsContainer__wD0ne",card:"SingleStoryPage_card__aGiTS",form:"SingleStoryPage_form__zCkTS",formGroup:"SingleStoryPage_formGroup__E8apQ"};const tC=function(){var e,n;const{storyId:r}=J(),{currentUser:i}=pg(),[s,a]=(0,t.useState)({}),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(!1),[h,d]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!0),m=X();(0,t.useEffect)((()=>{(async()=>{try{const e=await AE(r);a(e),p(!1)}catch(e){console.error("Error fetching story: ",e),p(!1)}})(),(async()=>{try{const e=(await Gb()).map((e=>({value:e.id,label:e.fullName})));l(e)}catch(e){console.error("Error fetching characters: ",e)}})(),(async()=>{try{"admin"===(await hg(i.uid)).role&&u(!0)}catch(e){console.error("Error fetching user role: ",e)}})()}),[r,i]);const g=e=>{const{name:t,value:n}=e.target;a({...s,[t]:n})};return f?(0,Re.jsx)("div",{children:"Loading..."}):(0,Re.jsxs)("div",{className:eC.container,children:[s.coverImageUrl&&(0,Re.jsx)("img",{src:s.coverImageUrl,alt:s.title,className:eC.storyImage}),h?(0,Re.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await(async(e,t)=>{try{const n=bu(lg,"Stories",e);await xh(n,t),console.log("Story updated with ID: ",e)}catch(n){throw console.error("Error updating story: ",n),n}})(r,s),d(!1)}catch(t){console.error("Error updating story: ",t)}},className:eC.form,children:[(0,Re.jsxs)("div",{className:eC.formGroup,children:[(0,Re.jsx)("label",{children:"Title"}),(0,Re.jsx)("input",{type:"text",name:"title",value:s.title,onChange:g,required:!0})]}),(0,Re.jsxs)("div",{className:eC.formGroup,children:[(0,Re.jsx)("label",{children:"Description"}),(0,Re.jsx)("textarea",{name:"description",value:s.description,onChange:g,className:eC.largeTextarea})]}),(0,Re.jsxs)("div",{className:eC.formGroup,children:[(0,Re.jsx)("label",{children:"Characters Involved"}),(0,Re.jsx)(PE,{isMulti:!0,options:o,value:o.filter((e=>{var t;return null===(t=s.charactersInvolved)||void 0===t?void 0:t.includes(e.value)})),onChange:e=>{a({...s,charactersInvolved:e.map((e=>e.value))})},className:"selectDropdown"})]}),(0,Re.jsx)("button",{className:"btnPrimary",type:"submit",children:"Save"}),(0,Re.jsx)("button",{className:"btnSecondary",type:"button",onClick:()=>{d(!1)},children:"Cancel"})]}):(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)("h1",{style:{marginBottom:"0px"},children:s.title}),(0,Re.jsx)("p",{style:{fontSize:"20px",maxWidth:"800px"},children:s.description}),(0,Re.jsx)("h2",{style:{marginBottom:"0px"},children:"Characters Involved"}),(null===(e=s.charactersInvolved)||void 0===e?void 0:e.length)>0?(0,Re.jsx)("ul",{style:{fontSize:"18px"},children:s.charactersInvolved.map((e=>{const t=o.find((t=>t.value===e));return t?(0,Re.jsx)("li",{style:{marginBottom:"5px"},children:(0,Re.jsx)(ke,{to:"/characters/".concat(e),style:{color:"black"},children:t.label})},e):null}))}):(0,Re.jsx)("p",{children:"No characters involved."})]}),(0,Re.jsx)("h2",{children:"Chapters"}),(null===(n=s.chapters)||void 0===n?void 0:n.length)>0?(0,Re.jsx)("div",{className:eC.cardsContainer,children:s.chapters.map((e=>(0,Re.jsxs)("div",{className:eC.card,onClick:()=>{return t=e.id,void m("/stories/".concat(r,"/chapters/").concat(t));var t},children:[(0,Re.jsx)("h3",{children:e.title}),(0,Re.jsxs)("p",{children:[e.content.substring(0,100),"..."]})]},e.id)))}):(0,Re.jsx)("p",{children:"No chapters available."}),c&&!h&&(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)("button",{className:"btnPrimary",onClick:()=>{m("/stories/".concat(r,"/add-chapter"))},children:"Add Chapter"}),(0,Re.jsx)("button",{className:"btnSecondary",onClick:()=>{d(!0)},children:"Edit Story"})]})]})},nC="AddChapterPage_form__dJ0Id",rC="AddChapterPage_formGroup__4htiN";const iC=function(){const e=X(),{storyId:n}=J(),{currentUser:r}=pg(),[i,s]=(0,t.useState)(!1),[a,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)({title:"",content:""});(0,t.useEffect)((()=>{(async()=>{try{"admin"===(await hg(r.uid)).role?o(!0):e("/")}catch(t){console.error("Error fetching user role: ",t)}})()}),[r,e]);const u=e=>{const{name:t,value:n}=e.target;c({...l,[t]:n})};return a?(0,Re.jsxs)("div",{className:"container",children:[(0,Re.jsx)("h2",{className:"TitleText",children:"Add Chapter"}),i&&(0,Re.jsx)("div",{className:"loadingContainer",children:(0,Re.jsx)(Rb,{color:"#020818",height:80,width:80})}),(0,Re.jsxs)("form",{className:nC,onSubmit:async t=>{t.preventDefault(),s(!0);try{await(async(e,t)=>{try{const n=yu(lg,"Stories/".concat(e,"/Chapters")),r=rh(n,oh("order","desc")),i=(await wh(r)).docs[0],s=i?i.data().order+1:1,a={...t,order:s};await Sh(n,a),console.log("Chapter added to story ID: ",e)}catch(n){throw console.error("Error adding chapter: ",n),n}})(n,l),e("/stories/".concat(n))}catch(r){console.error("Error adding chapter: ",r)}s(!1)},children:[(0,Re.jsxs)("div",{className:rC,children:[(0,Re.jsx)("label",{children:"Title"}),(0,Re.jsx)("input",{type:"text",name:"title",value:l.title,onChange:u,required:!0})]}),(0,Re.jsxs)("div",{className:rC,children:[(0,Re.jsx)("label",{children:"Content"}),(0,Re.jsx)("textarea",{name:"content",value:l.content,onChange:u,className:"largeTextarea",required:!0})]}),(0,Re.jsx)("div",{className:rC,children:(0,Re.jsx)("button",{className:"btnPrimary",disabled:i,type:"submit",children:"Add Chapter"})})]})]}):(0,Re.jsx)("div",{children:"You do not have permission to add chapters."})},sC=yu(lg,"Timeline"),aC=e=>function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=dt(e);let o={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||_u(n[l])||(o=n[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(_u(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,h,d;if(e instanceof gu)h=du(e.firestore,xu),d=ys(e._key.path),u={next:t=>{n[l]&&n[l](Ch(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=du(e,mu);h=du(t.firestore,xu),d=t._query;const r=new bh(h);u={next:e=>{n[l]&&n[l](new gh(h,r,t,e))},error:n[l+1],complete:n[l+2]},eh(e._query)}return function(e,t,n,r){const i=new Qc(r),s=new vc(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>uc(await ru(e),s))),()=>{i.$a(),e.asyncQueue.enqueueAndForget((async()=>hc(await ru(e),s)))}}(Su(h),d,c,u)}(rh(sC,oh("era","asc"),oh("year","asc")),(t=>{const n=t.docs.map((e=>({id:e.id,...e.data()})));console.log("Firestore Query Result:",n),e(t)})),oC=async e=>{const t=bu(lg,"Timeline",e);return await function(e){return Eh(du(e.firestore,xu),[new Sa(e._key,ua.none())])}(t)};var lC=n(120);const cC={loadingContainer:"TimelinePage_loadingContainer__Qkxk9","vertical-timeline":"TimelinePage_vertical-timeline__SscHI","vertical-timeline-element-content":"TimelinePage_vertical-timeline-element-content__hWbDp","vertical-timeline-element-date":"TimelinePage_vertical-timeline-element-date__qXptg","vertical-timeline--animate":"TimelinePage_vertical-timeline--animate__d0FWo"};var uC;const hC="#ddae79",dC="#020818",fC=vb(lC.VerticalTimelineElement)(uC||(uC=kg(["\n  .vertical-timeline-element-content {\n    background-color: white !important;\n    border: 2.5px solid #ddae79 !important;\n    color: black !important;\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23) !important;\n  }\n  .vertical-timeline-element-date {\n    color: black !important;\n    font-size: 22px !important;\n    margin-top: -15px !important;\n    margin-right: 30px !important;\n  }\n"]))),pC=()=>{const{currentUser:e}=pg(),[n,r]=(0,t.useState)([]),[i,s]=(0,t.useState)({title:"",content:"",era:"",year:""}),[a,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!0),[d,f]=(0,t.useState)(!1);(0,t.useEffect)((()=>{if(e){const t=async()=>{try{"admin"===(await hg(e.uid)).role&&c(!0)}catch(t){console.error("Error fetching user role: ",t)}};(async()=>{try{const e=aC((e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));console.log("Fetched Events:",t),r(t),h(!1)}));return()=>e()}catch(e){console.error("Error fetching timeline events: ",e),h(!1)}})(),t()}}),[e]);return u?(0,Re.jsx)("div",{className:cC.loadingContainer,children:(0,Re.jsx)(Rb,{color:dC,height:80,width:80})}):(0,Re.jsxs)("div",{className:"container",style:{backgroundColor:"rgb(233, 233, 233)"},children:[d&&(0,Re.jsx)("div",{className:cC.loadingContainer,children:(0,Re.jsx)(Rb,{color:dC,height:80,width:80})}),l&&!a&&(0,Re.jsxs)("form",{className:"section",onSubmit:async e=>{e.preventDefault(),f(!0);const t={...i,era:parseInt(i.era,10),year:parseInt(i.year,10)};try{await(async e=>await Sh(sC,e))(t),s({title:"",content:"",era:"",year:""})}catch(n){console.error("Error adding timeline event: ",n)}finally{f(!1)}},children:[(0,Re.jsx)("label",{htmlFor:"title",children:"Title"}),(0,Re.jsx)("input",{id:"title",type:"text",placeholder:"Title",value:i.title,onChange:e=>s({...i,title:e.target.value}),required:!0}),(0,Re.jsx)("label",{htmlFor:"content",children:"Content"}),(0,Re.jsx)("textarea",{id:"content",className:cC.textarea,placeholder:"Content",value:i.content,onChange:e=>s({...i,content:e.target.value}),required:!0}),(0,Re.jsx)("label",{htmlFor:"era",children:"Era (1-5)"}),(0,Re.jsx)("input",{id:"era",type:"number",placeholder:"Era (1-5)",value:i.era,onChange:e=>s({...i,era:e.target.value}),required:!0}),(0,Re.jsx)("label",{htmlFor:"year",children:"Year"}),(0,Re.jsx)("input",{id:"year",type:"number",placeholder:"Year",value:i.year,onChange:e=>s({...i,year:e.target.value}),required:!0}),(0,Re.jsx)("button",{className:"btnPrimary",type:"submit",disabled:d,children:"Add Event"})]}),l&&a&&(0,Re.jsxs)("form",{className:"section",onSubmit:async e=>{e.preventDefault(),f(!0);const{id:t,...n}={...a,era:parseInt(a.era,10),year:parseInt(a.year,10)};try{await(async(e,t)=>{const n=bu(lg,"Timeline",e);return await xh(n,t)})(t,n),o(null)}catch(r){console.error("Error updating timeline event: ",r)}finally{f(!1)}},children:[(0,Re.jsx)("label",{htmlFor:"title",children:"Title"}),(0,Re.jsx)("input",{id:"title",type:"text",placeholder:"Title",value:a.title,onChange:e=>o({...a,title:e.target.value}),required:!0}),(0,Re.jsx)("label",{htmlFor:"content",children:"Content"}),(0,Re.jsx)("textarea",{id:"content",className:cC.textarea,placeholder:"Content",value:a.content,onChange:e=>o({...a,content:e.target.value}),required:!0}),(0,Re.jsx)("label",{htmlFor:"era",children:"Era (1-5)"}),(0,Re.jsx)("input",{id:"era",type:"number",placeholder:"Era (1-5)",value:a.era,onChange:e=>o({...a,era:e.target.value}),required:!0}),(0,Re.jsx)("label",{htmlFor:"year",children:"Year"}),(0,Re.jsx)("input",{id:"year",type:"number",placeholder:"Year",value:a.year,onChange:e=>o({...a,year:e.target.value}),required:!0}),(0,Re.jsx)("button",{className:"btnPrimary",type:"submit",disabled:d,children:"Update Event"}),(0,Re.jsx)("button",{className:"btnSecondary",onClick:()=>o(null),disabled:d,children:"Cancel"})]}),(0,Re.jsx)(lC.VerticalTimeline,{className:"".concat(cC.verticalTimeline," vertical-timeline vertical-timeline--animate"),children:n.map((e=>{return(0,Re.jsxs)(fC,{date:"".concat((t=e.era,"".concat(t,1===t?"st Era":2===t?"nd Era":3===t?"rd Era":"th Era")),", Year ").concat(e.year),iconStyle:{background:hC,color:dC},contentArrowStyle:{borderRight:"7px solid #ddae79"},children:[(0,Re.jsx)("h1",{children:e.title}),(0,Re.jsx)("p",{style:{fontSize:"18px"},className:"preserve-whitespace",children:e.content}),l&&(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)("button",{className:"btnPrimary",onClick:()=>{o(e),window.scrollTo({top:0,behavior:"smooth"})},disabled:d,children:"Edit"}),(0,Re.jsx)("button",{className:"btnSecondary",onClick:()=>(async e=>{f(!0);try{await oC(e)}catch(t){console.error("Error deleting timeline event: ",t)}finally{f(!1)}})(e.id),disabled:d,children:"Delete"})]})]},e.id);var t}))})]})},mC=yu(lg,"Events"),gC=async e=>{try{await Sh(mC,e)}catch(t){throw console.error("Error adding event: ",t),t}},vC=async()=>{try{const e=await wh(mC);return e.docs.map((e=>({id:e.id,...e.data()})))}catch(e){throw console.error("Error getting events: ",e),e}},yC="ImportantEventsPage_container__xWhZv",bC="ImportantEventsPage_eventsContainer__lLuAH",wC="ImportantEventsPage_eventCard__ilXfE",_C="AddEventForm_container__hScaL",xC="AddEventForm_formGroup__64cVT",SC="AddEventForm_selectDropdown__GS8ut",EC="AddEventForm_btnPrimary__TlxJk",CC=yu(lg,"Locations"),kC=async()=>(await wh(CC)).docs.map((e=>({id:e.id,...e.data()}))),TC=async e=>{const t=bu(CC,e),n=await yh(t);if(n.exists())return console.log(n.data()),{id:n.id,...n.data()};throw new Error("Location not found")},IC=()=>{const[e,n]=(0,t.useState)({era:"",year:"",title:"",description:"",content:"",locations:[],eventType:"",charactersInvolved:[],significance:"",visuals:"",source:"",relatedEvents:[],status:"",notes:""}),[r,i]=(0,t.useState)([]),[s,a]=(0,t.useState)([]),[o,l]=(0,t.useState)([]);(0,t.useEffect)((()=>{(async()=>{try{const e=await Gb(),t=await kC(),n=await vC(),r=e.map((e=>({value:e.id,label:e.fullName}))),s=t.map((e=>({value:e.id,label:e.name}))),o=n.map((e=>({value:e.id,label:e.title})));i(r),a(s),l(o)}catch(e){console.error("Error fetching options: ",e)}})()}),[]);const c=t=>{const{name:r,value:i}=t.target;n({...e,[r]:i})};return(0,Re.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),await gC(e),n({era:"",year:"",title:"",description:"",content:"",locations:[],eventType:"",charactersInvolved:[],significance:"",visuals:"",source:"",relatedEvents:[],status:"",notes:""})},className:_C,children:[(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Era"}),(0,Re.jsx)("input",{type:"number",name:"era",placeholder:"Era (1-5)",value:e.era,onChange:c,required:!0})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Year"}),(0,Re.jsx)("input",{type:"number",name:"year",placeholder:"Year",value:e.year,onChange:c,required:!0})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Title"}),(0,Re.jsx)("input",{type:"text",name:"title",placeholder:"Title",value:e.title,onChange:c,required:!0})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Description"}),(0,Re.jsx)("textarea",{name:"description",placeholder:"Description",value:e.description,onChange:c,required:!0})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Content"}),(0,Re.jsx)("textarea",{name:"content",placeholder:"Content",value:e.content,onChange:c,required:!0})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Locations"}),(0,Re.jsx)(PE,{isMulti:!0,options:s,value:s.filter((t=>{var n;return null===(n=e.locations)||void 0===n?void 0:n.includes(t.value)})),onChange:t=>{n({...e,locations:t.map((e=>e.value))})},className:SC})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Event Type"}),(0,Re.jsx)("input",{type:"text",name:"eventType",placeholder:"Event Type",value:e.eventType,onChange:c,required:!0})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Characters Involved"}),(0,Re.jsx)(PE,{isMulti:!0,options:r,value:r.filter((t=>{var n;return null===(n=e.charactersInvolved)||void 0===n?void 0:n.includes(t.value)})),onChange:t=>{n({...e,charactersInvolved:t.map((e=>e.value))})},className:SC})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Significance"}),(0,Re.jsx)("input",{type:"text",name:"significance",placeholder:"Significance",value:e.significance,onChange:c})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Visuals"}),(0,Re.jsx)("input",{type:"text",name:"visuals",placeholder:"Visuals",value:e.visuals,onChange:c})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Source"}),(0,Re.jsx)("input",{type:"text",name:"source",placeholder:"Source",value:e.source,onChange:c})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Related Events"}),(0,Re.jsx)(PE,{isMulti:!0,options:o,value:o.filter((t=>{var n;return null===(n=e.relatedEvents)||void 0===n?void 0:n.includes(t.value)})),onChange:t=>{n({...e,relatedEvents:t.map((e=>e.value))})},className:SC})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Status"}),(0,Re.jsx)("input",{type:"text",name:"status",placeholder:"Status",value:e.status,onChange:c})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Notes"}),(0,Re.jsx)("textarea",{name:"notes",placeholder:"Notes",value:e.notes,onChange:c})]}),(0,Re.jsx)("button",{type:"submit",className:EC,children:"Add Event"})]})},NC=()=>{const{currentUser:e}=pg(),[n,r]=(0,t.useState)(!1),[i,s]=(0,t.useState)([]),a=X(),[o,l]=(0,t.useState)(!1);(0,t.useEffect)((()=>{e&&(async()=>{try{"admin"===(await hg(e.uid)).role&&r(!0)}catch(t){console.error("Error fetching user role: ",t)}})()}),[e]),(0,t.useEffect)((()=>{(async()=>{try{const e=await vC();s(e)}catch(e){console.error("Error fetching events: ",e)}})()}),[]);return(0,Re.jsxs)("div",{className:yC,children:[(0,Re.jsx)("h1",{children:"Important Events"}),n&&(o?(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)("button",{className:"btnPrimary",onClick:()=>l(!1),children:"Cancel"}),(0,Re.jsx)(IC,{onSubmit:async e=>{try{const t=await gC(e);s([...i,t]),l(!1)}catch(t){console.error("Error adding event:",t)}}})]}):(0,Re.jsx)("button",{className:"btnPrimary",onClick:()=>l(!0),children:"Add Event"})),(0,Re.jsx)("div",{className:bC,children:i.map((e=>(0,Re.jsxs)("div",{className:wC,onClick:()=>{return t=e.id,void a("/important-events/".concat(t));var t},children:[(0,Re.jsx)("h3",{children:e.title}),(0,Re.jsxs)("p",{children:[(0,Re.jsx)("strong",{children:"Description:"})," ",e.description]})]},e.id)))})]})},jC=()=>{const[e,n]=(0,t.useState)({name:"",description:"",type:"",coordinates:"",region:"",climate:"",population:"",significance:"",pointsOfInterest:"",economy:"",language:"",government:"",history:"",mapImageUrl:"",resources:"",floraAndFauna:"",events:"",accessibility:"",threats:"",allies:"",enemies:"",notableResidents:"",culturalPractices:"",religion:""}),r=t=>{const{name:r,value:i}=t.target;n({...e,[r]:i})};return(0,Re.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),await(async e=>await Sh(CC,e))(e),n({name:"",description:"",type:"",coordinates:"",region:"",climate:"",population:"",significance:"",pointsOfInterest:"",economy:"",language:"",government:"",history:"",mapImageUrl:"",resources:"",floraAndFauna:"",events:"",accessibility:"",threats:"",allies:"",enemies:"",notableResidents:"",culturalPractices:"",religion:""})},className:_C,children:[(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Name"}),(0,Re.jsx)("input",{type:"text",name:"name",placeholder:"Name",value:e.name,onChange:r,required:!0})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Description"}),(0,Re.jsx)("textarea",{name:"description",placeholder:"Description",value:e.description,onChange:r,required:!0})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Type"}),(0,Re.jsx)("input",{type:"text",name:"type",placeholder:"Location Type",value:e.type,onChange:r,required:!0})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Coordinates (If a country, add N/A)"}),(0,Re.jsx)("input",{type:"text",name:"coordinates",placeholder:"Coordinates",value:e.coordinates,onChange:r})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Region"}),(0,Re.jsx)("input",{type:"text",name:"region",placeholder:"Region",value:e.region,onChange:r})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Climate"}),(0,Re.jsx)("input",{type:"text",name:"climate",placeholder:"Climate",value:e.climate,onChange:r})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Population"}),(0,Re.jsx)("input",{type:"text",name:"population",placeholder:"Population",value:e.population,onChange:r})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Significance"}),(0,Re.jsx)("input",{type:"text",name:"significance",placeholder:"Significance",value:e.significance,onChange:r})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Points of Interest"}),(0,Re.jsx)("textarea",{name:"pointsOfInterest",placeholder:"Points of Interest",value:e.pointsOfInterest,onChange:r})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Economy"}),(0,Re.jsx)("input",{type:"text",name:"economy",placeholder:"Economy",value:e.economy,onChange:r})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Language"}),(0,Re.jsx)("input",{type:"text",name:"language",placeholder:"Language",value:e.language,onChange:r})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Government"}),(0,Re.jsx)("input",{type:"text",name:"government",placeholder:"Government",value:e.government,onChange:r})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"History"}),(0,Re.jsx)("textarea",{name:"history",placeholder:"History",value:e.history,onChange:r})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Map Image URL (If no map available, add N/A)"}),(0,Re.jsx)("input",{type:"text",name:"mapImageUrl",placeholder:"Map Image URL",value:e.mapImageUrl,onChange:r})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Resources"}),(0,Re.jsx)("textarea",{name:"resources",placeholder:"Resources",value:e.resources,onChange:r})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Flora and Fauna"}),(0,Re.jsx)("textarea",{name:"floraAndFauna",placeholder:"Flora and Fauna",value:e.floraAndFauna,onChange:r})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Events"}),(0,Re.jsx)("textarea",{name:"events",placeholder:"Events",value:e.events,onChange:r})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Accessibility"}),(0,Re.jsx)("input",{type:"text",name:"accessibility",placeholder:"Accessibility",value:e.accessibility,onChange:r})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Threats"}),(0,Re.jsx)("input",{type:"text",name:"threats",placeholder:"Threats",value:e.threats,onChange:r})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Allies"}),(0,Re.jsx)("input",{type:"text",name:"allies",placeholder:"Allies",value:e.allies,onChange:r})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Enemies"}),(0,Re.jsx)("input",{type:"text",name:"enemies",placeholder:"Enemies",value:e.enemies,onChange:r})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Notable Residents"}),(0,Re.jsx)("textarea",{name:"notableResidents",placeholder:"Notable Residents",value:e.notableResidents,onChange:r})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Cultural Practices"}),(0,Re.jsx)("textarea",{name:"culturalPractices",placeholder:"Cultural Practices",value:e.culturalPractices,onChange:r})]}),(0,Re.jsxs)("div",{className:xC,children:[(0,Re.jsx)("label",{children:"Religion"}),(0,Re.jsx)("input",{type:"text",name:"religion",placeholder:"Religion",value:e.religion,onChange:r})]}),(0,Re.jsx)("button",{type:"submit",className:EC,children:"Add Location"})]})},PC="LocationsPage_cardsContainer__ZSnAA",OC="LocationsPage_card__f-FbO";const AC=function(){const{currentUser:e}=pg(),[n,r]=(0,t.useState)(!1),[i,s]=(0,t.useState)(!1),[a,o]=(0,t.useState)([]),l=X();return(0,t.useEffect)((()=>{(async()=>{if(e)try{"admin"===(await hg(e.uid)).role&&r(!0)}catch(t){console.error("Error fetching user role: ",t)}})()}),[e]),(0,t.useEffect)((()=>{(async()=>{try{const e=await kC();o(e)}catch(e){console.error("Error fetching locations: ",e)}})()}),[]),(0,Re.jsxs)("div",{className:"container",children:[n&&(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)("button",{className:"btnPrimary",onClick:()=>s(!i),children:i?"Cancel":"Add Location"}),i&&(0,Re.jsx)(jC,{})]}),(0,Re.jsx)("div",{className:PC,children:a.map((e=>(0,Re.jsxs)("div",{style:{cursor:"pointer"},className:OC,onClick:()=>{return t=e.id,void l("/locations/".concat(t));var t},children:[(0,Re.jsx)("h3",{children:e.name}),(0,Re.jsx)("p",{children:e.description})]},e.id)))})]})},RC={formContainer:"SingleLocationPage_formContainer__fd7xv",detailsContainer:"SingleLocationPage_detailsContainer__UFz5S"};const DC=function(){const{currentUser:e}=pg(),{locationId:n}=J(),[r,i]=(0,t.useState)(!1),[s,a]=(0,t.useState)({name:"",description:"",type:"",coordinates:"",region:"",climate:"",population:"",significance:"",pointsOfInterest:"",economy:"",language:"",government:"",history:"",mapImageUrl:"",resources:"",floraAndFauna:"",events:"",accessibility:"",threats:"",allies:"",enemies:"",notableResidents:"",culturalPractices:"",religion:""}),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!0);(0,t.useEffect)((()=>{(async()=>{if(e)try{"admin"===(await hg(e.uid)).role&&i(!0)}catch(t){console.error("Error fetching user role: ",t)}})()}),[e]),(0,t.useEffect)((()=>{(async()=>{try{const e=await TC(n);a(e),u(!1)}catch(e){console.error("Error fetching location: ",e),u(!1)}})()}),[n]);const h=e=>{const{name:t,value:n}=e.target;a({...s,[t]:n})},d=["name","description","type","coordinates","region","climate","population","significance","pointsOfInterest","economy","language","government","history","mapImageUrl","resources","floraAndFauna","events","accessibility","threats","allies","enemies","notableResidents","culturalPractices","religion"];return c?(0,Re.jsx)("div",{children:"Loading..."}):(0,Re.jsx)("div",{className:"container",children:o?(0,Re.jsxs)("div",{className:RC.formContainer,children:[d.filter((e=>"id"!==e)).map((e=>"description"===e||"history"===e||"pointsOfInterest"===e||"floraAndFauna"===e||"culturalPractices"===e?(0,Re.jsxs)("div",{className:RC.formGroup,children:[(0,Re.jsx)("label",{htmlFor:e,children:e.charAt(0).toUpperCase()+e.slice(1)}),(0,Re.jsx)("textarea",{name:e,value:s[e],onChange:h,placeholder:e.charAt(0).toUpperCase()+e.slice(1)})]},e):(0,Re.jsxs)("div",{className:RC.formGroup,children:[(0,Re.jsx)("label",{htmlFor:e,children:e.charAt(0).toUpperCase()+e.slice(1)}),(0,Re.jsx)("input",{type:"text",name:e,value:s[e],onChange:h,placeholder:e.charAt(0).toUpperCase()+e.slice(1)})]},e))),(0,Re.jsx)("button",{style:{alignSelf:"center"},className:"btnPrimary",onClick:async()=>{try{await(async(e,t)=>{const n=bu(lg,"Locations",e);return await xh(n,t)})(n,s),l(!1)}catch(e){console.error("Error updating location:",e)}},children:"Save"}),(0,Re.jsx)("button",{className:"btnSecondary",onClick:()=>l(!1),children:"Cancel"})]}):(0,Re.jsxs)("div",{className:RC.detailsContainer,children:[(0,Re.jsx)("h3",{children:s.name}),d.filter((e=>"id"!==e)).map((e=>(0,Re.jsxs)("p",{children:[(0,Re.jsxs)("strong",{children:[e.charAt(0).toUpperCase()+e.slice(1),":"]})," ",s[e]]},e))),r&&(0,Re.jsx)("button",{className:"btnPrimary",onClick:()=>{l(!0),window.scrollTo({top:0,behavior:"smooth"})},children:"Edit"})]})})},LC={container:"SingleEventPage_container__15BhB",detailsContainer:"SingleEventPage_detailsContainer__1uutZ",eventInfo:"SingleEventPage_eventInfo__NY3JM",formContainer:"SingleEventPage_formContainer__XJg1a",formGroup:"SingleEventPage_formGroup__QAs1u",buttonContainer:"SingleEventPage_buttonContainer__1Kob4",btnPrimary:"SingleEventPage_btnPrimary__GRbEL",btnSecondary:"SingleEventPage_btnSecondary__sLZE2"};const MC=function(){const{currentUser:e}=pg(),{eventId:n}=J(),[r,i]=(0,t.useState)(!1),[s,a]=(0,t.useState)({}),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(!1),[h,d]=(0,t.useState)(!0),[f,p]=(0,t.useState)([]),[m,g]=(0,t.useState)([]),[v,y]=(0,t.useState)([]);(0,t.useEffect)((()=>{(async()=>{if(e)try{"admin"===(await hg(e.uid)).role&&i(!0)}catch(t){console.error("Error fetching user role: ",t)}})()}),[e]),(0,t.useEffect)((()=>{(async()=>{try{const e=await(async e=>{try{const t=await yh(bu(mC,e));if(t.exists())return{id:t.id,...t.data()};throw new Error("Event not found")}catch(t){throw console.error("Error getting event: ",t),t}})(n);a(e),d(!1);const t=await Promise.all(e.locations.map((e=>TC(e))));l(t)}catch(e){console.error("Error fetching event: ",e),d(!1)}})()}),[n]),(0,t.useEffect)((()=>{(async()=>{try{const e=await Gb(),t=await kC(),r=await vC(),i=e.map((e=>({value:e.id,label:e.fullName}))),s=t.map((e=>({value:e.id,label:e.name}))),a=r.filter((e=>e.id!==n)).map((e=>({value:e.id,label:e.title})));p(i),g(s),y(a)}catch(e){console.error("Error fetching options: ",e)}})()}),[n]);const b=e=>{const{name:t,value:n}=e.target;a({...s,[t]:n})};return h?(0,Re.jsx)("div",{children:"Loading..."}):(0,Re.jsx)("div",{className:"container",children:c?(0,Re.jsxs)("div",{className:"".concat(LC.formContainer," ").concat(LC.centered),children:[(0,Re.jsxs)("div",{className:LC.formGroup,children:[(0,Re.jsx)("label",{children:"Title"}),(0,Re.jsx)("input",{type:"text",name:"title",value:s.title,onChange:b})]}),(0,Re.jsxs)("div",{className:LC.formGroup,children:[(0,Re.jsx)("label",{children:"Era"}),(0,Re.jsx)("input",{type:"number",name:"era",value:s.era,onChange:b})]}),(0,Re.jsxs)("div",{className:LC.formGroup,children:[(0,Re.jsx)("label",{children:"Year"}),(0,Re.jsx)("input",{type:"number",name:"year",value:s.year,onChange:b})]}),(0,Re.jsxs)("div",{className:LC.formGroup,children:[(0,Re.jsx)("label",{children:"Description"}),(0,Re.jsx)("textarea",{name:"description",value:s.description,onChange:b})]}),(0,Re.jsxs)("div",{className:LC.formGroup,children:[(0,Re.jsx)("label",{children:"Location"}),(0,Re.jsx)(PE,{isMulti:!0,options:m,value:m.filter((e=>{var t;return null===(t=s.locations)||void 0===t?void 0:t.includes(e.value)})),onChange:e=>{a({...s,locations:e?e.map((e=>e.value)):[]})},className:LC.selectDropdown})]}),(0,Re.jsxs)("div",{className:LC.formGroup,children:[(0,Re.jsx)("label",{children:"Characters Involved"}),(0,Re.jsx)(PE,{isMulti:!0,options:f,value:f.filter((e=>{var t;return null===(t=s.charactersInvolved)||void 0===t?void 0:t.includes(e.value)})),onChange:e=>{a({...s,charactersInvolved:e?e.map((e=>e.value)):[]})},className:LC.selectDropdown})]}),(0,Re.jsxs)("div",{className:LC.formGroup,children:[(0,Re.jsx)("label",{children:"Related Events"}),(0,Re.jsx)(PE,{isMulti:!0,options:v,value:v.filter((e=>{var t;return null===(t=s.relatedEvents)||void 0===t?void 0:t.includes(e.value)})),onChange:e=>{a({...s,relatedEvents:e?e.map((e=>e.value)):[]})},className:LC.selectDropdown})]}),(0,Re.jsxs)("div",{className:LC.formGroup,children:[(0,Re.jsx)("label",{children:"Event Type"}),(0,Re.jsx)("input",{type:"text",name:"eventType",value:s.eventType,onChange:b})]}),(0,Re.jsxs)("div",{className:LC.formGroup,children:[(0,Re.jsx)("label",{children:"Content"}),(0,Re.jsx)("textarea",{name:"content",value:s.content,onChange:b})]}),(0,Re.jsxs)("div",{className:LC.formGroup,children:[(0,Re.jsx)("label",{children:"Significance"}),(0,Re.jsx)("input",{type:"text",name:"significance",value:s.significance,onChange:b})]}),(0,Re.jsxs)("div",{className:LC.formGroup,children:[(0,Re.jsx)("label",{children:"Visuals"}),(0,Re.jsx)("input",{type:"text",name:"visuals",value:s.visuals,onChange:b})]}),(0,Re.jsxs)("div",{className:LC.formGroup,children:[(0,Re.jsx)("label",{children:"Source"}),(0,Re.jsx)("input",{type:"text",name:"source",value:s.source,onChange:b})]}),(0,Re.jsxs)("div",{className:LC.formGroup,children:[(0,Re.jsx)("label",{children:"Status"}),(0,Re.jsx)("input",{type:"text",name:"status",value:s.status,onChange:b})]}),(0,Re.jsxs)("div",{className:LC.formGroup,children:[(0,Re.jsx)("label",{children:"Notes"}),(0,Re.jsx)("textarea",{name:"notes",value:s.notes,onChange:b})]}),(0,Re.jsxs)("div",{className:LC.buttonContainer,children:[(0,Re.jsx)("button",{className:"btnPrimary",onClick:async()=>{try{await(async(e,t)=>{try{const n=bu(mC,e);await xh(n,t)}catch(n){throw console.error("Error updating event: ",n),n}})(n,s),u(!1)}catch(e){console.error("Error updating event:",e)}},children:"Save"}),(0,Re.jsx)("button",{className:"btnSecondary",onClick:()=>u(!1),children:"Cancel"})]})]}):(0,Re.jsxs)("div",{className:LC.detailsContainer,children:[(0,Re.jsxs)("div",{className:LC.eventInfo,children:[(0,Re.jsx)("h1",{children:s.title}),(0,Re.jsxs)("p",{children:[(0,Re.jsx)("strong",{children:"Era:"})," ",s.era]}),(0,Re.jsxs)("p",{children:[(0,Re.jsx)("strong",{children:"Year:"})," ",s.year]}),(0,Re.jsxs)("p",{children:[(0,Re.jsx)("strong",{children:"Description:"})," ",s.description]}),(0,Re.jsxs)("p",{children:[(0,Re.jsx)("strong",{children:"Locations:"})," ",o.map((e=>e.name)).join(", ")]}),(0,Re.jsxs)("p",{children:[(0,Re.jsx)("strong",{children:"Event Type:"})," ",s.eventType]}),(0,Re.jsxs)("p",{children:[(0,Re.jsx)("strong",{children:"Content:"})," ",s.content]}),(0,Re.jsxs)("p",{children:[(0,Re.jsx)("strong",{children:"Significance:"})," ",s.significance]}),(0,Re.jsxs)("p",{children:[(0,Re.jsx)("strong",{children:"Visuals:"})," ",s.visuals]}),(0,Re.jsxs)("p",{children:[(0,Re.jsx)("strong",{children:"Source:"})," ",s.source]}),(0,Re.jsxs)("p",{children:[(0,Re.jsx)("strong",{children:"Status:"})," ",s.status]}),(0,Re.jsxs)("p",{children:[(0,Re.jsx)("strong",{children:"Notes:"})," ",s.notes]})]}),r&&(0,Re.jsx)("div",{className:LC.buttonContainer,children:(0,Re.jsx)("button",{className:"btnPrimary",onClick:()=>u(!0),children:"Edit"})})]})})},FC="MagicPage_container__cjOfA",UC="MagicPage_section__sqXp-";const VC=function(){const e=X(),t=t=>{e(t)};return(0,Re.jsxs)("div",{className:FC,children:[(0,Re.jsxs)("div",{className:UC,children:[(0,Re.jsx)("h1",{children:"What Is Magic?"}),(0,Re.jsx)("p",{children:"Magic is a force that encompasses various supernatural and mystical energies that can be harnessed and manipulated by those who possess the knowledge and skill. It defies the conventional laws of nature and allows for extraordinary phenomena."})]}),(0,Re.jsxs)("div",{className:UC,children:[(0,Re.jsx)("h2",{children:"The History Of Magic"}),(0,Re.jsx)("p",{children:"Magic has a rich and complex history, dating back to ancient times. It has evolved through different cultures and civilizations, each adding their unique practices and beliefs to the collective understanding of magic."})]}),(0,Re.jsxs)("div",{className:UC,children:[(0,Re.jsx)("h1",{children:"Schools Of Magic"}),(0,Re.jsx)("button",{onClick:()=>t("/magic/schools"),className:"btnPrimary",children:"View Schools"})]}),(0,Re.jsxs)("div",{className:UC,children:[(0,Re.jsx)("h1",{children:"Magic Users"}),(0,Re.jsx)("button",{onClick:()=>t("/magic/classes"),className:"btnPrimary",children:"View Classes"})]}),(0,Re.jsx)("div",{className:UC,children:(0,Re.jsx)("h2",{children:"Famous Magic Users"})}),(0,Re.jsx)("div",{className:UC,children:(0,Re.jsx)("h2",{children:"Organizations"})}),(0,Re.jsxs)("div",{className:UC,children:[(0,Re.jsx)("h1",{children:"Learning Or Casting Magic"}),(0,Re.jsx)("h2",{children:"Training"}),(0,Re.jsx)("p",{children:"How do people learn magic? What are the consequences of self study?"}),(0,Re.jsx)("h2",{children:"Casting"}),(0,Re.jsx)("p",{children:"How are spells cast?"}),(0,Re.jsx)("h2",{children:"Spellcasting Aids"}),(0,Re.jsx)("p",{children:"Grimoires, staves, wands, etc."})]}),(0,Re.jsxs)("div",{className:UC,children:[(0,Re.jsx)("h1",{children:"Magic and Society"}),(0,Re.jsx)("h2",{children:"How is it perceived? Regulated?"}),(0,Re.jsx)("p",{children:"Magic is perceived with a mixture of awe and caution. Its regulation varies across different regions, with some areas embracing it fully and others imposing strict controls."}),(0,Re.jsx)("h2",{children:"Laws and Regulations"}),(0,Re.jsx)("p",{children:"Legal aspects of magic include forbidden practices and magical laws that ensure the responsible use of magical abilities."}),(0,Re.jsx)("h2",{children:"Economic Impact"}),(0,Re.jsx)("p",{children:"Magic plays a significant role in trade, commerce, and industry, providing unique solutions and innovations that drive economic growth."})]}),(0,Re.jsxs)("div",{className:UC,children:[(0,Re.jsx)("h1",{children:"Magical Creatures and Entities"}),(0,Re.jsx)("h2",{children:"Mythical Beasts"}),(0,Re.jsx)("p",{children:"Dragons, phoenixes, unicorns, and other mythical creatures are integral to the magical ecosystem, each possessing unique abilities and significance."}),(0,Re.jsx)("h2",{children:"Spirits and Elementals"}),(0,Re.jsx)("p",{children:"Nature spirits and elemental beings embody the primal forces of the world, often acting as guardians or guides."}),(0,Re.jsx)("h2",{children:"Demons and Angels"}),(0,Re.jsx)("p",{children:"Supernatural beings with magical powers, demons and angels play critical roles in the cosmic balance of good and evil."})]}),(0,Re.jsxs)("div",{className:UC,children:[(0,Re.jsx)("h1",{children:"Artifacts and Enchantments"}),(0,Re.jsx)("h2",{children:"Artifacts"}),(0,Re.jsx)("p",{children:"Legendary items of great power and historical significance, artifacts are often sought after for their extraordinary capabilities."}),(0,Re.jsx)("h2",{children:"Enchantments"}),(0,Re.jsx)("p",{children:"Common and powerful enchantments are used to imbue objects with magical properties, enhancing their functionality and value."})]}),(0,Re.jsxs)("div",{className:UC,children:[(0,Re.jsx)("h1",{children:"Magic and Technology"}),(0,Re.jsx)("h2",{children:"Magitech"}),(0,Re.jsx)("p",{children:"Magitech represents the integration of magic with technology, leading to advanced innovations that blend the best of both worlds."}),(0,Re.jsx)("h2",{children:"Innovations"}),(0,Re.jsx)("p",{children:"Magical advancements have far-reaching impacts on society, from everyday conveniences to groundbreaking discoveries."})]}),(0,Re.jsxs)("div",{className:UC,children:[(0,Re.jsx)("h1",{children:"Mysteries and Unexplained Phenomena"}),(0,Re.jsx)("h2",{children:"Ancient Ruins"}),(0,Re.jsx)("p",{children:"Ancient ruins are places of forgotten magic and lost civilizations, holding secrets waiting to be uncovered."}),(0,Re.jsx)("h2",{children:"Unsolved Mysteries"}),(0,Re.jsx)("p",{children:"Events or phenomena that defy magical understanding continue to intrigue and challenge scholars and adventurers alike."})]}),(0,Re.jsxs)("div",{className:UC,children:[(0,Re.jsx)("h1",{children:"Dangers and Risks of Magic"}),(0,Re.jsx)("h2",{children:"Overuse and Addiction"}),(0,Re.jsx)("p",{children:"The potential dangers of excessive magic use include physical and mental strain, leading to addiction and dependency."}),(0,Re.jsx)("h2",{children:"Corruption and Backlash"}),(0,Re.jsx)("p",{children:"Dark magic and irresponsible use can lead to corruption and dangerous backlashes, affecting both the caster and their surroundings."}),(0,Re.jsx)("h2",{children:"Magical Diseases and Curses"}),(0,Re.jsx)("p",{children:"Illnesses and afflictions caused by magic can be devastating, often requiring powerful remedies or cures."})]})]})};const zC=function(){return(0,Re.jsx)("div",{children:"MapsPage"})};const BC=function(){return(0,Re.jsx)("div",{children:"BestiaryPage"})},HC={container:"SchoolsPage_container__R8oh3",section:"SchoolsPage_section__zEtFA",buttonContainer:"SchoolsPage_buttonContainer__BfXYk",subschoolButtonContainer:"SchoolsPage_subschoolButtonContainer__ZOXVv",subschoolInputsContainer:"SchoolsPage_subschoolInputsContainer__3E+p-",subschoolsContainer:"SchoolsPage_subschoolsContainer__h6bpK",subschoolCard:"SchoolsPage_subschoolCard__kjsCS"},qC=bu(lg,"Magic","main"),WC=yu(qC,"Schools"),KC=yu(qC,"Classes"),GC=async()=>{try{const e=await wh(WC),t=[];return e.forEach((e=>{t.push({id:e.id,...e.data()})})),t}catch(e){throw console.error("Error getting documents: ",e),e}},$C=async(e,t)=>{try{const n=bu(WC,e);await xh(n,t),console.log("Document updated with ID: ",n.id)}catch(n){throw console.error("Error updating document: ",n),n}},QC=async()=>{try{const e=await wh(KC),t=[];return e.forEach((e=>{t.push({id:e.id,...e.data()})})),t}catch(e){throw console.error("Error getting documents: ",e),e}};const YC=function(){const{currentUser:e}=pg(),[n,r]=(0,t.useState)(!1),[i,s]=(0,t.useState)(!1),[a,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(!1),[u,h]=(0,t.useState)([]),[d,f]=(0,t.useState)({name:"",description:"",practitionerTitle:"",notes:"",subschools:[]}),[p,m]=(0,t.useState)({name:"",description:"",practitionerTitle:"",notes:""}),g=X();(0,t.useEffect)((()=>{(async()=>{try{"admin"===(await hg(e.uid)).role&&r(!0)}catch(t){console.error("Error fetching user role: ",t)}})(),(async()=>{try{const e=await GC();h(e)}catch(e){console.error("Error fetching schools: ",e)}})()}),[e]);const v=e=>{const{name:t,value:n}=e.target;f((e=>({...e,[t]:n})))},y=e=>{const{name:t,value:n}=e.target;m((e=>({...e,[t]:n})))};return(0,Re.jsxs)("div",{className:HC.container,children:[(0,Re.jsx)("h1",{children:"Schools Of Magic"}),n?(0,Re.jsx)(Re.Fragment,{children:l?(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("div",{className:HC.subschoolInputsContainer,children:[(0,Re.jsx)("input",{type:"text",name:"name",placeholder:"School Name",value:d.name,onChange:v,className:HC.subschoolInput}),(0,Re.jsx)("textarea",{type:"text",name:"description",placeholder:"Description",value:d.description,onChange:v,className:HC.subschoolInput}),(0,Re.jsx)("input",{type:"text",name:"practitionerTitle",placeholder:"Practitioner Title",value:d.practitionerTitle,onChange:v,className:HC.subschoolInput}),(0,Re.jsx)("textarea",{type:"text",name:"notes",placeholder:"Notes",value:d.notes,onChange:v,className:HC.subschoolInput})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h2",{children:"Add Subschool"}),(0,Re.jsxs)("div",{className:HC.subschoolInputsContainer,children:[(0,Re.jsx)("input",{type:"text",name:"name",placeholder:"Subschool Name",value:p.name,onChange:y}),(0,Re.jsx)("textarea",{type:"text",name:"description",placeholder:"Subschool Description",value:p.description,onChange:y}),(0,Re.jsx)("input",{type:"text",name:"practitionerTitle",placeholder:"Subschool Practitioner Title",value:p.practitionerTitle,onChange:y}),(0,Re.jsx)("textarea",{type:"text",name:"notes",placeholder:"Subschool Notes",value:p.notes,onChange:y})]}),(0,Re.jsx)("div",{className:HC.subschoolButtonContainer,children:(0,Re.jsx)("button",{onClick:()=>{p.name&&p.description&&p.practitionerTitle?(f((e=>({...e,subschools:[...e.subschools,p]}))),m({name:"",description:"",practitionerTitle:"",notes:""})):alert("Please complete all subschool fields before adding another.")},className:"btnSecondary",style:{textDecorationLine:"underline",marginRight:"0px"},children:"Add Subschool"})})]}),(0,Re.jsxs)("div",{className:HC.buttonContainer,children:[(0,Re.jsx)("button",{onClick:async()=>{try{i?(await $C(a,d),s(!1)):await(async e=>{try{const t=await Sh(WC,e);return console.log("Document written with ID: ",t.id),t.id}catch(t){throw console.error("Error adding document: ",t),t}})(d),f({name:"",description:"",practitionerTitle:"",notes:"",subschools:[]}),c(!1);const e=await GC();h(e)}catch(e){console.error("Error adding/updating school:",e)}},className:"btnPrimary",children:"Confirm"}),(0,Re.jsx)("button",{onClick:()=>c(!1),className:"btnSecondary",children:"Cancel"})]})]}):(0,Re.jsx)("button",{onClick:()=>c(!0),className:"btnPrimary",children:"Add School"})}):null,u.map((e=>(0,Re.jsxs)("div",{className:HC.section,children:[(0,Re.jsx)("h2",{children:e.name}),(0,Re.jsx)("p",{className:"preserve-whitespace",children:e.description}),(0,Re.jsxs)("p",{children:[(0,Re.jsx)("strong",{children:"Practitioner:"})," ",e.practitionerTitle]}),(0,Re.jsxs)("p",{className:"preserve-whitespace",children:[(0,Re.jsx)("strong",{children:"Notes:"})," ",e.notes]}),(0,Re.jsx)("h2",{children:"SubSchools:"}),(0,Re.jsx)("div",{className:HC.subschoolsContainer,children:e.subschools.map(((e,t)=>(0,Re.jsxs)("div",{className:HC.subschoolCard,children:[(0,Re.jsxs)("h3",{onClick:()=>(e=>{g("/subschools/".concat(e.name),{state:{subschool:e,schoolId:a}})})(e),style:{cursor:"pointer",textDecoration:"underline"},children:[t+1,". ",e.name]}),(0,Re.jsx)("p",{className:"preserve-whitespace",children:e.description}),(0,Re.jsxs)("p",{children:[(0,Re.jsx)("strong",{children:"Practitioner:"})," ",e.practitionerTitle]}),(0,Re.jsxs)("p",{className:"preserve-whitespace",children:[(0,Re.jsx)("strong",{children:"Notes:"})," ",e.notes]})]},t)))}),n?(0,Re.jsx)("button",{onClick:()=>{(e=>{o(e.id),f(e),s(!0),c(!0)})(e),window.scrollTo(0,0)},style:{marginTop:"25px"},className:"btnPrimary",children:"Edit School"}):null]},e.id)))]})};const XC=function(){const{currentUser:e}=pg(),[n,r]=(0,t.useState)(!1),[i,s]=(0,t.useState)(!1),[a,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(!1),[u,h]=(0,t.useState)([]),[d,f]=(0,t.useState)({title:"",description:"",notes:"",commonSchools:[]});(0,t.useEffect)((()=>{(async()=>{try{"admin"===(await hg(e.uid)).role&&r(!0)}catch(t){console.error("Error fetching user role: ",t)}})(),(async()=>{try{const e=await QC();h(e)}catch(e){console.error("Error fetching classes: ",e)}})()}),[e]);const p=e=>{const{name:t,value:n}=e.target;f((e=>({...e,[t]:n})))};return(0,Re.jsxs)("div",{className:HC.container,children:[(0,Re.jsx)("h1",{children:"Magic Classes"}),n?(0,Re.jsx)(Re.Fragment,{children:l?(0,Re.jsxs)("div",{className:HC.subschoolInputsContainer,children:[(0,Re.jsx)("input",{type:"text",name:"title",placeholder:"Class Title",value:d.title,onChange:p,className:HC.schoolInput}),(0,Re.jsx)("input",{type:"text",name:"description",placeholder:"Description",value:d.description,onChange:p,className:HC.schoolInput}),(0,Re.jsx)("input",{type:"text",name:"notes",placeholder:"Notes",value:d.notes,onChange:p,className:HC.schoolInput}),(0,Re.jsx)("input",{type:"text",name:"commonSchools",placeholder:"Common Schools (comma separated)",value:d.commonSchools.join(", "),onChange:e=>f({...d,commonSchools:e.target.value.split(",").map((e=>e.trim()))}),className:HC.schoolInput}),(0,Re.jsxs)("div",{className:HC.buttonContainer,children:[(0,Re.jsx)("button",{onClick:async()=>{try{i?(await(async(e,t)=>{try{const n=bu(KC,e);await xh(n,t),console.log("Document updated with ID: ",n.id)}catch(n){throw console.error("Error updating document: ",n),n}})(a,d),s(!1)):await(async e=>{try{const t=await Sh(KC,e);return console.log("Document written with ID: ",t.id),t.id}catch(t){throw console.error("Error adding document: ",t),t}})(d),f({title:"",description:"",notes:"",commonSchools:[]}),c(!1);const e=await QC();h(e)}catch(e){console.error("Error adding/updating class:",e)}},className:"btnPrimary",children:"Confirm"}),(0,Re.jsx)("button",{onClick:()=>c(!1),className:"btnSecondary",children:"Cancel"})]})]}):(0,Re.jsx)("button",{onClick:()=>c(!0),className:"btnPrimary",children:"Add Class"})}):null,u.map((e=>(0,Re.jsxs)("div",{className:HC.section,children:[(0,Re.jsx)("h2",{children:e.title}),(0,Re.jsx)("p",{children:e.description}),(0,Re.jsxs)("p",{children:[(0,Re.jsx)("strong",{children:"Notes:"})," ",e.notes]}),(0,Re.jsxs)("p",{children:[(0,Re.jsx)("strong",{children:"Common Schools:"})," ",e.commonSchools.join(", ")]}),n?(0,Re.jsx)("button",{onClick:()=>(e=>{o(e.id),f(e),s(!0),c(!0)})(e),style:{marginTop:"25px"},className:"btnPrimary",children:"Edit"}):null]},e.id)))]})};const JC=function(){const{currentUser:e}=pg(),n=Q(),r=X(),{subschool:i,schoolId:s}=n.state,[a,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(i);(0,t.useEffect)((()=>{(async()=>{try{"admin"===(await hg(e.uid)).role&&o(!0)}catch(t){console.error("Error fetching user role: ",t)}})()}),[e]);const u=e=>{const{name:t,value:n}=e.target;c((e=>({...e,[t]:n})))};return(0,Re.jsxs)("div",{className:HC.container,children:[(0,Re.jsx)("h1",{children:"Edit Subschool"}),(0,Re.jsx)("div",{className:HC.subschoolInputsContainer,children:a?(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)("input",{type:"text",name:"name",placeholder:"Subschool Name",value:l.name,onChange:u}),(0,Re.jsx)("textarea",{type:"text",name:"description",placeholder:"Subschool Description",value:l.description,onChange:u}),(0,Re.jsx)("input",{type:"text",name:"practitionerTitle",placeholder:"Subschool Practitioner Title",value:l.practitionerTitle,onChange:u}),(0,Re.jsx)("textarea",{type:"text",name:"notes",placeholder:"Subschool Notes",value:l.notes,onChange:u}),(0,Re.jsxs)("div",{className:HC.buttonContainer,children:[(0,Re.jsx)("button",{onClick:async()=>{try{const e=await(async e=>{try{const t=bu(WC,e),n=await yh(t);if(n.exists())return{id:n.id,...n.data()};throw new Error("No such document!")}catch(t){throw console.error("Error getting document:",t),t}})(s),t=e.subschools.map((e=>e.name===i.name?l:e));await $C(s,{...e,subschools:t}),r("/schools")}catch(e){console.error("Error updating subschool:",e)}},className:"btnPrimary",children:"Save"}),(0,Re.jsx)("button",{onClick:()=>r("/magic/schools"),className:"btnSecondary",children:"Cancel"})]})]}):(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsxs)("p",{className:"preserve-whitespace",children:[(0,Re.jsx)("strong",{children:"Name:"})," ",l.name]}),(0,Re.jsxs)("p",{className:"preserve-whitespace",children:[(0,Re.jsx)("strong",{children:"Description:"})," ",l.description]}),(0,Re.jsxs)("p",{className:"preserve-whitespace",children:[(0,Re.jsx)("strong",{children:"Practitioner Title:"})," ",l.practitionerTitle]}),(0,Re.jsxs)("p",{className:"preserve-whitespace",children:[(0,Re.jsx)("strong",{children:"Notes:"})," ",l.notes]})]})})]})},ZC=()=>{const e=Q(),t=!["/login","/register"].includes(e.pathname);return(0,Re.jsxs)(Re.Fragment,{children:[t&&(0,Re.jsx)(Cg,{}),(0,Re.jsxs)(me,{children:[(0,Re.jsx)(fe,{path:"/",element:(0,Re.jsx)(bg,{element:(0,Re.jsx)(De,{})})}),(0,Re.jsx)(fe,{path:"/register",element:(0,Re.jsx)(yg,{})}),(0,Re.jsx)(fe,{path:"/login",element:(0,Re.jsx)(Sg,{})}),(0,Re.jsx)(fe,{path:"/profile",element:(0,Re.jsx)(bg,{element:(0,Re.jsx)(Wb,{})})}),(0,Re.jsx)(fe,{path:"/characters",element:(0,Re.jsx)(bg,{element:(0,Re.jsx)(Zb,{})})}),(0,Re.jsx)(fe,{path:"/characters/add",element:(0,Re.jsx)(bg,{element:(0,Re.jsx)(tw,{})})}),(0,Re.jsx)(fe,{path:"/characters/:characterId",element:(0,Re.jsx)(bg,{element:(0,Re.jsx)(fw,{})})}),(0,Re.jsx)(fe,{path:"/stories",element:(0,Re.jsx)(bg,{element:(0,Re.jsx)(WE,{})})}),(0,Re.jsx)(fe,{path:"/stories/:storyId",element:(0,Re.jsx)(bg,{element:(0,Re.jsx)(tC,{})})}),(0,Re.jsx)(fe,{path:"/stories/add",element:(0,Re.jsx)(bg,{element:(0,Re.jsx)(VE,{})})}),(0,Re.jsx)(fe,{path:"/stories/:storyId/chapters/:chapterId",element:(0,Re.jsx)(bg,{element:(0,Re.jsx)(ZE,{})})}),(0,Re.jsx)(fe,{path:"/stories/:storyId/add-chapter",element:(0,Re.jsx)(bg,{element:(0,Re.jsx)(iC,{})})}),(0,Re.jsx)(fe,{path:"/important-events",element:(0,Re.jsx)(bg,{element:(0,Re.jsx)(NC,{})})}),(0,Re.jsx)(fe,{path:"/important-events/:eventId",element:(0,Re.jsx)(bg,{element:(0,Re.jsx)(MC,{})})}),(0,Re.jsx)(fe,{path:"/locations",element:(0,Re.jsx)(bg,{element:(0,Re.jsx)(AC,{})})}),(0,Re.jsx)(fe,{path:"/locations/:locationId",element:(0,Re.jsx)(bg,{element:(0,Re.jsx)(DC,{})})}),(0,Re.jsx)(fe,{path:"/about",element:(0,Re.jsx)(bg,{element:(0,Re.jsx)(mw,{})})}),(0,Re.jsx)(fe,{path:"/magic",element:(0,Re.jsx)(bg,{element:(0,Re.jsx)(VC,{})})}),(0,Re.jsx)(fe,{path:"/magic/schools",element:(0,Re.jsx)(bg,{element:(0,Re.jsx)(YC,{})})}),(0,Re.jsx)(fe,{path:"/subschools/:name",element:(0,Re.jsx)(bg,{element:(0,Re.jsx)(JC,{})})}),(0,Re.jsx)(fe,{path:"/magic/classes",element:(0,Re.jsx)(bg,{element:(0,Re.jsx)(XC,{})})}),(0,Re.jsx)(fe,{path:"/bestiary",element:(0,Re.jsx)(bg,{element:(0,Re.jsx)(BC,{})})}),(0,Re.jsx)(fe,{path:"/maps",element:(0,Re.jsx)(bg,{element:(0,Re.jsx)(zC,{})})}),(0,Re.jsx)(fe,{path:"/timeline",element:(0,Re.jsx)(bg,{element:(0,Re.jsx)(pC,{})})}),(0,Re.jsx)(fe,{path:"*",element:(0,Re.jsx)(Ue,{})})]})]})},ek=()=>(0,Re.jsx)(mg,{children:(0,Re.jsx)(Se,{basename:"/LoreKeeper",children:(0,Re.jsx)(ZC,{})})}),tk=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:a}=t;n(e),r(e),i(e),s(e),a(e)}))};i.createRoot(document.getElementById("root")).render((0,Re.jsx)(t.StrictMode,{children:(0,Re.jsx)(ek,{})})),tk()})()})();
//# sourceMappingURL=main.1133c1c4.js.map